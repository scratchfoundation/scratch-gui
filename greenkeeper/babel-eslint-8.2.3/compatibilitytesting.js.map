{"version":3,"file":"compatibilitytesting.js","sources":["webpack:///src/examples/compatibility-testing.jsx"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {connect} from 'react-redux';\n\nimport AppStateHOC from '../lib/app-state-hoc.jsx';\nimport Controls from '../containers/controls.jsx';\nimport Stage from '../containers/stage.jsx';\nimport Box from '../components/box/box.jsx';\nimport GUI from '../containers/gui.jsx';\nimport ProjectLoaderHOC from '../lib/project-loader-hoc.jsx';\n\nconst mapStateToProps = state => ({vm: state.vm});\n\nconst VMStage = connect(mapStateToProps)(Stage);\nconst VMControls = connect(mapStateToProps)(Controls);\n\nconst DEFAULT_PROJECT_ID = '10015059';\n\nclass Player extends React.Component {\n    constructor (props) {\n        super(props);\n        this.updateProject = this.updateProject.bind(this);\n\n        this.state = {\n            projectId: window.location.hash.substring(1) || DEFAULT_PROJECT_ID\n        };\n    }\n    componentDidMount () {\n        window.addEventListener('hashchange', this.updateProject);\n        if (!window.location.hash.substring(1)) {\n            window.location.hash = DEFAULT_PROJECT_ID;\n        }\n    }\n    componentWillUnmount () {\n        window.addEventListener('hashchange', this.updateProject);\n    }\n    updateProject () {\n        this.setState({projectId: window.location.hash.substring(1)});\n    }\n    render () {\n        const width = 480;\n        const height = 360;\n        return (\n            <div style={{display: 'flex'}}>\n                <GUI\n                    {...this.props}\n                    width={width}\n                >\n                    <Box height={40}>\n                        <VMControls\n                            style={{\n                                marginRight: 10,\n                                height: 40\n                            }}\n                        />\n                    </Box>\n                    <VMStage\n                        height={height}\n                        width={width}\n                    />\n                </GUI>\n                <iframe\n                    allowFullScreen\n                    allowTransparency\n                    frameBorder=\"0\"\n                    height=\"402\"\n                    src={`https://scratch.mit.edu/projects/embed/${this.state.projectId}/?autostart=true`}\n                    width=\"485\"\n                />\n            </div>\n        );\n    }\n}\n\nconst App = AppStateHOC(ProjectLoaderHOC(Player));\n\nconst appTarget = document.createElement('div');\ndocument.body.appendChild(appTarget);\n\nReactDOM.render(<App />, appTarget);\n\n\n\n// WEBPACK FOOTER //\n// src/examples/compatibility-testing.jsx"],"mappings":";;;;;;;;;;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;AACA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AADA;AAJA;AAOA;AACA;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAEA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AADA;AADA;AAQA;AACA;AACA;AAFA;AAZA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAlBA;AA4BA;;;;AArDA;AACA;AAuDA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}