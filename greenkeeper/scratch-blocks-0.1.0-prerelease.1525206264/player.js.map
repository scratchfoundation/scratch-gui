{"version":3,"file":"player.js","sources":["webpack:///src/playground/error-boundary-hoc.jsx","webpack:///src/containers/error-boundary.jsx","webpack:///src/playground/player.jsx","webpack:///src/components/crash-message/crash-message.jsx","webpack:///./src/playground/player.css?d3aa","webpack:///./src/playground/player.css","webpack:///./src/components/crash-message/crash-message.css?b30f","webpack:///./src/components/crash-message/crash-message.css","webpack:///./src/components/crash-message/reload.svg"],"sourcesContent":["import React from 'react';\nimport ErrorBoundary from '../containers/error-boundary.jsx';\n\n/*\n * Higher Order Component to provide error boundary for wrapped component\n * @param {React.Component} WrappedComponent - component to provide state for\n * @returns {React.Component} component with error boundary\n */\nconst ErrorBoundaryHOC = function (WrappedComponent) {\n    const ErrorBoundaryWrapper = props => (\n        <ErrorBoundary>\n            <WrappedComponent {...props} />\n        </ErrorBoundary>\n    );\n    return ErrorBoundaryWrapper;\n};\n\nexport default ErrorBoundaryHOC;\n\n\n\n// WEBPACK FOOTER //\n// src/playground/error-boundary-hoc.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\nimport platform from 'platform';\nimport BrowserModalComponent from '../components/browser-modal/browser-modal.jsx';\nimport CrashMessageComponent from '../components/crash-message/crash-message.jsx';\nimport log from '../lib/log.js';\nimport analytics from '../lib/analytics';\n\nclass ErrorBoundary extends React.Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n            hasError: false\n        };\n    }\n\n    componentDidCatch (error, info) {\n        // Display fallback UI\n        this.setState({hasError: true});\n        log.error(`Unhandled Error: ${error.stack}\\nComponent stack: ${info.componentStack}`);\n        analytics.event({\n            category: 'error',\n            action: 'Fatal Error',\n            label: error.message\n        });\n    }\n\n    handleBack () {\n        window.history.back();\n    }\n\n    handleReload () {\n        window.location.replace(window.location.origin + window.location.pathname);\n    }\n\n    render () {\n        if (this.state.hasError) {\n            // don't use array.includes because that's something that causes IE to crash.\n            if (\n                platform.name === 'IE' ||\n                platform.name === 'Opera' ||\n                platform.name === 'Opera Mini' ||\n                platform.name === 'Silk') {\n                return <BrowserModalComponent onBack={this.handleBack} />;\n            }\n            return <CrashMessageComponent onReload={this.handleReload} />;\n        }\n        return this.props.children;\n    }\n}\n\nErrorBoundary.propTypes = {\n    children: PropTypes.node\n};\n\nexport default ErrorBoundary;\n\n\n\n// WEBPACK FOOTER //\n// src/containers/error-boundary.jsx","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Box from '../components/box/box.jsx';\nimport GUI from '../containers/gui.jsx';\nimport ErrorBoundaryHOC from './error-boundary-hoc.jsx';\n\nif (process.env.NODE_ENV === 'production' && typeof window === 'object') {\n    // Warn before navigating away\n    window.onbeforeunload = () => true;\n}\n\nimport styles from './player.css';\nconst Player = () => (\n    <Box className={styles.stageOnly}>\n        <GUI\n            isPlayerOnly\n            isFullScreen={false}\n        />\n    </Box>\n);\n\nconst App = ErrorBoundaryHOC(Player);\n\nconst appTarget = document.createElement('div');\ndocument.body.appendChild(appTarget);\n\nReactDOM.render(<App />, appTarget);\n\n\n\n// WEBPACK FOOTER //\n// src/playground/player.jsx","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Box from '../box/box.jsx';\nimport {FormattedMessage} from 'react-intl';\n\nimport styles from './crash-message.css';\nimport reloadIcon from './reload.svg';\n\nconst CrashMessage = props => (\n    <div className={styles.crashWrapper}>\n        <Box className={styles.body}>\n            <img\n                className={styles.reloadIcon}\n                src={reloadIcon}\n            />\n            <h2>\n                <FormattedMessage\n                    defaultMessage=\"Oops! Something went wrong.\"\n                    description=\"Unhandled error title\"\n                    id=\"gui.crashMessage.title\"\n                />\n            </h2>\n            <p>\n                { /* eslint-disable max-len */ }\n                <FormattedMessage\n                    defaultMessage=\"We are so sorry, but it looks like Scratch has crashed. This bug has been automatically reported to the Scratch Team. Please refresh your page to try again.\"\n                    description=\"Unhandled error description\"\n                    id=\"gui.crashMessage.description\"\n                />\n                { /* eslint-enable max-len */ }\n            </p>\n            <button\n                className={styles.reloadButton}\n                onClick={props.onReload}\n            >\n                Reload\n            </button>\n        </Box>\n    </div>\n);\n\nCrashMessage.propTypes = {\n    onReload: PropTypes.func.isRequired\n};\n\nexport default CrashMessage;\n\n\n\n// WEBPACK FOOTER //\n// src/components/crash-message/crash-message.jsx","\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--1-1!../../node_modules/postcss-loader/lib/index.js??postcss!./player.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--1-1!../../node_modules/postcss-loader/lib/index.js??postcss!./player.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--1-1!../../node_modules/postcss-loader/lib/index.js??postcss!./player.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/playground/player.css\n// module id = 570\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".player_stage-only_3WHZN {\\n    width: calc(480px + 1rem);\\n}\\n\\n.player_stage-only_3WHZN * {\\n    -webkit-box-sizing: border-box;\\n            box-sizing: border-box;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"stage-only\": \"player_stage-only_3WHZN\",\n\t\"stageOnly\": \"player_stage-only_3WHZN\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader??ref--1-1!./node_modules/postcss-loader/lib??postcss!./src/playground/player.css\n// module id = 571\n// module chunks = 1","\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-1!../../../node_modules/postcss-loader/lib/index.js??postcss!./crash-message.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js??ref--1-1!../../../node_modules/postcss-loader/lib/index.js??postcss!./crash-message.css\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js??ref--1-1!../../../node_modules/postcss-loader/lib/index.js??postcss!./crash-message.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/crash-message/crash-message.css\n// module id = 58\n// module chunks = 0 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/* #E5F0FF */ /* #E9F1FC */ /* #D9E3F2 */ /* 90% transparent version of motion-primary */ /* #FFFFFF */ /* 25% transparent version of ui-white */ /* 15% transparent version of black */ /* #575E75 */ /* #4C97FF */ /* #3373CC */ /* 35% transparent version of motion-primary */ /* #FF661A */ /* #E64D00 */ /* #CF63CF */ /* #BD42BD */ /* #FFAB19 */ /* #FF8C1A */ /* #0FBD8C */ /* layout contants from `layout-constants.js` */ body {\\n    font-family: \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif;\\n} h2 {\\n    font-size: 1.5rem;\\n    font-weight: bold;\\n} p {\\n    font-size: 1rem;\\n    line-height: 1.5em;\\n} .crash-message_crash-wrapper_25B61 {\\n    background-color: hsla(215, 100%, 65%, 1);\\n    width: 100%;\\n    height: 100%;\\n    display: -webkit-box;\\n    display: -webkit-flex;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-pack: center;\\n    -webkit-justify-content: center;\\n        -ms-flex-pack: center;\\n            justify-content: center;\\n    -webkit-box-align: center;\\n    -webkit-align-items: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n} .crash-message_body_1q0lu {\\n    width: 35%;\\n    color: white;\\n    text-align: center;\\n} .crash-message_reloadButton_FoS7x {\\n    border: 1px solid hsla(215, 100%, 65%, 1);\\n    border-radius: 0.25rem;\\n    padding: 0.5rem 2rem;\\n    background: white;\\n    color: hsla(215, 100%, 65%, 1);\\n    font-weight: bold;\\n    font-size: 0.875rem;\\n    cursor: pointer;\\n}\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"crash-wrapper\": \"crash-message_crash-wrapper_25B61\",\n\t\"crashWrapper\": \"crash-message_crash-wrapper_25B61\",\n\t\"body\": \"crash-message_body_1q0lu\",\n\t\"reloadButton\": \"crash-message_reloadButton_FoS7x\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader??ref--1-1!./node_modules/postcss-loader/lib??postcss!./src/components/crash-message/crash-message.css\n// module id = 59\n// module chunks = 0 1","module.exports = __webpack_public_path__ + \"static/assets/dd98971c2c185caf86144b6b5234d0fa.svg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/crash-message/reload.svg\n// module id = 60\n// module chunks = 0 1"],"mappings":";;;;;;;;;;;;;AAAA;AACA;;;AAAA;AACA;;;;;AACA;;;;;AAKA;AACA;AAAA;AACA;AAAA;AACA;AADA;AADA;AAKA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACjBA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AADA;AAFA;AAKA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;;;;AAxCA;AACA;AA0CA;AACA;AADA;AACA;AAGA;;;;;;;;;;;;ACvDA;AACA;;;AAAA;AACA;;;AACA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAMA;AACA;;;;;AANA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAFA;AADA;AADA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3BA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;AACA;AACA;;;AAAA;AACA;;;;;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AADA;AAOA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAHA;AAFA;AASA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AArBA;AADA;AADA;AACA;AAgCA;AACA;AADA;AACA;AAGA;;;;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACbA;;;;A","sourceRoot":""}