(function(undefined){var console,nil,BasicObject,_Object,Module,Class,global_object=this;if("undefined"!=typeof global&&(global_object=global),"undefined"!=typeof window&&(global_object=window),"log"in(console="object"==typeof global_object.console?global_object.console:null==global_object.console?global_object.console={}:{})||(console.log=function(){}),"warn"in console||(console.warn=console.log),void 0!==this.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;function BasicObject_alloc(){}function Object_alloc(){}function Class_alloc(){}function Module_alloc(){}function NilClass_alloc(){}var Opal=this.Opal={},BridgedClasses={};((Opal.global=global_object).Opal=Opal).config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var $hasOwn=Object.hasOwnProperty,unique_id=(Opal.slice=Array.prototype.slice,4);function const_get_name(cref,name){if(cref)return cref.$$const[name]}function const_lookup_ancestors(cref,name){var i,ii,ancestors;if(null!=cref)for(i=0,ii=(ancestors=Opal.ancestors(cref)).length;i<ii;i++)if(ancestors[i].$$const&&$hasOwn.call(ancestors[i].$$const,name))return ancestors[i].$$const[name]}function const_missing(cref,name,skip_missing){if(!skip_missing)return(cref||_Object).$const_missing(name)}function Opal_bridge_methods_to_constructor(target_constructor,donator){var i,method,methods=donator.$instance_methods();for(i=methods.length-1;0<=i;i--)method="$"+methods[i],Opal.bridge_method(target_constructor,donator,method,donator.$$proto[method])}Opal.uid=function(){return unique_id+=2},Opal.id=function(obj){return obj.$$is_number?2*obj+1:obj.$$id||(obj.$$id=Opal.uid())},Opal.gvars={},Opal.exit=function(status){Opal.gvars.DEBUG&&console.log("Exited with status "+status)},Opal.exceptions=[],Opal.pop_exception=function(){Opal.gvars["!"]=Opal.exceptions.pop()||nil},Opal.inspect=function(obj){return obj===undefined?"undefined":null===obj?"null":obj.$$class?obj.$inspect():obj.toString()},Opal.truthy=function(val){return val!==nil&&null!=val&&(!val.$$is_boolean||1==val)},Opal.falsy=function(val){return val===nil||null==val||val.$$is_boolean&&0==val},Opal.const_get_local=function(cref,name,skip_missing){var result;if(null!=cref){if("::"===cref&&(cref=_Object),!cref.$$is_a_module)throw new Opal.TypeError(cref.toString()+" is not a class/module");return null!=(result=const_get_name(cref,name))?result:null!=(result=const_missing(cref,name,skip_missing))?result:void 0}},Opal.const_get_qualified=function(cref,name,skip_missing){var result,cache,cached,current_version=Opal.const_cache_version;if(null!=cref){if("::"===cref&&(cref=_Object),!cref.$$is_a_module)throw new Opal.TypeError(cref.toString()+" is not a class/module");return null==(cache=cref.$$const_cache)&&(cache=cref.$$const_cache=Object.create(null)),null==(cached=cache[name])||cached[0]!==current_version?(null!=(result=const_get_name(cref,name))||(result=const_lookup_ancestors(cref,name)),cache[name]=[current_version,result]):result=cached[1],null!=result?result:const_missing(cref,name,skip_missing)}},Opal.const_cache_version=1,Opal.const_get_relative=function(nesting,name,skip_missing){var result,cache,cached,cref=nesting[0],current_version=Opal.const_cache_version;return null==(cache=nesting.$$const_cache)&&(cache=nesting.$$const_cache=Object.create(null)),null==(cached=cache[name])||cached[0]!==current_version?(null!=(result=const_get_name(cref,name))||null!=(result=function(nesting,name){var i,ii,constant;if(0!==nesting.length)for(i=0,ii=nesting.length;i<ii;i++)if(null!=(constant=nesting[i].$$const[name]))return constant}(nesting,name))||null!=(result=const_lookup_ancestors(cref,name))||(result=function(cref,name){if(null==cref||cref.$$is_module)return const_lookup_ancestors(_Object,name)}(cref,name)),cache[name]=[current_version,result]):result=cached[1],null!=result?result:const_missing(cref,name,skip_missing)},Opal.const_set=function(cref,name,value){return null!=cref&&"::"!==cref||(cref=_Object),value.$$is_a_module&&(null!=value.$$name&&value.$$name!==nil||(value.$$name=name),null==value.$$base_module&&(value.$$base_module=cref)),cref.$$const=cref.$$const||Object.create(null),cref.$$const[name]=value,Opal.const_cache_version++,cref===_Object&&(Opal[name]=value),value},Opal.constants=function(cref,inherit){null==inherit&&(inherit=!0);var module,i,ii,constant,modules=[cref],constants={};for(inherit&&(modules=modules.concat(Opal.ancestors(cref))),inherit&&cref.$$is_module&&(modules=modules.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object))),i=0,ii=modules.length;i<ii&&(module=modules[i],cref===_Object||module!=_Object);i++)for(constant in module.$$const)constants[constant]=!0;return Object.keys(constants)},Opal.const_remove=function(cref,name){if(Opal.const_cache_version++,null!=cref.$$const[name]){var old=cref.$$const[name];return delete cref.$$const[name],old}if(null!=cref.$$autoload&&null!=cref.$$autoload[name])return delete cref.$$autoload[name],nil;throw Opal.NameError.$new("constant "+cref+"::"+cref.$name()+" not defined")},Opal.klass=function(base,superclass,name,constructor){var klass,bridged,alloc;if(null==base&&(base=_Object),base.$$is_class||base.$$is_module||(base=base.$$class),"function"==typeof superclass&&(bridged=superclass,superclass=_Object),klass=const_get_name(base,name)){if(!klass.$$is_class)throw Opal.TypeError.$new(name+" is not a class");if(superclass&&klass.$$super!==superclass)throw Opal.TypeError.$new("superclass mismatch for class "+name);return klass}return null==superclass&&(superclass=_Object),alloc=bridged||Opal.boot_class_alloc(name,constructor,superclass),(klass=Opal.setup_class_object(name,alloc,superclass.$$name,superclass.constructor)).$$super=superclass,klass.$$parent=superclass,Opal.const_set(base,name,klass),base[name]=klass,bridged?Opal.bridge(klass,alloc):superclass.$inherited&&superclass.$inherited(klass),klass},Opal.boot_class_alloc=function(name,constructor,superclass){if(superclass){var alloc_proxy=function(){};alloc_proxy.prototype=superclass.$$proto||superclass.prototype,constructor.prototype=new alloc_proxy}return name&&(constructor.displayName=name+"_alloc"),constructor.prototype.constructor=constructor},Opal.setup_module_or_class=function(module){module.$$id=Opal.uid(),module.$$is_a_module=!0,module.$$inc=[],module.$$name=nil,module.$$const=Object.create(null),module.$$cvars=Object.create(null)},Opal.setup_class_object=function(name,alloc,superclass_name,superclass_alloc){var superclass_alloc_proxy=function(){};superclass_alloc_proxy.prototype=superclass_alloc.prototype,superclass_alloc_proxy.displayName=superclass_name;var singleton_class_alloc=function(){};singleton_class_alloc.prototype=new superclass_alloc_proxy;var klass=new singleton_class_alloc;return Opal.setup_module_or_class(klass),klass.$$alloc=alloc,klass.$$name=name||nil,singleton_class_alloc.displayName="#<Class:"+(name||"#<Class:"+klass.$$id+">")+">",klass.$$proto=alloc.prototype,(klass.$$proto.$$class=klass).constructor=singleton_class_alloc,klass.$$is_class=!0,klass.$$class=Class,klass},Opal.module=function(base,name){var module;if(null==base&&(base=_Object),base.$$is_class||base.$$is_module||(base=base.$$class),null==(module=const_get_name(base,name))&&base===_Object&&(module=const_lookup_ancestors(_Object,name)),module){if(!module.$$is_module&&module!==_Object)throw Opal.TypeError.$new(name+" is not a module")}else module=Opal.module_allocate(Module),Opal.const_set(base,name,module);return module},Opal.module_initialize=function(module,block){if(block!==nil){var block_self=block.$$s;block.$$s=null,block.call(module),block.$$s=block_self}return nil},Opal.module_allocate=function(superclass){var mtor=function(){};mtor.prototype=superclass.$$alloc.prototype;var module_constructor=function(){};module_constructor.prototype=new mtor;var module=new module_constructor;return Opal.setup_module_or_class(module),module.$$included_in=[],module_constructor.displayName="#<Class:#<Module:"+module.$$id+">>",module.$$proto={},module.constructor=module_constructor,module.$$is_module=!0,module.$$class=Module,module.$$super=superclass,module.$$parent=superclass,module},Opal.get_singleton_class=function(object){return object.$$meta?object.$$meta:object.$$is_class||object.$$is_module?Opal.build_class_singleton_class(object):Opal.build_object_singleton_class(object)},Opal.build_class_singleton_class=function(object){var alloc,superclass,klass;return object.$$meta?object.$$meta:(alloc=object.constructor,superclass=object===BasicObject?Class:Opal.build_class_singleton_class(object.$$super),(klass=Opal.setup_class_object(null,alloc,superclass.$$name,superclass.constructor)).$$super=superclass,klass.$$parent=superclass,klass.$$is_singleton=!0,(klass.$$singleton_of=object).$$meta=klass)},Opal.build_object_singleton_class=function(object){var superclass=object.$$class,name="#<Class:#<"+superclass.$$name+":"+superclass.$$id+">>",alloc=Opal.boot_class_alloc(name,function(){},superclass),klass=Opal.setup_class_object(name,alloc,superclass.$$name,superclass.constructor);return klass.$$super=superclass,klass.$$parent=superclass,klass.$$class=superclass.$$class,klass.$$proto=object,klass.$$is_singleton=!0,(klass.$$singleton_of=object).$$meta=klass},Opal.class_variables=function(module){var i,ancestors=Opal.ancestors(module),result={};for(i=ancestors.length-1;0<=i;i--){var ancestor=ancestors[i];for(var cvar in ancestor.$$cvars)result[cvar]=ancestor.$$cvars[cvar]}return result},Opal.class_variable_set=function(module,name,value){var i,ancestors=Opal.ancestors(module);for(i=ancestors.length-2;0<=i;i--){var ancestor=ancestors[i];if($hasOwn.call(ancestor.$$cvars,name))return ancestor.$$cvars[name]=value}return module.$$cvars[name]=value},Opal.bridge_method=function(target_constructor,from,name,body){var ancestors,i,ancestor,length;for(i=0,length=(ancestors=target_constructor.$$bridge.$ancestors()).length;i<length&&(ancestor=ancestors[i],!$hasOwn.call(ancestor.$$proto,name)||!ancestor.$$proto[name]||ancestor.$$proto[name].$$donated||ancestor.$$proto[name].$$stub||ancestor===from);i++)if(ancestor===from){target_constructor.prototype[name]=body;break}},Opal.bridge_methods=function(target,donator){var i,bridged=BridgedClasses[target.$__id__()],donator_id=donator.$__id__();if(bridged)for(BridgedClasses[donator_id]=bridged.slice(),i=bridged.length-1;0<=i;i--)Opal_bridge_methods_to_constructor(bridged[i],donator)},Opal.has_cyclic_dep=function has_cyclic_dep(base_id,deps,prop,seen){var i,dep_id,dep;for(i=deps.length-1;0<=i;i--)if(!seen[dep_id=(dep=deps[i]).$$id]){if(seen[dep_id]=!0,dep_id===base_id)return!0;if(has_cyclic_dep(base_id,dep[prop],prop,seen))return!0}return!1},Opal.append_features=function(module,includer){var iclass,methods,i;for(i=includer.$$inc.length-1;0<=i;i--)if(includer.$$inc[i]===module)return;if(!includer.$$is_class&&Opal.has_cyclic_dep(includer.$$id,[module],"$$inc",{}))throw Opal.ArgumentError.$new("cyclic include detected");for(Opal.const_cache_version++,includer.$$inc.push(module),module.$$included_in.push(includer),Opal.bridge_methods(includer,module),iclass={$$name:module.$$name,$$proto:module.$$proto,$$parent:includer.$$parent,$$module:module,$$iclass:!0},includer.$$parent=iclass,i=(methods=module.$instance_methods()).length-1;0<=i;i--)Opal.update_includer(module,includer,"$"+methods[i])},Opal.stubs={},Opal.bridge=function(klass,constructor){if(constructor.$$bridge)throw Opal.ArgumentError.$new("already bridged");for(var method_name in Opal.stub_subscribers.push(constructor.prototype),Opal.stubs)method_name in constructor.prototype||(constructor.prototype[method_name]=Opal.stub_for(method_name));constructor.prototype.$$class=klass;for(var target_constructor,donator,donator_id,ancestors=(constructor.$$bridge=klass).$ancestors(),i=ancestors.length-1;0<=i;i--)target_constructor=constructor,donator=ancestors[i],void 0,donator_id=donator.$__id__(),BridgedClasses[donator_id]||(BridgedClasses[donator_id]=[]),BridgedClasses[donator_id].push(target_constructor),Opal_bridge_methods_to_constructor(constructor,ancestors[i]);for(var name in BasicObject_alloc.prototype){var method=BasicObject_alloc.prototype[method];!method||!method.$$stub||name in constructor.prototype||(constructor.prototype[name]=method)}return klass},Opal.update_includer=function(module,includer,jsid){var dest,current,body,klass_includees,j,jj,current_owner_index,module_index;if(body=module.$$proto[jsid],current=(dest=includer.$$proto)[jsid],!dest.hasOwnProperty(jsid)||current.$$donated||current.$$stub)if(dest.hasOwnProperty(jsid)&&!current.$$stub){for(j=0,jj=(klass_includees=includer.$$inc).length;j<jj;j++)klass_includees[j]===current.$$donated&&(current_owner_index=j),klass_includees[j]===module&&(module_index=j);current_owner_index<=module_index&&(dest[jsid]=body,dest[jsid].$$donated=module)}else dest[jsid]=body,dest[jsid].$$donated=module;else;includer.$$included_in&&Opal.update_includers(includer,jsid)},Opal.update_includers=function(module,jsid){var i,ii,includee,included_in;if(included_in=module.$$included_in)for(i=0,ii=included_in.length;i<ii;i++)includee=included_in[i],Opal.update_includer(module,includee,jsid)},Opal.ancestors=function(module_or_class){for(var modules,i,j,jj,parent=module_or_class,result=[];parent;){for(result.push(parent),i=parent.$$inc.length-1;0<=i;i--)for(j=0,jj=(modules=Opal.ancestors(parent.$$inc[i])).length;j<jj;j++)result.push(modules[j]);parent=parent.$$is_singleton&&parent.$$singleton_of.$$is_module?parent.$$singleton_of.$$super:parent.$$is_class?parent.$$super:null}return result},Opal.add_stubs=function(stubs){var subscriber,i,j,method_name,stub,subscribers=Opal.stub_subscribers,ilength=stubs.length,jlength=subscribers.length,opal_stubs=Opal.stubs;for(i=0;i<ilength;i++)if(method_name=stubs[i],!opal_stubs.hasOwnProperty(method_name))for(opal_stubs[method_name]=!0,stub=Opal.stub_for(method_name),j=0;j<jlength;j++)method_name in(subscriber=subscribers[j])||(subscriber[method_name]=stub)},Opal.stub_subscribers=[BasicObject_alloc.prototype],Opal.add_stub_for=function(prototype,stub){var method_missing_stub=Opal.stub_for(stub);prototype[stub]=method_missing_stub},Opal.stub_for=function(method_name){function method_missing_stub(){this.$method_missing.$$p=method_missing_stub.$$p,method_missing_stub.$$p=null;for(var args_ary=new Array(arguments.length),i=0,l=args_ary.length;i<l;i++)args_ary[i]=arguments[i];return this.$method_missing.apply(this,[method_name.slice(1)].concat(args_ary))}return method_missing_stub.$$stub=!0,method_missing_stub},Opal.ac=function(actual,expected,object,meth){var inspect="";throw object.$$is_class||object.$$is_module?inspect+=object.$$name+".":inspect+=object.$$class.$$name+"#",inspect+=meth,Opal.ArgumentError.$new("["+inspect+"] wrong number of arguments("+actual+" for "+expected+")")},Opal.block_ac=function(actual,expected,context){var inspect="`block in "+context+"'";throw Opal.ArgumentError.$new(inspect+": wrong number of arguments ("+actual+" for "+expected+")")},Opal.find_super_dispatcher=function(obj,mid,current_func,defcheck,defs){var super_method;if(super_method=(defs?obj.$$is_class||obj.$$is_module?defs.$$super:obj.$$class.$$proto:Opal.find_obj_super_dispatcher(obj,mid,current_func))["$"+mid],!defcheck&&super_method.$$stub&&Opal.Kernel.$method_missing===obj.$method_missing)throw Opal.NoMethodError.$new("super: no superclass method `"+mid+"' for "+obj,mid);return super_method},Opal.find_iter_super_dispatcher=function(obj,jsid,current_func,defcheck,implicit){var call_jsid=jsid;if(!current_func)throw Opal.RuntimeError.$new("super called outside of method");if(implicit&&current_func.$$define_meth)throw Opal.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return current_func.$$def&&(call_jsid=current_func.$$jsid),Opal.find_super_dispatcher(obj,call_jsid,current_func,defcheck)},Opal.find_obj_super_dispatcher=function(obj,mid,current_func){var klass=obj.$$meta||obj.$$class;if(!(klass=Opal.find_owning_class(klass,current_func)))throw new Error("could not find current class for super()");return Opal.find_super_func(klass,"$"+mid,current_func)},Opal.find_owning_class=function(klass,current_func){for(var owner=current_func.$$owner;klass&&(!klass.$$iclass||klass.$$module!==current_func.$$donated)&&(!klass.$$iclass||klass.$$module!==owner)&&(!owner.$$is_singleton||klass!==owner.$$singleton_of.$$class)&&klass!==owner;)klass=klass.$$parent;return klass},Opal.find_super_func=function(owning_klass,jsid,current_func){for(var klass=owning_klass.$$parent;klass;){var working=klass.$$proto[jsid];if(working&&working!==current_func)break;klass=klass.$$parent}return klass.$$proto},Opal.ret=function(val){throw Opal.returner.$v=val,Opal.returner},Opal.brk=function(val,breaker){throw breaker.$v=val,breaker},Opal.new_brk=function(){return new Error("unexpected break")},Opal.yield1=function(block,arg){if("function"!=typeof block)throw Opal.LocalJumpError.$new("no block given");var has_mlhs=block.$$has_top_level_mlhs_arg,has_trailing_comma=block.$$has_trailing_comma_in_args;return(1<block.length||(has_mlhs||has_trailing_comma)&&1===block.length)&&(arg=Opal.to_ary(arg)),(1<block.length||has_trailing_comma&&1===block.length)&&arg.$$is_array?block.apply(null,arg):block(arg)},Opal.yieldX=function(block,args){if("function"!=typeof block)throw Opal.LocalJumpError.$new("no block given");if(1<block.length&&1===args.length&&args[0].$$is_array)return block.apply(null,args[0]);if(args.$$is_array)return block.apply(null,args);for(var args_ary=new Array(args.length),i=0,l=args_ary.length;i<l;i++)args_ary[i]=args[i];return block.apply(null,args_ary)},Opal.rescue=function(exception,candidates){for(var i=0;i<candidates.length;i++){var candidate=candidates[i];if(candidate.$$is_array){var result=Opal.rescue(exception,candidate);if(result)return result}else{if(candidate===Opal.JS.Error)return candidate;if(candidate["$==="](exception))return candidate}}return null},Opal.is_a=function(object,klass){if(object.$$meta===klass||object.$$class===klass)return!0;if(object.$$is_number&&klass.$$is_number_class)return!0;var i,length,ancestors=Opal.ancestors(object.$$is_class?Opal.get_singleton_class(object):object.$$meta||object.$$class);for(i=0,length=ancestors.length;i<length;i++)if(ancestors[i]===klass)return!0;return!1},Opal.to_hash=function(value){if(value.$$is_hash)return value;if(value["$respond_to?"]("to_hash",!0)){var hash=value.$to_hash();if(hash.$$is_hash)return hash;throw Opal.TypeError.$new("Can't convert "+value.$$class+" to Hash ("+value.$$class+"#to_hash gives "+hash.$$class+")")}throw Opal.TypeError.$new("no implicit conversion of "+value.$$class+" into Hash")},Opal.to_ary=function(value){if(value.$$is_array)return value;if(value["$respond_to?"]("to_ary",!0)){var ary=value.$to_ary();if(ary===nil)return[value];if(ary.$$is_array)return ary;throw Opal.TypeError.$new("Can't convert "+value.$$class+" to Array ("+value.$$class+"#to_ary gives "+ary.$$class+")")}return[value]},Opal.to_a=function(value){if(value.$$is_array)return value.slice();if(value["$respond_to?"]("to_a",!0)){var ary=value.$to_a();if(ary===nil)return[value];if(ary.$$is_array)return ary;throw Opal.TypeError.$new("Can't convert "+value.$$class+" to Array ("+value.$$class+"#to_a gives "+ary.$$class+")")}return[value]},Opal.extract_kwargs=function(parameters){var kwargs=parameters[parameters.length-1];return null!=kwargs&&kwargs["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(parameters,parameters.length-1,1),kwargs.$to_hash()):Opal.hash2([],{})},Opal.kwrestargs=function(given_args,used_args){var keys=[],map={},key=null,given_map=given_args.$$smap;for(key in given_map)used_args[key]||(keys.push(key),map[key]=given_map[key]);return Opal.hash2(keys,map)},Opal.send=function(recv,method,args,block){var body="string"==typeof method?recv["$"+method]:method;return null!=body?(body.$$p=block,body.apply(recv,args)):recv.$method_missing.apply(recv,[method].concat(args))},Opal.def=function(obj,jsid,body){obj.$$eval||!obj.$$is_class&&!obj.$$is_module?Opal.defs(obj,jsid,body):Opal.defn(obj,jsid,body)},Opal.defn=function(obj,jsid,body){(obj.$$proto[jsid]=body).$$owner=obj,null==body.displayName&&(body.displayName=jsid.substr(1)),obj.$$is_module&&(Opal.update_includers(obj,jsid),obj.$$module_function&&Opal.defs(obj,jsid,body));var bridged=obj.$__id__&&!obj.$__id__.$$stub&&BridgedClasses[obj.$__id__()];if(bridged)for(var i=bridged.length-1;0<=i;i--)Opal.bridge_method(bridged[i],obj,jsid,body);var singleton_of=obj.$$singleton_of;return!obj.$method_added||obj.$method_added.$$stub||singleton_of?singleton_of&&singleton_of.$singleton_method_added&&!singleton_of.$singleton_method_added.$$stub&&singleton_of.$singleton_method_added(jsid.substr(1)):obj.$method_added(jsid.substr(1)),nil},Opal.defs=function(obj,jsid,body){Opal.defn(Opal.get_singleton_class(obj),jsid,body)},Opal.rdef=function(obj,jsid){if(!$hasOwn.call(obj.$$proto,jsid))throw Opal.NameError.$new("method '"+jsid.substr(1)+"' not defined in "+obj.$name());delete obj.$$proto[jsid],obj.$$is_singleton?obj.$$proto.$singleton_method_removed&&!obj.$$proto.$singleton_method_removed.$$stub&&obj.$$proto.$singleton_method_removed(jsid.substr(1)):obj.$method_removed&&!obj.$method_removed.$$stub&&obj.$method_removed(jsid.substr(1))},Opal.udef=function(obj,jsid){if(!obj.$$proto[jsid]||obj.$$proto[jsid].$$stub)throw Opal.NameError.$new("method '"+jsid.substr(1)+"' not defined in "+obj.$name());Opal.add_stub_for(obj.$$proto,jsid),obj.$$is_singleton?obj.$$proto.$singleton_method_undefined&&!obj.$$proto.$singleton_method_undefined.$$stub&&obj.$$proto.$singleton_method_undefined(jsid.substr(1)):obj.$method_undefined&&!obj.$method_undefined.$$stub&&obj.$method_undefined(jsid.substr(1))},Opal.alias=function(obj,name,old){var alias,id="$"+name,old_id="$"+old,body=obj.$$proto["$"+old];if(obj.$$eval)return Opal.alias(Opal.get_singleton_class(obj),name,old);if("function"!=typeof body||body.$$stub){for(var ancestor=obj.$$super;"function"!=typeof body&&ancestor;)body=ancestor[old_id],ancestor=ancestor.$$super;if("function"!=typeof body||body.$$stub)throw Opal.NameError.$new("undefined method `"+old+"' for class `"+obj.$name()+"'")}return body.$$alias_of&&(body=body.$$alias_of),(alias=function(){var args,i,ii,block=alias.$$p;for(args=new Array(arguments.length),i=0,ii=arguments.length;i<ii;i++)args[i]=arguments[i];return null!=block&&(alias.$$p=null),Opal.send(this,body,args,block)}).displayName=name,alias.length=body.length,alias.$$arity=body.$$arity,alias.$$parameters=body.$$parameters,alias.$$source_location=body.$$source_location,alias.$$alias_of=body,alias.$$alias_name=name,Opal.defn(obj,id,alias),obj},Opal.alias_native=function(obj,name,native_name){var id="$"+name,body=obj.$$proto[native_name];if("function"!=typeof body||body.$$stub)throw Opal.NameError.$new("undefined native method `"+native_name+"' for class `"+obj.$name()+"'");return Opal.defn(obj,id,body),obj},Opal.hash_init=function(hash){hash.$$smap=Object.create(null),hash.$$map=Object.create(null),hash.$$keys=[]},Opal.hash_clone=function(from_hash,to_hash){to_hash.$$none=from_hash.$$none,to_hash.$$proc=from_hash.$$proc;for(var key,value,i=0,keys=from_hash.$$keys,smap=from_hash.$$smap,len=keys.length;i<len;i++)(key=keys[i]).$$is_string?value=smap[key]:(value=key.value,key=key.key),Opal.hash_put(to_hash,key,value)},Opal.hash_put=function(hash,key,value){if(key.$$is_string)return $hasOwn.call(hash.$$smap,key)||hash.$$keys.push(key),void(hash.$$smap[key]=value);var key_hash,bucket,last_bucket;if(key_hash=hash.$$by_identity?Opal.id(key):key.$hash(),!$hasOwn.call(hash.$$map,key_hash))return bucket={key:key,key_hash:key_hash,value:value},hash.$$keys.push(bucket),void(hash.$$map[key_hash]=bucket);for(bucket=hash.$$map[key_hash];bucket;){if(key===bucket.key||key["$eql?"](bucket.key)){last_bucket=undefined,bucket.value=value;break}bucket=(last_bucket=bucket).next}last_bucket&&(bucket={key:key,key_hash:key_hash,value:value},hash.$$keys.push(bucket),last_bucket.next=bucket)},Opal.hash_get=function(hash,key){if(key.$$is_string)return $hasOwn.call(hash.$$smap,key)?hash.$$smap[key]:void 0;var key_hash,bucket;if(key_hash=hash.$$by_identity?Opal.id(key):key.$hash(),$hasOwn.call(hash.$$map,key_hash))for(bucket=hash.$$map[key_hash];bucket;){if(key===bucket.key||key["$eql?"](bucket.key))return bucket.value;bucket=bucket.next}},Opal.hash_delete=function(hash,key){var i,value,keys=hash.$$keys,length=keys.length;if(key.$$is_string){if(!$hasOwn.call(hash.$$smap,key))return;for(i=0;i<length;i++)if(keys[i]===key){keys.splice(i,1);break}return value=hash.$$smap[key],delete hash.$$smap[key],value}var key_hash=key.$hash();if($hasOwn.call(hash.$$map,key_hash))for(var last_bucket,bucket=hash.$$map[key_hash];bucket;){if(key===bucket.key||key["$eql?"](bucket.key)){for(value=bucket.value,i=0;i<length;i++)if(keys[i]===bucket){keys.splice(i,1);break}return last_bucket&&bucket.next?last_bucket.next=bucket.next:last_bucket?delete last_bucket.next:bucket.next?hash.$$map[key_hash]=bucket.next:delete hash.$$map[key_hash],value}bucket=(last_bucket=bucket).next}},Opal.hash_rehash=function(hash){for(var key_hash,bucket,last_bucket,i=0,length=hash.$$keys.length;i<length;i++)if(!hash.$$keys[i].$$is_string&&(key_hash=hash.$$keys[i].key.$hash())!==hash.$$keys[i].key_hash){for(bucket=hash.$$map[hash.$$keys[i].key_hash],last_bucket=undefined;bucket;){if(bucket===hash.$$keys[i]){last_bucket&&bucket.next?last_bucket.next=bucket.next:last_bucket?delete last_bucket.next:bucket.next?hash.$$map[hash.$$keys[i].key_hash]=bucket.next:delete hash.$$map[hash.$$keys[i].key_hash];break}bucket=(last_bucket=bucket).next}if(hash.$$keys[i].key_hash=key_hash,$hasOwn.call(hash.$$map,key_hash)){for(bucket=hash.$$map[key_hash],last_bucket=undefined;bucket;){if(bucket===hash.$$keys[i]){last_bucket=undefined;break}bucket=(last_bucket=bucket).next}last_bucket&&(last_bucket.next=hash.$$keys[i])}else hash.$$map[key_hash]=hash.$$keys[i]}},Opal.hash=function(){var args,hash,i,length,key,value,arguments_length=arguments.length;if(1===arguments_length&&arguments[0].$$is_hash)return arguments[0];if(hash=new Opal.Hash.$$alloc,Opal.hash_init(hash),1===arguments_length&&arguments[0].$$is_array){for(length=(args=arguments[0]).length,i=0;i<length;i++){if(2!==args[i].length)throw Opal.ArgumentError.$new("value not of length 2: "+args[i].$inspect());key=args[i][0],value=args[i][1],Opal.hash_put(hash,key,value)}return hash}if(1===arguments_length){for(key in args=arguments[0])$hasOwn.call(args,key)&&(value=args[key],Opal.hash_put(hash,key,value));return hash}if(arguments_length%2!=0)throw Opal.ArgumentError.$new("odd number of arguments for Hash");for(i=0;i<arguments_length;i+=2)key=arguments[i],value=arguments[i+1],Opal.hash_put(hash,key,value);return hash},Opal.hash2=function(keys,smap){var hash=new Opal.Hash.$$alloc;return hash.$$smap=smap,hash.$$map=Object.create(null),hash.$$keys=keys,hash},Opal.range=function(first,last,exc){var range=new Opal.Range.$$alloc;return range.begin=first,range.end=last,range.excl=exc,range},Opal.ivar=function(name){return"constructor"===name||"displayName"===name||"__count__"===name||"__noSuchMethod__"===name||"__parent__"===name||"__proto__"===name||"hasOwnProperty"===name||"valueOf"===name?name+"$":name},Opal.escape_regexp=function(str){return str.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},Opal.modules={},Opal.loaded_features=["corelib/runtime"],Opal.current_dir=".",Opal.require_table={"corelib/runtime":!0},Opal.normalize=function(path){var parts,part,new_parts=[];"."!==Opal.current_dir&&(path=Opal.current_dir.replace(/\/*$/,"/")+path);for(var i=0,ii=(parts=(path=(path=path.replace(/^\.\//,"")).replace(/\.(rb|opal|js)$/,"")).split("/")).length;i<ii;i++)""!==(part=parts[i])&&(".."===part?new_parts.pop():new_parts.push(part));return new_parts.join("/")},Opal.loaded=function(paths){var i,l,path;for(i=0,l=paths.length;i<l;i++){if(path=Opal.normalize(paths[i]),Opal.require_table[path])return;Opal.loaded_features.push(path),Opal.require_table[path]=!0}},Opal.load=function(path){path=Opal.normalize(path),Opal.loaded([path]);var module=Opal.modules[path];if(module)module(Opal);else{var severity=Opal.config.missing_require_severity,message="cannot load such file -- "+path;"error"===severity?Opal.LoadError?Opal.LoadError.$new(message):function(){throw message}():"warning"===severity&&console.warn("WARNING: LoadError: "+message)}return!0},Opal.require=function(path){return path=Opal.normalize(path),!Opal.require_table[path]&&Opal.load(path)},Opal.boot_class_alloc("BasicObject",BasicObject_alloc),Opal.boot_class_alloc("Object",Object_alloc,BasicObject_alloc),Opal.boot_class_alloc("Module",Module_alloc,Object_alloc),Opal.boot_class_alloc("Class",Class_alloc,Module_alloc),Opal.BasicObject=BasicObject=Opal.setup_class_object("BasicObject",BasicObject_alloc,"Class",Class_alloc),Opal.Object=_Object=Opal.setup_class_object("Object",Object_alloc,"BasicObject",BasicObject.constructor),Opal.Module=Module=Opal.setup_class_object("Module",Module_alloc,"Object",_Object.constructor),Opal.Class=Class=Opal.setup_class_object("Class",Class_alloc,"Module",Module.constructor),BasicObject.$$const.BasicObject=BasicObject,Opal.const_set(_Object,"BasicObject",BasicObject),Opal.const_set(_Object,"Object",_Object),Opal.const_set(_Object,"Module",Module),Opal.const_set(_Object,"Class",Class),BasicObject.$$class=Class,_Object.$$class=Class,(Module.$$class=Class).$$class=Class,BasicObject.$$super=null,_Object.$$super=BasicObject,Module.$$super=_Object,Class.$$super=Module,BasicObject.$$parent=null,_Object.$$parent=BasicObject,Module.$$parent=_Object,Class.$$parent=Module,_Object.$$proto.toString=function(){var to_s=this.$to_s();return to_s.$$is_string&&"object"==typeof to_s?to_s.valueOf():to_s},_Object.$$proto.$require=Opal.require,Opal.top=new _Object.$$alloc,Opal.klass(_Object,_Object,"NilClass",NilClass_alloc),(nil=Opal.nil=new NilClass_alloc).$$id=4,nil.call=nil.apply=function(){throw Opal.LocalJumpError.$new("no block given")},Opal.breaker=new Error("unexpected break (old)"),Opal.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$module=(Opal.breaker,Opal.slice,Opal.module),$truthy=Opal.truthy;return Opal.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$coerce_to!","$!=","$[]","$upcase"]),function($base,$parent_nesting){var TMP_Opal_bridge_1,TMP_Opal_type_error_2,TMP_Opal_coerce_to_3,TMP_Opal_coerce_to$B_4,TMP_Opal_coerce_to$q_5,TMP_Opal_try_convert_6,TMP_Opal_compare_7,TMP_Opal_destructure_8,TMP_Opal_respond_to$q_9,TMP_Opal_inspect_obj_10,TMP_Opal_instance_variable_name$B_11,TMP_Opal_class_variable_name$B_12,TMP_Opal_const_name$B_13,TMP_Opal_pristine_14,self=$module($base,"Opal"),$nesting=(self.$$proto,[self].concat($parent_nesting));Opal.defs(self,"$bridge",TMP_Opal_bridge_1=function(klass,constructor){return Opal.bridge(klass,constructor)},TMP_Opal_bridge_1.$$arity=2),Opal.defs(self,"$type_error",TMP_Opal_type_error_2=function(object,type,method,coerced){var $a;return null==method&&(method=nil),null==coerced&&(coerced=nil),$truthy($truthy($a=method)?coerced:$a)?Opal.const_get_relative($nesting,"TypeError").$new("can't convert "+object.$class()+" into "+type+" ("+object.$class()+"#"+method+" gives "+coerced.$class()):Opal.const_get_relative($nesting,"TypeError").$new("no implicit conversion of "+object.$class()+" into "+type)},TMP_Opal_type_error_2.$$arity=-3),Opal.defs(self,"$coerce_to",TMP_Opal_coerce_to_3=function(object,type,method){return $truthy(type["$==="](object))?object:($truthy(object["$respond_to?"](method))||this.$raise(this.$type_error(object,type)),object.$__send__(method))},TMP_Opal_coerce_to_3.$$arity=3),Opal.defs(self,"$coerce_to!",TMP_Opal_coerce_to$B_4=function(object,type,method){var coerced;return coerced=this.$coerce_to(object,type,method),$truthy(type["$==="](coerced))||this.$raise(this.$type_error(object,type,method,coerced)),coerced},TMP_Opal_coerce_to$B_4.$$arity=3),Opal.defs(self,"$coerce_to?",TMP_Opal_coerce_to$q_5=function(object,type,method){var coerced=nil;return $truthy(object["$respond_to?"](method))?(coerced=this.$coerce_to(object,type,method),$truthy(coerced["$nil?"]())?nil:($truthy(type["$==="](coerced))||this.$raise(this.$type_error(object,type,method,coerced)),coerced)):nil},TMP_Opal_coerce_to$q_5.$$arity=3),Opal.defs(self,"$try_convert",TMP_Opal_try_convert_6=function(object,type,method){return $truthy(type["$==="](object))?object:$truthy(object["$respond_to?"](method))?object.$__send__(method):nil},TMP_Opal_try_convert_6.$$arity=3),Opal.defs(self,"$compare",TMP_Opal_compare_7=function(a,b){var compare;return compare=a["$<=>"](b),$truthy(compare===nil)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed"),compare},TMP_Opal_compare_7.$$arity=2),Opal.defs(self,"$destructure",TMP_Opal_destructure_8=function(args){if(1==args.length)return args[0];if(args.$$is_array)return args;for(var args_ary=new Array(args.length),i=0,l=args_ary.length;i<l;i++)args_ary[i]=args[i];return args_ary},TMP_Opal_destructure_8.$$arity=1),Opal.defs(self,"$respond_to?",TMP_Opal_respond_to$q_9=function(obj,method){return!(null==obj||!obj.$$class)&&obj["$respond_to?"](method)},TMP_Opal_respond_to$q_9.$$arity=2),Opal.defs(self,"$inspect_obj",TMP_Opal_inspect_obj_10=function(obj){return Opal.inspect(obj)},TMP_Opal_inspect_obj_10.$$arity=1),Opal.defs(self,"$instance_variable_name!",TMP_Opal_instance_variable_name$B_11=function(name){return name=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](name,Opal.const_get_relative($nesting,"String"),"to_str"),$truthy(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(name))||this.$raise(Opal.const_get_relative($nesting,"NameError").$new("'"+name+"' is not allowed as an instance variable name",name)),name},TMP_Opal_instance_variable_name$B_11.$$arity=1),Opal.defs(self,"$class_variable_name!",TMP_Opal_class_variable_name$B_12=function(name){return name=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](name,Opal.const_get_relative($nesting,"String"),"to_str"),$truthy(name.length<3||"@@"!==name.slice(0,2))&&this.$raise(Opal.const_get_relative($nesting,"NameError").$new("`"+name+"' is not allowed as a class variable name",name)),name},TMP_Opal_class_variable_name$B_12.$$arity=1),Opal.defs(self,"$const_name!",TMP_Opal_const_name$B_13=function(const_name){return const_name=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](const_name,Opal.const_get_relative($nesting,"String"),"to_str"),$truthy(const_name["$[]"](0)["$!="](const_name["$[]"](0).$upcase()))&&this.$raise(Opal.const_get_relative($nesting,"NameError"),"wrong constant name "+const_name),const_name},TMP_Opal_const_name$B_13.$$arity=1),Opal.defs(self,"$pristine",TMP_Opal_pristine_14=function(owner_class,$a_rest){var method_names,method_name,method,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),method_names=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)method_names[$arg_idx-1]=arguments[$arg_idx];for(var i=method_names.length-1;0<=i;i--)method_name=method_names[i],(method=owner_class.$$proto["$"+method_name])&&!method.$$stub&&(method.$$pristine=!0);return nil},TMP_Opal_pristine_14.$$arity=-2)}($nesting[0],$nesting)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!","$start_with?","$to_proc","$lambda","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$+","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$parent_nesting){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_Module_allocate_1,TMP_Module_initialize_2,TMP_Module_$eq$eq$eq_3,TMP_Module_$lt_4,TMP_Module_$lt$eq_5,TMP_Module_$gt_6,TMP_Module_$gt$eq_7,TMP_Module_$lt$eq$gt_8,TMP_Module_alias_method_9,TMP_Module_alias_native_10,TMP_Module_ancestors_11,TMP_Module_append_features_12,TMP_Module_attr_accessor_13,TMP_Module_attr_reader_14,TMP_Module_attr_writer_15,TMP_Module_autoload_16,TMP_Module_class_variables_17,TMP_Module_class_variable_get_18,TMP_Module_class_variable_set_19,TMP_Module_class_variable_defined$q_20,TMP_Module_remove_class_variable_21,TMP_Module_constants_22,TMP_Module_constants_23,TMP_Module_nesting_24,TMP_Module_const_defined$q_25,TMP_Module_const_get_27,TMP_Module_const_missing_28,TMP_Module_const_set_29,TMP_Module_public_constant_30,TMP_Module_define_method_31,TMP_Module_remove_method_33,TMP_Module_singleton_class$q_34,TMP_Module_include_35,TMP_Module_included_modules_36,TMP_Module_include$q_37,TMP_Module_instance_method_38,TMP_Module_instance_methods_39,TMP_Module_included_40,TMP_Module_extended_41,TMP_Module_method_added_42,TMP_Module_method_removed_43,TMP_Module_method_undefined_44,TMP_Module_module_eval_45,TMP_Module_module_exec_47,TMP_Module_method_defined$q_48,TMP_Module_module_function_49,TMP_Module_name_50,TMP_Module_remove_const_51,TMP_Module_to_s_52,TMP_Module_undef_method_53,TMP_Module_instance_variables_54,TMP_Module_dup_55,TMP_Module_copy_class_variables_56,TMP_Module_copy_constants_57;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){return Opal.module_allocate(this)},TMP_Module_allocate_1.$$arity=0),Opal.defn(self,"$initialize",TMP_Module_initialize_2=function(){var $iter=TMP_Module_initialize_2.$$p,block=$iter||nil;return $iter&&(TMP_Module_initialize_2.$$p=null),Opal.module_initialize(this,block)},TMP_Module_initialize_2.$$arity=0),Opal.defn(self,"$===",TMP_Module_$eq$eq$eq_3=function(object){return!$truthy(null==object)&&Opal.is_a(object,this)},TMP_Module_$eq$eq$eq_3.$$arity=1),Opal.defn(self,"$<",TMP_Module_$lt_4=function(other){$truthy(Opal.const_get_relative($nesting,"Module")["$==="](other))||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"compared with non class/module");var ancestors,i,length;if(this===other)return!1;for(i=0,length=(ancestors=Opal.ancestors(this)).length;i<length;i++)if(ancestors[i]===other)return!0;for(i=0,length=(ancestors=Opal.ancestors(other)).length;i<length;i++)if(ancestors[i]===this)return!1;return nil},TMP_Module_$lt_4.$$arity=1),Opal.defn(self,"$<=",TMP_Module_$lt$eq_5=function(other){var $a;return $truthy($a=this["$equal?"](other))?$a:$rb_lt(this,other)},TMP_Module_$lt$eq_5.$$arity=1),Opal.defn(self,"$>",TMP_Module_$gt_6=function(other){return $truthy(Opal.const_get_relative($nesting,"Module")["$==="](other))||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"compared with non class/module"),$rb_lt(other,this)},TMP_Module_$gt_6.$$arity=1),Opal.defn(self,"$>=",TMP_Module_$gt$eq_7=function(other){var $a;return $truthy($a=this["$equal?"](other))?$a:$rb_gt(this,other)},TMP_Module_$gt$eq_7.$$arity=1),Opal.defn(self,"$<=>",TMP_Module_$lt$eq$gt_8=function(other){var lt=nil;return this===other?0:$truthy(Opal.const_get_relative($nesting,"Module")["$==="](other))?(lt=$rb_lt(this,other),$truthy(lt["$nil?"]())?nil:$truthy(lt)?-1:1):nil},TMP_Module_$lt$eq$gt_8.$$arity=1),Opal.defn(self,"$alias_method",TMP_Module_alias_method_9=function(newname,oldname){return Opal.alias(this,newname,oldname),this},TMP_Module_alias_method_9.$$arity=2),Opal.defn(self,"$alias_native",TMP_Module_alias_native_10=function(mid,jsid){return null==jsid&&(jsid=mid),Opal.alias_native(this,mid,jsid),this},TMP_Module_alias_native_10.$$arity=-2),Opal.defn(self,"$ancestors",TMP_Module_ancestors_11=function(){return Opal.ancestors(this)},TMP_Module_ancestors_11.$$arity=0),Opal.defn(self,"$append_features",TMP_Module_append_features_12=function(includer){return Opal.append_features(this,includer),this},TMP_Module_append_features_12.$$arity=1),Opal.defn(self,"$attr_accessor",TMP_Module_attr_accessor_13=function($a_rest){var names,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),names=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)names[$arg_idx-0]=arguments[$arg_idx];return $send(this,"attr_reader",Opal.to_a(names)),$send(this,"attr_writer",Opal.to_a(names))},TMP_Module_attr_accessor_13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.defn(self,"$attr_reader",TMP_Module_attr_reader_14=function($a_rest){var names,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),names=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)names[$arg_idx-0]=arguments[$arg_idx];for(var proto=this.$$proto,i=names.length-1;0<=i;i--){var name=names[i],id="$"+name,ivar=Opal.ivar(name),body=function(ivar){return function(){return null==this[ivar]?nil:this[ivar]}}(ivar);proto[ivar]=nil,body.$$parameters=[],body.$$arity=0,this.$$is_singleton?proto.constructor.prototype[id]=body:Opal.defn(this,id,body)}return nil},TMP_Module_attr_reader_14.$$arity=-1),Opal.defn(self,"$attr_writer",TMP_Module_attr_writer_15=function($a_rest){var names,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),names=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)names[$arg_idx-0]=arguments[$arg_idx];for(var proto=this.$$proto,i=names.length-1;0<=i;i--){var name=names[i],id="$"+name+"=",ivar=Opal.ivar(name),body=function(ivar){return function(value){return this[ivar]=value}}(ivar);body.$$parameters=[["req"]],body.$$arity=1,proto[ivar]=nil,this.$$is_singleton?proto.constructor.prototype[id]=body:Opal.defn(this,id,body)}return nil},TMP_Module_attr_writer_15.$$arity=-1),Opal.defn(self,"$autoload",TMP_Module_autoload_16=function(const$,path){return null==this.$$autoload&&(this.$$autoload={}),Opal.const_cache_version++,this.$$autoload[const$]=path,nil},TMP_Module_autoload_16.$$arity=2),Opal.defn(self,"$class_variables",TMP_Module_class_variables_17=function(){return Object.keys(Opal.class_variables(this))},TMP_Module_class_variables_17.$$arity=0),Opal.defn(self,"$class_variable_get",TMP_Module_class_variable_get_18=function(name){name=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](name);var value=Opal.class_variables(this)[name];return null==value&&this.$raise(Opal.const_get_relative($nesting,"NameError").$new("uninitialized class variable "+name+" in "+this,name)),value},TMP_Module_class_variable_get_18.$$arity=1),Opal.defn(self,"$class_variable_set",TMP_Module_class_variable_set_19=function(name,value){return name=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](name),Opal.class_variable_set(this,name,value)},TMP_Module_class_variable_set_19.$$arity=2),Opal.defn(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_20=function(name){return name=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](name),Opal.class_variables(this).hasOwnProperty(name)},TMP_Module_class_variable_defined$q_20.$$arity=1),Opal.defn(self,"$remove_class_variable",TMP_Module_remove_class_variable_21=function(name){if(name=Opal.const_get_relative($nesting,"Opal")["$class_variable_name!"](name),Opal.hasOwnProperty.call(this.$$cvars,name)){var value=this.$$cvars[name];return delete this.$$cvars[name],value}this.$raise(Opal.const_get_relative($nesting,"NameError").$new("cannot remove "+name+" for "+this))},TMP_Module_remove_class_variable_21.$$arity=1),Opal.defn(self,"$constants",TMP_Module_constants_22=function(inherit){return null==inherit&&(inherit=!0),Opal.constants(this,inherit)},TMP_Module_constants_22.$$arity=-1),Opal.defs(self,"$constants",TMP_Module_constants_23=function(inherit){if(null!=inherit)return Opal.constants(this,inherit);var constant,i,ii,nesting=(this.$$nesting||[]).concat(Opal.Object),constants={};for(i=0,ii=nesting.length;i<ii;i++)for(constant in nesting[i].$$const)constants[constant]=!0;return Object.keys(constants)},TMP_Module_constants_23.$$arity=-1),Opal.defs(self,"$nesting",TMP_Module_nesting_24=function(){return this.$$nesting||[]},TMP_Module_nesting_24.$$arity=0),Opal.defn(self,"$const_defined?",TMP_Module_const_defined$q_25=function(name,inherit){null==inherit&&(inherit=!0),name=Opal.const_get_relative($nesting,"Opal")["$const_name!"](name),$truthy(name["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+name,name));var i,ii,modules=[this];for(inherit&&(modules=modules.concat(Opal.ancestors(this)),this.$$is_module&&(modules=modules.concat([Opal.Object]).concat(Opal.ancestors(Opal.Object)))),i=0,ii=modules.length;i<ii;i++)if(null!=modules[i].$$const[name])return!0;return!1},TMP_Module_const_defined$q_25.$$arity=-2),Opal.defn(self,"$const_get",TMP_Module_const_get_27=function(name,inherit){var TMP_26;return null==inherit&&(inherit=!0),0===(name=Opal.const_get_relative($nesting,"Opal")["$const_name!"](name)).indexOf("::")&&"::"!==name&&(name=name.slice(2)),$truthy(-1!=name.indexOf("::")&&"::"!=name)?$send(name.$split("::"),"inject",[this],((TMP_26=function(o,c){TMP_26.$$s;return null==o&&(o=nil),null==c&&(c=nil),o.$const_get(c)}).$$s=this,TMP_26.$$arity=2,TMP_26)):($truthy(name["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+name,name)),inherit?Opal.const_get_relative([this],name):Opal.const_get_local(this,name))},TMP_Module_const_get_27.$$arity=-2),Opal.defn(self,"$const_missing",TMP_Module_const_missing_28=function(name){var full_const_name,self=this;if(self.$$autoload){var file=self.$$autoload[name];if(file)return self.$require(file),self.$const_get(name)}return full_const_name=self["$=="](Opal.const_get_relative($nesting,"Object"))?name:self+"::"+name,self.$raise(Opal.const_get_relative($nesting,"NameError").$new("uninitialized constant "+full_const_name,name))},TMP_Module_const_missing_28.$$arity=1),Opal.defn(self,"$const_set",TMP_Module_const_set_29=function(name,value){var $a;return name=Opal.const_get_relative($nesting,"Opal")["$const_name!"](name),$truthy($truthy($a=name["$=~"](Opal.const_get_qualified(Opal.const_get_relative($nesting,"Opal"),"CONST_NAME_REGEXP"))["$!"]())?$a:name["$start_with?"]("::"))&&this.$raise(Opal.const_get_relative($nesting,"NameError").$new("wrong constant name "+name,name)),Opal.const_set(this,name,value),value},TMP_Module_const_set_29.$$arity=2),Opal.defn(self,"$public_constant",TMP_Module_public_constant_30=function(const_name){return nil},TMP_Module_public_constant_30.$$arity=1),Opal.defn(self,"$define_method",TMP_Module_define_method_31=function(name,method){var $a,TMP_32,self=this,$iter=TMP_Module_define_method_31.$$p,block=$iter||nil,$case=nil;$iter&&(TMP_Module_define_method_31.$$p=null),$truthy(void 0===method&&block===nil)&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"tried to create a Proc object without a block");var id="$"+name;return(block=$truthy($a=block)?$a:($case=method,Opal.const_get_relative($nesting,"Proc")["$==="]($case)?method:Opal.const_get_relative($nesting,"Method")["$==="]($case)?method.$to_proc().$$unbound:Opal.const_get_relative($nesting,"UnboundMethod")["$==="]($case)?$send(self,"lambda",[],((TMP_32=function($b_rest){var args,bound,self=TMP_32.$$s||this,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return bound=method.$bind(self),$send(bound,"call",Opal.to_a(args))}).$$s=self,TMP_32.$$arity=-1,TMP_32)):self.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+block.$class()+" (expected Proc/Method)"))).$$jsid=name,block.$$s=null,(block.$$def=block).$$define_meth=!0,Opal.defn(self,id,block),name},TMP_Module_define_method_31.$$arity=-2),Opal.defn(self,"$remove_method",TMP_Module_remove_method_33=function($a_rest){var names,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),names=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)names[$arg_idx-0]=arguments[$arg_idx];for(var i=0,length=names.length;i<length;i++)Opal.rdef(this,"$"+names[i]);return this},TMP_Module_remove_method_33.$$arity=-1),Opal.defn(self,"$singleton_class?",TMP_Module_singleton_class$q_34=function(){return!!this.$$is_singleton},TMP_Module_singleton_class$q_34.$$arity=0),Opal.defn(self,"$include",TMP_Module_include_35=function($a_rest){var mods,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),mods=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)mods[$arg_idx-0]=arguments[$arg_idx];for(var i=mods.length-1;0<=i;i--){var mod=mods[i];mod.$$is_module||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+mod.$class()+" (expected Module)"),mod.$append_features(this),mod.$included(this)}return this},TMP_Module_include_35.$$arity=-1),Opal.defn(self,"$included_modules",TMP_Module_included_modules_36=function(){var results,module_chain=function(klass){for(var included=[],i=0,ii=klass.$$inc.length;i<ii;i++){var mod_or_class=klass.$$inc[i];included.push(mod_or_class),included=included.concat(module_chain(mod_or_class))}return included};if(results=module_chain(this),this.$$is_class)for(var cls=this;cls;cls=cls.$$super)results=results.concat(module_chain(cls));return results},TMP_Module_included_modules_36.$$arity=0),Opal.defn(self,"$include?",TMP_Module_include$q_37=function(mod){mod.$$is_module||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+mod.$class()+" (expected Module)");var i,ii,mod2,ancestors=Opal.ancestors(this);for(i=0,ii=ancestors.length;i<ii;i++)if((mod2=ancestors[i])===mod&&mod2!==this)return!0;return!1},TMP_Module_include$q_37.$$arity=1),Opal.defn(self,"$instance_method",TMP_Module_instance_method_38=function(name){var meth=this.$$proto["$"+name];return meth&&!meth.$$stub||this.$raise(Opal.const_get_relative($nesting,"NameError").$new("undefined method `"+name+"' for class `"+this.$name()+"'",name)),Opal.const_get_relative($nesting,"UnboundMethod").$new(this,meth.$$owner||this,meth,name)},TMP_Module_instance_method_38.$$arity=1),Opal.defn(self,"$instance_methods",TMP_Module_instance_methods_39=function(include_super){null==include_super&&(include_super=!0);var value,methods=[],proto=this.$$proto;for(var prop in proto)if("$"===prop.charAt(0)&&"$"!==prop.charAt(1)&&"function"==typeof(value=proto[prop])&&!value.$$stub){if(!this.$$is_module){if(this!==Opal.BasicObject&&value===Opal.BasicObject.$$proto[prop])continue;if(!include_super&&!proto.hasOwnProperty(prop))continue;if(!include_super&&value.$$donated)continue}methods.push(prop.substr(1))}return methods},TMP_Module_instance_methods_39.$$arity=-1),Opal.defn(self,"$included",TMP_Module_included_40=function(mod){return nil},TMP_Module_included_40.$$arity=1),Opal.defn(self,"$extended",TMP_Module_extended_41=function(mod){return nil},TMP_Module_extended_41.$$arity=1),Opal.defn(self,"$method_added",TMP_Module_method_added_42=function($a_rest){return nil},TMP_Module_method_added_42.$$arity=-1),Opal.defn(self,"$method_removed",TMP_Module_method_removed_43=function($a_rest){return nil},TMP_Module_method_removed_43.$$arity=-1),Opal.defn(self,"$method_undefined",TMP_Module_method_undefined_44=function($a_rest){return nil},TMP_Module_method_undefined_44.$$arity=-1),Opal.defn(self,"$module_eval",TMP_Module_module_eval_45=function $$module_eval($a_rest){var $b,TMP_46,self=this,args,$iter=TMP_Module_module_eval_45.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Module_module_eval_45.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||Opal.const_get_relative($nesting,"Kernel").$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.const_get_relative($nesting,"Opal").$compile(string,compiling_options),block=$send(Opal.const_get_relative($nesting,"Kernel"),"proc",[],(TMP_46=function(){var self=TMP_46.$$s||this;return function(self){return eval(compiled)}(self)},TMP_46.$$s=self,TMP_46.$$arity=0,TMP_46))):$truthy($rb_gt(args.$size(),0))&&Opal.const_get_relative($nesting,"Kernel").$raise(Opal.const_get_relative($nesting,"ArgumentError"),$rb_plus("wrong number of arguments ("+args.$size()+" for 0)","\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n"));var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_45.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.defn(self,"$module_exec",TMP_Module_module_exec_47=function($a_rest){var args,$iter=TMP_Module_module_exec_47.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Module_module_exec_47.$$p=null),block===nil&&this.$raise(Opal.const_get_relative($nesting,"LocalJumpError"),"no block given");var result,block_self=block.$$s;return block.$$s=null,result=block.apply(this,args),block.$$s=block_self,result},TMP_Module_module_exec_47.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.defn(self,"$method_defined?",TMP_Module_method_defined$q_48=function(method){var body=this.$$proto["$"+method];return!!body&&!body.$$stub},TMP_Module_method_defined$q_48.$$arity=1),Opal.defn(self,"$module_function",TMP_Module_module_function_49=function($a_rest){var methods,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),methods=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)methods[$arg_idx-0]=arguments[$arg_idx];if(0===methods.length)this.$$module_function=!0;else for(var i=0,length=methods.length;i<length;i++){var id="$"+methods[i],func=this.$$proto[id];Opal.defs(this,id,func)}return this},TMP_Module_module_function_49.$$arity=-1),Opal.defn(self,"$name",TMP_Module_name_50=function(){if(this.$$full_name)return this.$$full_name;for(var result=[],base=this;base;){if(base.$$name===nil||null==base.$$name)return nil;if(result.unshift(base.$$name),(base=base.$$base_module)===Opal.Object)break}return 0===result.length?nil:this.$$full_name=result.join("::")},TMP_Module_name_50.$$arity=0),Opal.defn(self,"$remove_const",TMP_Module_remove_const_51=function(name){return Opal.const_remove(this,name)},TMP_Module_remove_const_51.$$arity=1),Opal.defn(self,"$to_s",TMP_Module_to_s_52=function(){var $a;return $truthy($a=Opal.Module.$name.call(this))?$a:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},TMP_Module_to_s_52.$$arity=0),Opal.defn(self,"$undef_method",TMP_Module_undef_method_53=function($a_rest){var names,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),names=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)names[$arg_idx-0]=arguments[$arg_idx];for(var i=0,length=names.length;i<length;i++)Opal.udef(this,"$"+names[i]);return this},TMP_Module_undef_method_53.$$arity=-1),Opal.defn(self,"$instance_variables",TMP_Module_instance_variables_54=function(){var consts=nil;Opal.Module.$$nesting=$nesting,consts=this.$constants();var result=[];for(var name in this)this.hasOwnProperty(name)&&"$"!==name.charAt(0)&&"constructor"!==name&&!consts["$include?"](name)&&result.push("@"+name);return result},TMP_Module_instance_variables_54.$$arity=0),Opal.defn(self,"$dup",TMP_Module_dup_55=function(){var $zuper_ii,$iter=TMP_Module_dup_55.$$p,copy=nil,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_Module_dup_55.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return(copy=$send(this,Opal.find_super_dispatcher(this,"dup",TMP_Module_dup_55,!1),$zuper,$iter)).$copy_class_variables(this),copy.$copy_constants(this),copy},TMP_Module_dup_55.$$arity=0),Opal.defn(self,"$copy_class_variables",TMP_Module_copy_class_variables_56=function(other){for(var name in other.$$cvars)this.$$cvars[name]=other.$$cvars[name]},TMP_Module_copy_class_variables_56.$$arity=1),Opal.defn(self,"$copy_constants",TMP_Module_copy_constants_57=function(other){var name,other_constants=other.$$const;for(name in other_constants)Opal.const_set(this,name,other_constants[name])},TMP_Module_copy_constants_57.$$arity=1),nil&&"copy_constants"}($nesting[0],null,$nesting)},Opal.modules["corelib/class"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$send=Opal.send;return Opal.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]),self.$require("corelib/module"),function($base,$super,$parent_nesting){function $Class(){}var TMP_Class_new_1,TMP_Class_allocate_2,TMP_Class_inherited_3,TMP_Class_initialize_dup_4,TMP_Class_new_5,TMP_Class_superclass_6,TMP_Class_to_s_7,self=$Class=$klass($base,null,"Class",$Class),$nesting=(self.$$proto,[self].concat($parent_nesting));return Opal.defs(self,"$new",TMP_Class_new_1=function(superclass){var $iter=TMP_Class_new_1.$$p,block=$iter||nil;if(null==superclass&&(superclass=Opal.const_get_relative($nesting,"Object")),$iter&&(TMP_Class_new_1.$$p=null),!superclass.$$is_class)throw Opal.TypeError.$new("superclass must be a Class");var alloc=Opal.boot_class_alloc(null,function(){},superclass),klass=Opal.setup_class_object(null,alloc,superclass.$$name,superclass.constructor);return klass.$$super=superclass,(klass.$$parent=superclass).$inherited(klass),Opal.module_initialize(klass,block),klass},TMP_Class_new_1.$$arity=-1),Opal.defn(self,"$allocate",TMP_Class_allocate_2=function(){var obj=new this.$$alloc;return obj.$$id=Opal.uid(),obj},TMP_Class_allocate_2.$$arity=0),Opal.defn(self,"$inherited",TMP_Class_inherited_3=function(cls){return nil},TMP_Class_inherited_3.$$arity=1),Opal.defn(self,"$initialize_dup",TMP_Class_initialize_dup_4=function(original){this.$initialize_copy(original),this.$$name=null,this.$$full_name=null},TMP_Class_initialize_dup_4.$$arity=1),Opal.defn(self,"$new",TMP_Class_new_5=function($a_rest){var args,$iter=TMP_Class_new_5.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Class_new_5.$$p=null);var object=this.$allocate();return Opal.send(object,object.$initialize,args,block),object},TMP_Class_new_5.$$arity=-1),Opal.defn(self,"$superclass",TMP_Class_superclass_6=function(){return this.$$super||nil},TMP_Class_superclass_6.$$arity=0),Opal.defn(self,"$to_s",TMP_Class_to_s_7=function(){var $iter=TMP_Class_to_s_7.$$p;$iter&&(TMP_Class_to_s_7.$$p=null);var singleton_of=this.$$singleton_of;return singleton_of&&(singleton_of.$$is_class||singleton_of.$$is_module)?"#<Class:"+singleton_of.$name()+">":singleton_of?"#<Class:#<"+singleton_of.$$class.$name()+":0x"+Opal.id(singleton_of).$to_s(16)+">>":$send(this,Opal.find_super_dispatcher(this,"to_s",TMP_Class_to_s_7,!1),[],null)},TMP_Class_to_s_7.$$arity=0),nil&&"to_s"}($nesting[0],0,$nesting)},Opal.modules["corelib/basic_object"]=function(Opal){function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$>","$new","$inspect"]),function($base,$super,$parent_nesting){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.$$proto,$nesting=[self].concat($parent_nesting),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,TMP_BasicObject___send___5,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,TMP_BasicObject_instance_exec_10,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,TMP_BasicObject_method_missing_14;return Opal.defn(self,"$initialize",TMP_BasicObject_initialize_1=function($a_rest){return nil},TMP_BasicObject_initialize_1.$$arity=-1),Opal.defn(self,"$==",TMP_BasicObject_$eq$eq_2=function(other){return this===other},TMP_BasicObject_$eq$eq_2.$$arity=1),Opal.defn(self,"$eql?",TMP_BasicObject_eql$q_3=function(other){return this["$=="](other)},TMP_BasicObject_eql$q_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$__id__",TMP_BasicObject___id___4=function(){return this.$$id||(this.$$id=Opal.uid())},TMP_BasicObject___id___4.$$arity=0),Opal.defn(self,"$__send__",TMP_BasicObject___send___5=function(symbol,$a_rest){var args,$iter=TMP_BasicObject___send___5.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];$iter&&(TMP_BasicObject___send___5.$$p=null);var func=this["$"+symbol];return func?(block!==nil&&(func.$$p=block),func.apply(this,args)):(block!==nil&&(this.$method_missing.$$p=block),this.$method_missing.apply(this,[symbol].concat(args)))},TMP_BasicObject___send___5.$$arity=-2),Opal.defn(self,"$!",TMP_BasicObject_$B_6=function(){return!1},TMP_BasicObject_$B_6.$$arity=0),Opal.defn(self,"$!=",TMP_BasicObject_$B$eq_7=function(other){return this["$=="](other)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1),Opal.defn(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a_rest){var $b,TMP_9,self=this,args,$iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$truthy($truthy($b=block["$nil?"]())?!!Opal.compile:$b)?($truthy($range(1,3,!1)["$cover?"](args.$size()))||Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:$truthy($b=file)?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.const_get_qualified("::","Opal").$compile(string,compiling_options),block=$send(Opal.const_get_qualified("::","Kernel"),"proc",[],(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9))):$truthy($rb_gt(args.$size(),0))&&Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"wrong number of arguments ("+args.$size()+" for 0)");var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1),Opal.defn(self,"$instance_exec",TMP_BasicObject_instance_exec_10=function($a_rest){var args,$iter=TMP_BasicObject_instance_exec_10.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_BasicObject_instance_exec_10.$$p=null),$truthy(block)||Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","ArgumentError"),"no block given");var result,block_self=block.$$s;if(block.$$s=null,this.$$is_class||this.$$is_module){this.$$eval=!0;try{result=block.apply(this,args)}finally{this.$$eval=!1}}else result=block.apply(this,args);return block.$$s=block_self,result},TMP_BasicObject_instance_exec_10.$$arity=-1),Opal.defn(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function($a_rest){return nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1),Opal.defn(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function($a_rest){return nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1),Opal.defn(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function($a_rest){return nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1),Opal.defn(self,"$method_missing",TMP_BasicObject_method_missing_14=function(symbol,$a_rest){var args,self=this,$iter=TMP_BasicObject_method_missing_14.$$p,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];return $iter&&(TMP_BasicObject_method_missing_14.$$p=null),Opal.const_get_qualified("::","Kernel").$raise(Opal.const_get_qualified("::","NoMethodError").$new($truthy(self.$inspect&&!self.$inspect.$$stub)?"undefined method `"+symbol+"' for "+self.$inspect()+":"+self.$$class:"undefined method `"+symbol+"' for "+self.$$class,symbol))},TMP_BasicObject_method_missing_14.$$arity=-2),nil&&"method_missing"}($nesting[0],null,$nesting)},Opal.modules["corelib/kernel"]=function(Opal){function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}Opal.top;var $nesting=[],nil=Opal.nil,$module=(Opal.breaker,Opal.slice,Opal.module),$truthy=Opal.truthy,$gvars=Opal.gvars,$hash2=Opal.hash2,$send=Opal.send,$klass=Opal.klass;return Opal.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$>","$size","$pop","$call","$coerce_to","$append_features","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$print","$format","$puts","$each","$<=","$empty?","$exception","$kind_of?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$srand","$new_seed","$sym","$arg","$open","$include"]),function($base,$parent_nesting){var TMP_Kernel_method_missing_1,TMP_Kernel_$eq$_2,TMP_Kernel_$B$_3,TMP_Kernel_$eq$eq$eq_4,TMP_Kernel_$lt$eq$gt_5,TMP_Kernel_method_6,TMP_Kernel_methods_7,TMP_Kernel_Array_8,TMP_Kernel_at_exit_9,TMP_Kernel_caller_10,TMP_Kernel_class_11,TMP_Kernel_copy_instance_variables_12,TMP_Kernel_copy_singleton_methods_13,TMP_Kernel_clone_14,TMP_Kernel_initialize_clone_15,TMP_Kernel_define_singleton_method_16,TMP_Kernel_dup_17,TMP_Kernel_initialize_dup_18,TMP_Kernel_enum_for_19,TMP_Kernel_equal$q_20,TMP_Kernel_exit_21,TMP_Kernel_extend_22,TMP_Kernel_format_23,TMP_Kernel_hash_24,TMP_Kernel_initialize_copy_25,TMP_Kernel_inspect_26,TMP_Kernel_instance_of$q_27,TMP_Kernel_instance_variable_defined$q_28,TMP_Kernel_instance_variable_get_29,TMP_Kernel_instance_variable_set_30,TMP_Kernel_remove_instance_variable_31,TMP_Kernel_instance_variables_32,TMP_Kernel_Integer_33,TMP_Kernel_Float_34,TMP_Kernel_Hash_35,TMP_Kernel_is_a$q_36,TMP_Kernel_itself_37,TMP_Kernel_lambda_38,TMP_Kernel_load_39,TMP_Kernel_loop_40,TMP_Kernel_nil$q_42,TMP_Kernel_printf_43,TMP_Kernel_proc_44,TMP_Kernel_puts_45,TMP_Kernel_p_47,TMP_Kernel_print_48,TMP_Kernel_warn_49,TMP_Kernel_raise_50,TMP_Kernel_rand_51,TMP_Kernel_respond_to$q_52,TMP_Kernel_respond_to_missing$q_53,TMP_Kernel_require_54,TMP_Kernel_require_relative_55,TMP_Kernel_require_tree_56,TMP_Kernel_singleton_class_57,TMP_Kernel_sleep_58,TMP_Kernel_srand_59,TMP_Kernel_String_60,TMP_Kernel_tap_61,TMP_Kernel_to_proc_62,TMP_Kernel_to_s_63,TMP_Kernel_catch_64,TMP_Kernel_throw_65,TMP_Kernel_open_66,self=$module($base,"Kernel"),$nesting=(self.$$proto,[self].concat($parent_nesting));Opal.defn(self,"$method_missing",TMP_Kernel_method_missing_1=function(symbol,$a_rest){var args,$iter=TMP_Kernel_method_missing_1.$$p,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];return $iter&&(TMP_Kernel_method_missing_1.$$p=null),this.$raise(Opal.const_get_relative($nesting,"NoMethodError").$new("undefined method `"+symbol+"' for "+this.$inspect(),symbol,args))},TMP_Kernel_method_missing_1.$$arity=-2),Opal.defn(self,"$=~",TMP_Kernel_$eq$_2=function(obj){return!1},TMP_Kernel_$eq$_2.$$arity=1),Opal.defn(self,"$!~",TMP_Kernel_$B$_3=function(obj){return this["$=~"](obj)["$!"]()},TMP_Kernel_$B$_3.$$arity=1),Opal.defn(self,"$===",TMP_Kernel_$eq$eq$eq_4=function(other){var $a;return $truthy($a=this.$object_id()["$=="](other.$object_id()))?$a:this["$=="](other)},TMP_Kernel_$eq$eq$eq_4.$$arity=1),Opal.defn(self,"$<=>",TMP_Kernel_$lt$eq$gt_5=function(other){this.$$comparable=!0;var x=this["$=="](other);return x&&x!==nil?0:nil},TMP_Kernel_$lt$eq$gt_5.$$arity=1),Opal.defn(self,"$method",TMP_Kernel_method_6=function(name){var meth=this["$"+name];return meth&&!meth.$$stub||this.$raise(Opal.const_get_relative($nesting,"NameError").$new("undefined method `"+name+"' for class `"+this.$class()+"'",name)),Opal.const_get_relative($nesting,"Method").$new(this,meth.$$owner||this.$class(),meth,name)},TMP_Kernel_method_6.$$arity=1),Opal.defn(self,"$methods",TMP_Kernel_methods_7=function(all){null==all&&(all=!0);var methods=[];for(var key in this)if("$"==key[0]&&"function"==typeof this[key]){if((0==all||all===nil)&&!Opal.hasOwnProperty.call(this,key))continue;void 0===this[key].$$stub&&methods.push(key.substr(1))}return methods},TMP_Kernel_methods_7.$$arity=-1),Opal.alias(self,"public_methods","methods"),Opal.defn(self,"$Array",TMP_Kernel_Array_8=function(object){var coerced;return object===nil?[]:object.$$is_array?object:(coerced=Opal.const_get_relative($nesting,"Opal")["$coerce_to?"](object,Opal.const_get_relative($nesting,"Array"),"to_ary"))!==nil?coerced:(coerced=Opal.const_get_relative($nesting,"Opal")["$coerce_to?"](object,Opal.const_get_relative($nesting,"Array"),"to_a"))!==nil?coerced:[object]},TMP_Kernel_Array_8.$$arity=1),Opal.defn(self,"$at_exit",TMP_Kernel_at_exit_9=function(){var $a,$iter=TMP_Kernel_at_exit_9.$$p,block=$iter||nil;return null==$gvars.__at_exit__&&($gvars.__at_exit__=nil),$iter&&(TMP_Kernel_at_exit_9.$$p=null),$gvars.__at_exit__=$truthy($a=$gvars.__at_exit__)?$a:[],$gvars.__at_exit__["$<<"](block)},TMP_Kernel_at_exit_9.$$arity=0),Opal.defn(self,"$caller",TMP_Kernel_caller_10=function($a_rest){var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return[]},TMP_Kernel_caller_10.$$arity=-1),Opal.defn(self,"$class",TMP_Kernel_class_11=function(){return this.$$class},TMP_Kernel_class_11.$$arity=0),Opal.defn(self,"$copy_instance_variables",TMP_Kernel_copy_instance_variables_12=function(other){var i,ii,name,keys=Object.keys(other);for(i=0,ii=keys.length;i<ii;i++)"$"!==(name=keys[i]).charAt(0)&&other.hasOwnProperty(name)&&(this[name]=other[name])},TMP_Kernel_copy_instance_variables_12.$$arity=1),Opal.defn(self,"$copy_singleton_methods",TMP_Kernel_copy_singleton_methods_13=function(other){var name;if(other.hasOwnProperty("$$meta")){var other_singleton_class_proto=Opal.get_singleton_class(other).$$proto,self_singleton_class_proto=Opal.get_singleton_class(this).$$proto;for(name in other_singleton_class_proto)"$"===name.charAt(0)&&other_singleton_class_proto.hasOwnProperty(name)&&(self_singleton_class_proto[name]=other_singleton_class_proto[name])}for(name in other)"$"===name.charAt(0)&&"$"!==name.charAt(1)&&other.hasOwnProperty(name)&&(this[name]=other[name])},TMP_Kernel_copy_singleton_methods_13.$$arity=1),Opal.defn(self,"$clone",TMP_Kernel_clone_14=function($kwargs){var copy=nil;if(null==$kwargs||!$kwargs.$$is_hash){if(null!=$kwargs)throw Opal.ArgumentError.$new("expected kwargs");$kwargs=$hash2([],{})}return null==$kwargs.$$smap.freeze&&!0,(copy=this.$class().$allocate()).$copy_instance_variables(this),copy.$copy_singleton_methods(this),copy.$initialize_clone(this),copy},TMP_Kernel_clone_14.$$arity=-1),Opal.defn(self,"$initialize_clone",TMP_Kernel_initialize_clone_15=function(other){return this.$initialize_copy(other)},TMP_Kernel_initialize_clone_15.$$arity=1),Opal.defn(self,"$define_singleton_method",TMP_Kernel_define_singleton_method_16=function(name,method){var $iter=TMP_Kernel_define_singleton_method_16.$$p,block=$iter||nil;return $iter&&(TMP_Kernel_define_singleton_method_16.$$p=null),$send(this.$singleton_class(),"define_method",[name,method],block.$to_proc())},TMP_Kernel_define_singleton_method_16.$$arity=-2),Opal.defn(self,"$dup",TMP_Kernel_dup_17=function(){var copy=nil;return(copy=this.$class().$allocate()).$copy_instance_variables(this),copy.$initialize_dup(this),copy},TMP_Kernel_dup_17.$$arity=0),Opal.defn(self,"$initialize_dup",TMP_Kernel_initialize_dup_18=function(other){return this.$initialize_copy(other)},TMP_Kernel_initialize_dup_18.$$arity=1),Opal.defn(self,"$enum_for",TMP_Kernel_enum_for_19=function(method,$a_rest){var args,self=this,$iter=TMP_Kernel_enum_for_19.$$p,block=$iter||nil;null==method&&(method="each");var $args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];return $iter&&(TMP_Kernel_enum_for_19.$$p=null),$send(Opal.const_get_relative($nesting,"Enumerator"),"for",[self,method].concat(Opal.to_a(args)),block.$to_proc())},TMP_Kernel_enum_for_19.$$arity=-1),Opal.alias(self,"to_enum","enum_for"),Opal.defn(self,"$equal?",TMP_Kernel_equal$q_20=function(other){return this===other},TMP_Kernel_equal$q_20.$$arity=1),Opal.defn(self,"$exit",TMP_Kernel_exit_21=function(status){var $a;for(null==$gvars.__at_exit__&&($gvars.__at_exit__=nil),null==status&&(status=!0),$gvars.__at_exit__=$truthy($a=$gvars.__at_exit__)?$a:[];$truthy($rb_gt($gvars.__at_exit__.$size(),0));)$gvars.__at_exit__.$pop().$call();return status=status.$$is_boolean?status?0:1:Opal.const_get_relative($nesting,"Opal").$coerce_to(status,Opal.const_get_relative($nesting,"Integer"),"to_int"),Opal.exit(status),nil},TMP_Kernel_exit_21.$$arity=-1),Opal.defn(self,"$extend",TMP_Kernel_extend_22=function($a_rest){var mods,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),mods=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)mods[$arg_idx-0]=arguments[$arg_idx];for(var singleton=this.$singleton_class(),i=mods.length-1;0<=i;i--){var mod=mods[i];mod.$$is_module||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+mod.$class()+" (expected Module)"),mod.$append_features(singleton),mod.$extended(this)}return this},TMP_Kernel_extend_22.$$arity=-1),Opal.defn(self,"$format",TMP_Kernel_format_23=function(format_string,$a_rest){var args,self=this,ary=nil;null==$gvars.DEBUG&&($gvars.DEBUG=nil);var $args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];$truthy(args.$length()["$=="](1)?args["$[]"](0)["$respond_to?"]("to_ary"):args.$length()["$=="](1))&&(ary=Opal.const_get_relative($nesting,"Opal")["$coerce_to?"](args["$[]"](0),Opal.const_get_relative($nesting,"Array"),"to_ary"),$truthy(ary["$nil?"]())||(args=ary.$to_a()));var end_slice,i,arg,str,exponent,width,precision,tmp_num,hash_parameter_key,closing_brace_char,base_number,base_prefix,base_neg_zero_regex,base_neg_zero_digit,next_arg,flags,result="",begin_slice=0,len=format_string.length,seq_arg_num=1,pos_arg_num=0,FWIDTH=32,FPREC0=128;function CHECK_FOR_FLAGS(){flags&FWIDTH&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"flag after width"),flags&FPREC0&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"flag after precision")}function CHECK_FOR_WIDTH(){flags&FWIDTH&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"width given twice"),flags&FPREC0&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"width after precision")}function GET_NTH_ARG(num){return num>=args.length&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"too few arguments"),args[num]}function GET_NEXT_ARG(){switch(pos_arg_num){case-1:self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"unnumbered("+seq_arg_num+") mixed with numbered");case-2:self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"unnumbered("+seq_arg_num+") mixed with named")}return GET_NTH_ARG((pos_arg_num=seq_arg_num++)-1)}function GET_POS_ARG(num){return 0<pos_arg_num&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"numbered("+num+") after unnumbered("+pos_arg_num+")"),-2===pos_arg_num&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"numbered("+num+") after named"),num<1&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"invalid index - "+num+"$"),pos_arg_num=-1,GET_NTH_ARG(num-1)}function GET_ARG(){return void 0===next_arg?GET_NEXT_ARG():next_arg}function READ_NUM(label){for(var num,str="";;i++){if(i===len&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"malformed format string - %*[0-9]"),format_string.charCodeAt(i)<48||57<format_string.charCodeAt(i))return i--,2147483647<(num=parseInt(str,10)||0)&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),label+" too big"),num;str+=format_string.charAt(i)}}function READ_NUM_AFTER_ASTER(label){var num=READ_NUM(label);return("$"===format_string.charAt(i+1)?(i++,GET_POS_ARG(num)):GET_NEXT_ARG()).$to_int()}for(i=format_string.indexOf("%");-1!==i;i=format_string.indexOf("%",i)){switch(str=void 0,precision=width=-1,next_arg=void(flags=0),end_slice=i,i++,format_string.charAt(i)){case"%":begin_slice=i;case"":case"\n":case"\0":i++;continue}format_sequence:for(;i<len;i++)switch(format_string.charAt(i)){case" ":CHECK_FOR_FLAGS(),flags|=16;continue format_sequence;case"#":CHECK_FOR_FLAGS(),flags|=1;continue format_sequence;case"+":CHECK_FOR_FLAGS(),flags|=4;continue format_sequence;case"-":CHECK_FOR_FLAGS(),flags|=2;continue format_sequence;case"0":CHECK_FOR_FLAGS(),flags|=8;continue format_sequence;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(tmp_num=READ_NUM("width"),"$"===format_string.charAt(i+1)){if(i+2===len){str="%",i++;break format_sequence}void 0!==next_arg&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"value given twice - %"+tmp_num+"$"),next_arg=GET_POS_ARG(tmp_num),i++}else CHECK_FOR_WIDTH(),flags|=FWIDTH,width=tmp_num;continue format_sequence;case"<":case"{":for(closing_brace_char="<"===format_string.charAt(i)?">":"}",hash_parameter_key="",i++;;i++){if(i===len&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"malformed name - unmatched parenthesis"),format_string.charAt(i)===closing_brace_char){if(0<pos_arg_num&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"named "+hash_parameter_key+" after unnumbered("+pos_arg_num+")"),-1===pos_arg_num&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"named "+hash_parameter_key+" after numbered"),pos_arg_num=-2,void 0!==args[0]&&args[0].$$is_hash||self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"one hash required"),next_arg=args[0].$fetch(hash_parameter_key),">"===closing_brace_char)continue format_sequence;if(str=next_arg.toString(),-1!==precision&&(str=str.slice(0,precision)),2&flags)for(;str.length<width;)str+=" ";else for(;str.length<width;)str=" "+str;break format_sequence}hash_parameter_key+=format_string.charAt(i)}case"*":i++,CHECK_FOR_WIDTH(),flags|=FWIDTH,(width=READ_NUM_AFTER_ASTER("width"))<0&&(flags|=2,width=-width);continue format_sequence;case".":if(flags&FPREC0&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"precision given twice"),flags|=64|FPREC0,precision=0,i++,"*"===format_string.charAt(i)){i++,(precision=READ_NUM_AFTER_ASTER("precision"))<0&&(flags&=-65);continue format_sequence}precision=READ_NUM("precision");continue format_sequence;case"d":case"i":case"u":if(0<=(arg=self.$Integer(GET_ARG()))){for(str=arg.toString();str.length<precision;)str="0"+str;if(2&flags)for((4&flags||16&flags)&&(str=(4&flags?"+":" ")+str);str.length<width;)str+=" ";else if(8&flags&&-1===precision){for(;str.length<width-(4&flags||16&flags?1:0);)str="0"+str;(4&flags||16&flags)&&(str=(4&flags?"+":" ")+str)}else for((4&flags||16&flags)&&(str=(4&flags?"+":" ")+str);str.length<width;)str=" "+str}else{for(str=(-arg).toString();str.length<precision;)str="0"+str;if(2&flags)for(str="-"+str;str.length<width;)str+=" ";else if(8&flags&&-1===precision){for(;str.length<width-1;)str="0"+str;str="-"+str}else for(str="-"+str;str.length<width;)str=" "+str}break format_sequence;case"b":case"B":case"o":case"x":case"X":switch(format_string.charAt(i)){case"b":case"B":base_number=2,base_prefix="0b",base_neg_zero_regex=/^1+/,base_neg_zero_digit="1";break;case"o":base_number=8,base_prefix="0",base_neg_zero_regex=/^3?7+/,base_neg_zero_digit="7";break;case"x":case"X":base_number=16,base_prefix="0x",base_neg_zero_regex=/^f+/,base_neg_zero_digit="f"}if(0<=(arg=self.$Integer(GET_ARG()))){for(str=arg.toString(base_number);str.length<precision;)str="0"+str;if(2&flags)for((4&flags||16&flags)&&(str=(4&flags?"+":" ")+str),1&flags&&0!==arg&&(str=base_prefix+str);str.length<width;)str+=" ";else if(8&flags&&-1===precision){for(;str.length<width-(4&flags||16&flags?1:0)-(1&flags&&0!==arg?base_prefix.length:0);)str="0"+str;1&flags&&0!==arg&&(str=base_prefix+str),(4&flags||16&flags)&&(str=(4&flags?"+":" ")+str)}else for(1&flags&&0!==arg&&(str=base_prefix+str),(4&flags||16&flags)&&(str=(4&flags?"+":" ")+str);str.length<width;)str=" "+str}else if(4&flags||16&flags){for(str=(-arg).toString(base_number);str.length<precision;)str="0"+str;if(2&flags)for(1&flags&&(str=base_prefix+str),str="-"+str;str.length<width;)str+=" ";else if(8&flags&&-1===precision){for(;str.length<width-1-(1&flags?2:0);)str="0"+str;1&flags&&(str=base_prefix+str),str="-"+str}else for(1&flags&&(str=base_prefix+str),str="-"+str;str.length<width;)str=" "+str}else{for(str=(arg>>>0).toString(base_number).replace(base_neg_zero_regex,base_neg_zero_digit);str.length<precision-2;)str=base_neg_zero_digit+str;if(2&flags)for(str=".."+str,1&flags&&(str=base_prefix+str);str.length<width;)str+=" ";else if(8&flags&&-1===precision){for(;str.length<width-2-(1&flags?base_prefix.length:0);)str=base_neg_zero_digit+str;str=".."+str,1&flags&&(str=base_prefix+str)}else for(str=".."+str,1&flags&&(str=base_prefix+str);str.length<width;)str=" "+str}format_string.charAt(i)===format_string.charAt(i).toUpperCase()&&(str=str.toUpperCase());break format_sequence;case"f":case"e":case"E":case"g":case"G":if(0<=(arg=self.$Float(GET_ARG()))||isNaN(arg)){if(arg===1/0)str="Inf";else switch(format_string.charAt(i)){case"f":str=arg.toFixed(-1===precision?6:precision);break;case"e":case"E":str=arg.toExponential(-1===precision?6:precision);break;case"g":case"G":str=arg.toExponential(),(exponent=parseInt(str.split("e")[1],10))<-4||(-1===precision?6:precision)<=exponent||(str=arg.toPrecision(-1===precision?1&flags?6:void 0:precision))}if(2&flags)for((4&flags||16&flags)&&(str=(4&flags?"+":" ")+str);str.length<width;)str+=" ";else if(8&flags&&arg!==1/0&&!isNaN(arg)){for(;str.length<width-(4&flags||16&flags?1:0);)str="0"+str;(4&flags||16&flags)&&(str=(4&flags?"+":" ")+str)}else for((4&flags||16&flags)&&(str=(4&flags?"+":" ")+str);str.length<width;)str=" "+str}else{if(arg===-1/0)str="Inf";else switch(format_string.charAt(i)){case"f":str=(-arg).toFixed(-1===precision?6:precision);break;case"e":case"E":str=(-arg).toExponential(-1===precision?6:precision);break;case"g":case"G":str=(-arg).toExponential(),(exponent=parseInt(str.split("e")[1],10))<-4||(-1===precision?6:precision)<=exponent||(str=(-arg).toPrecision(-1===precision?1&flags?6:void 0:precision))}if(2&flags)for(str="-"+str;str.length<width;)str+=" ";else if(8&flags&&arg!==-1/0){for(;str.length<width-1;)str="0"+str;str="-"+str}else for(str="-"+str;str.length<width;)str=" "+str}format_string.charAt(i)!==format_string.charAt(i).toUpperCase()||arg===1/0||arg===-1/0||isNaN(arg)||(str=str.toUpperCase()),str=str.replace(/([eE][-+]?)([0-9])$/,"$10$2");break format_sequence;case"a":case"A":self.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if((arg=GET_ARG())["$respond_to?"]("to_ary")&&(arg=arg.$to_ary()[0]),1!==(str=arg["$respond_to?"]("to_str")?arg.$to_str():String.fromCharCode(Opal.const_get_relative($nesting,"Opal").$coerce_to(arg,Opal.const_get_relative($nesting,"Integer"),"to_int"))).length&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"%c requires a character"),2&flags)for(;str.length<width;)str+=" ";else for(;str.length<width;)str=" "+str;break format_sequence;case"p":if(str=GET_ARG().$inspect(),-1!==precision&&(str=str.slice(0,precision)),2&flags)for(;str.length<width;)str+=" ";else for(;str.length<width;)str=" "+str;break format_sequence;case"s":if(str=GET_ARG().$to_s(),-1!==precision&&(str=str.slice(0,precision)),2&flags)for(;str.length<width;)str+=" ";else for(;str.length<width;)str=" "+str;break format_sequence;default:self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"malformed format string - %"+format_string.charAt(i))}void 0===str&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"malformed format string - %"),result+=format_string.slice(begin_slice,end_slice)+str,begin_slice=i+1}return $gvars.DEBUG&&0<=pos_arg_num&&seq_arg_num<args.length&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"too many arguments for format string"),result+format_string.slice(begin_slice)},TMP_Kernel_format_23.$$arity=-2),Opal.defn(self,"$hash",TMP_Kernel_hash_24=function(){return this.$__id__()},TMP_Kernel_hash_24.$$arity=0),Opal.defn(self,"$initialize_copy",TMP_Kernel_initialize_copy_25=function(other){return nil},TMP_Kernel_initialize_copy_25.$$arity=1),Opal.defn(self,"$inspect",TMP_Kernel_inspect_26=function(){return this.$to_s()},TMP_Kernel_inspect_26.$$arity=0),Opal.defn(self,"$instance_of?",TMP_Kernel_instance_of$q_27=function(klass){return klass.$$is_class||klass.$$is_module||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"class or module required"),this.$$class===klass},TMP_Kernel_instance_of$q_27.$$arity=1),Opal.defn(self,"$instance_variable_defined?",TMP_Kernel_instance_variable_defined$q_28=function(name){return name=Opal.const_get_relative($nesting,"Opal")["$instance_variable_name!"](name),Opal.hasOwnProperty.call(this,name.substr(1))},TMP_Kernel_instance_variable_defined$q_28.$$arity=1),Opal.defn(self,"$instance_variable_get",TMP_Kernel_instance_variable_get_29=function(name){name=Opal.const_get_relative($nesting,"Opal")["$instance_variable_name!"](name);var ivar=this[Opal.ivar(name.substr(1))];return null==ivar?nil:ivar},TMP_Kernel_instance_variable_get_29.$$arity=1),Opal.defn(self,"$instance_variable_set",TMP_Kernel_instance_variable_set_30=function(name,value){return name=Opal.const_get_relative($nesting,"Opal")["$instance_variable_name!"](name),this[Opal.ivar(name.substr(1))]=value},TMP_Kernel_instance_variable_set_30.$$arity=2),Opal.defn(self,"$remove_instance_variable",TMP_Kernel_remove_instance_variable_31=function(name){name=Opal.const_get_relative($nesting,"Opal")["$instance_variable_name!"](name);var val,key=Opal.ivar(name.substr(1));return this.hasOwnProperty(key)?(val=this[key],delete this[key],val):this.$raise(Opal.const_get_relative($nesting,"NameError"),"instance variable "+name+" not defined")},TMP_Kernel_remove_instance_variable_31.$$arity=1),Opal.defn(self,"$instance_variables",TMP_Kernel_instance_variables_32=function(){var ivar,result=[];for(var name in this)this.hasOwnProperty(name)&&"$"!==name.charAt(0)&&(ivar="$"===name.substr(-1)?name.slice(0,name.length-1):name,result.push("@"+ivar));return result},TMP_Kernel_instance_variables_32.$$arity=0),Opal.defn(self,"$Integer",TMP_Kernel_Integer_33=function(value,base){var i,str,base_digits,self=this;return value.$$is_string?"0"===value?0:(void 0===base?base=0:(1===(base=Opal.const_get_relative($nesting,"Opal").$coerce_to(base,Opal.const_get_relative($nesting,"Integer"),"to_int"))||base<0||36<base)&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"invalid radix "+base),str=(str=(str=value.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,function(_,head,flag){switch(flag){case"0b":if(0===base||2===base)return base=2,head;case"0":case"0o":if(0===base||8===base)return base=8,head;case"0d":if(0===base||10===base)return base=10,head;case"0x":if(0===base||16===base)return base=16,head}self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),'invalid value for Integer(): "'+value+'"')}),base_digits="0-"+((base=0===base?10:base)<=10?base-1:"9a-"+String.fromCharCode(base-11+97)),new RegExp("^\\s*[+-]?["+base_digits+"]+\\s*$").test(str)||self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),'invalid value for Integer(): "'+value+'"'),i=parseInt(str,base),isNaN(i)&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),'invalid value for Integer(): "'+value+'"'),i):(void 0!==base&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"base specified for non string value"),value===nil&&self.$raise(Opal.const_get_relative($nesting,"TypeError"),"can't convert nil into Integer"),value.$$is_number?((value===1/0||value===-1/0||isNaN(value))&&self.$raise(Opal.const_get_relative($nesting,"FloatDomainError"),value),Math.floor(value)):value["$respond_to?"]("to_int")&&(i=value.$to_int())!==nil?i:Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](value,Opal.const_get_relative($nesting,"Integer"),"to_i"))},TMP_Kernel_Integer_33.$$arity=-2),Opal.defn(self,"$Float",TMP_Kernel_Float_34=function(value){var str;return value===nil&&this.$raise(Opal.const_get_relative($nesting,"TypeError"),"can't convert nil into Float"),value.$$is_string?(str=(str=value.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(str)?this.$Integer(str):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(str)||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),'invalid value for Float(): "'+value+'"'),parseFloat(str))):Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](value,Opal.const_get_relative($nesting,"Float"),"to_f")},TMP_Kernel_Float_34.$$arity=1),Opal.defn(self,"$Hash",TMP_Kernel_Hash_35=function(arg){var $a;return $truthy($truthy($a=arg["$nil?"]())?$a:arg["$=="]([]))?$hash2([],{}):$truthy(Opal.const_get_relative($nesting,"Hash")["$==="](arg))?arg:Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](arg,Opal.const_get_relative($nesting,"Hash"),"to_hash")},TMP_Kernel_Hash_35.$$arity=1),Opal.defn(self,"$is_a?",TMP_Kernel_is_a$q_36=function(klass){return klass.$$is_class||klass.$$is_module||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"class or module required"),Opal.is_a(this,klass)},TMP_Kernel_is_a$q_36.$$arity=1),Opal.defn(self,"$itself",TMP_Kernel_itself_37=function(){return this},TMP_Kernel_itself_37.$$arity=0),Opal.alias(self,"kind_of?","is_a?"),Opal.defn(self,"$lambda",TMP_Kernel_lambda_38=function(){var $iter=TMP_Kernel_lambda_38.$$p,block=$iter||nil;return $iter&&(TMP_Kernel_lambda_38.$$p=null),block.$$is_lambda=!0,block},TMP_Kernel_lambda_38.$$arity=0),Opal.defn(self,"$load",TMP_Kernel_load_39=function(file){return file=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](file,Opal.const_get_relative($nesting,"String"),"to_str"),Opal.load(file)},TMP_Kernel_load_39.$$arity=1),Opal.defn(self,"$loop",TMP_Kernel_loop_40=function(){var TMP_41,$iter=TMP_Kernel_loop_40.$$p,$yield=$iter||nil,e=nil;if($iter&&(TMP_Kernel_loop_40.$$p=null),$yield===nil)return $send(this,"enum_for",["loop"],((TMP_41=function(){TMP_41.$$s;return Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"INFINITY")}).$$s=this,TMP_41.$$arity=0,TMP_41));for(;$truthy(!0);)try{Opal.yieldX($yield,[])}catch($err){if(!Opal.rescue($err,[Opal.const_get_relative($nesting,"StopIteration")]))throw $err;e=$err;try{return e.$result()}finally{Opal.pop_exception()}}return this},TMP_Kernel_loop_40.$$arity=0),Opal.defn(self,"$nil?",TMP_Kernel_nil$q_42=function(){return!1},TMP_Kernel_nil$q_42.$$arity=0),Opal.alias(self,"object_id","__id__"),Opal.defn(self,"$printf",TMP_Kernel_printf_43=function($a_rest){var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return $truthy($rb_gt(args.$length(),0))&&this.$print($send(this,"format",Opal.to_a(args))),nil},TMP_Kernel_printf_43.$$arity=-1),Opal.defn(self,"$proc",TMP_Kernel_proc_44=function(){var $iter=TMP_Kernel_proc_44.$$p,block=$iter||nil;return $iter&&(TMP_Kernel_proc_44.$$p=null),$truthy(block)||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"tried to create Proc object without a block"),block.$$is_lambda=!1,block},TMP_Kernel_proc_44.$$arity=0),Opal.defn(self,"$puts",TMP_Kernel_puts_45=function($a_rest){var strs;null==$gvars.stdout&&($gvars.stdout=nil);var $args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),strs=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)strs[$arg_idx-0]=arguments[$arg_idx];return $send($gvars.stdout,"puts",Opal.to_a(strs))},TMP_Kernel_puts_45.$$arity=-1),Opal.defn(self,"$p",TMP_Kernel_p_47=function($a_rest){var TMP_46,args,lhs,rhs,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return $send(args,"each",[],((TMP_46=function(obj){TMP_46.$$s;return null==$gvars.stdout&&($gvars.stdout=nil),null==obj&&(obj=nil),$gvars.stdout.$puts(obj.$inspect())}).$$s=this,TMP_46.$$arity=1,TMP_46)),$truthy((lhs=args.$length(),rhs=1,"number"==typeof lhs&&"number"==typeof rhs?lhs<=rhs:lhs["$<="](rhs)))?args["$[]"](0):args},TMP_Kernel_p_47.$$arity=-1),Opal.defn(self,"$print",TMP_Kernel_print_48=function($a_rest){var strs;null==$gvars.stdout&&($gvars.stdout=nil);var $args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),strs=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)strs[$arg_idx-0]=arguments[$arg_idx];return $send($gvars.stdout,"print",Opal.to_a(strs))},TMP_Kernel_print_48.$$arity=-1),Opal.defn(self,"$warn",TMP_Kernel_warn_49=function($a_rest){var $b,strs;null==$gvars.VERBOSE&&($gvars.VERBOSE=nil),null==$gvars.stderr&&($gvars.stderr=nil);var $args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),strs=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)strs[$arg_idx-0]=arguments[$arg_idx];return $truthy($truthy($b=$gvars.VERBOSE["$nil?"]())?$b:strs["$empty?"]())?nil:$send($gvars.stderr,"puts",Opal.to_a(strs))},TMP_Kernel_warn_49.$$arity=-1),Opal.defn(self,"$raise",TMP_Kernel_raise_50=function(exception,string,_backtrace){if(null==$gvars["!"]&&($gvars["!"]=nil),null==string&&(string=nil),null==_backtrace&&(_backtrace=nil),null==exception&&$gvars["!"]!==nil)throw $gvars["!"];throw null==exception?exception=Opal.const_get_relative($nesting,"RuntimeError").$new():exception.$$is_string?exception=Opal.const_get_relative($nesting,"RuntimeError").$new(exception):exception.$$is_class&&exception["$respond_to?"]("exception")?exception=exception.$exception(string):exception["$kind_of?"](Opal.const_get_relative($nesting,"Exception"))||(exception=Opal.const_get_relative($nesting,"TypeError").$new("exception class/object expected")),$gvars["!"]!==nil&&Opal.exceptions.push($gvars["!"]),$gvars["!"]=exception},TMP_Kernel_raise_50.$$arity=-1),Opal.alias(self,"fail","raise"),Opal.defn(self,"$rand",TMP_Kernel_rand_51=function(max){return void 0===max?Opal.const_get_qualified(Opal.const_get_relative($nesting,"Random"),"DEFAULT").$rand():(max.$$is_number&&(max<0&&(max=Math.abs(max)),max%1!=0&&(max=max.$to_i()),0===max&&(max=void 0)),Opal.const_get_qualified(Opal.const_get_relative($nesting,"Random"),"DEFAULT").$rand(max))},TMP_Kernel_rand_51.$$arity=-1),Opal.defn(self,"$respond_to?",TMP_Kernel_respond_to$q_52=function(name,include_all){if(null==include_all&&(include_all=!1),$truthy(this["$respond_to_missing?"](name,include_all)))return!0;var body=this["$"+name];return"function"==typeof body&&!body.$$stub},TMP_Kernel_respond_to$q_52.$$arity=-2),Opal.defn(self,"$respond_to_missing?",TMP_Kernel_respond_to_missing$q_53=function(method_name,include_all){return null==include_all&&(include_all=!1),!1},TMP_Kernel_respond_to_missing$q_53.$$arity=-2),Opal.defn(self,"$require",TMP_Kernel_require_54=function(file){return file=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](file,Opal.const_get_relative($nesting,"String"),"to_str"),Opal.require(file)},TMP_Kernel_require_54.$$arity=1),Opal.defn(self,"$require_relative",TMP_Kernel_require_relative_55=function(file){return Opal.const_get_relative($nesting,"Opal")["$try_convert!"](file,Opal.const_get_relative($nesting,"String"),"to_str"),file=Opal.const_get_relative($nesting,"File").$expand_path(Opal.const_get_relative($nesting,"File").$join(Opal.current_file,"..",file)),Opal.require(file)},TMP_Kernel_require_relative_55.$$arity=1),Opal.defn(self,"$require_tree",TMP_Kernel_require_tree_56=function(path){var result=[];for(var name in path=Opal.const_get_relative($nesting,"File").$expand_path(path),"."===(path=Opal.normalize(path))&&(path=""),Opal.modules)name["$start_with?"](path)&&result.push([name,Opal.require(name)]);return result},TMP_Kernel_require_tree_56.$$arity=1),Opal.alias(self,"send","__send__"),Opal.alias(self,"public_send","__send__"),Opal.defn(self,"$singleton_class",TMP_Kernel_singleton_class_57=function(){return Opal.get_singleton_class(this)},TMP_Kernel_singleton_class_57.$$arity=0),Opal.defn(self,"$sleep",TMP_Kernel_sleep_58=function(seconds){null==seconds&&(seconds=nil),seconds===nil&&this.$raise(Opal.const_get_relative($nesting,"TypeError"),"can't convert NilClass into time interval"),seconds.$$is_number||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"can't convert "+seconds.$class()+" into time interval"),seconds<0&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"time interval must be positive");for(var get_time=Opal.global.performance?function(){return performance.now()}:function(){return new Date},t=get_time();get_time()-t<=1e3*seconds;);return seconds},TMP_Kernel_sleep_58.$$arity=-1),Opal.alias(self,"sprintf","format"),Opal.defn(self,"$srand",TMP_Kernel_srand_59=function(seed){return null==seed&&(seed=Opal.const_get_relative($nesting,"Random").$new_seed()),Opal.const_get_relative($nesting,"Random").$srand(seed)},TMP_Kernel_srand_59.$$arity=-1),Opal.defn(self,"$String",TMP_Kernel_String_60=function(str){var $a;return $truthy($a=Opal.const_get_relative($nesting,"Opal")["$coerce_to?"](str,Opal.const_get_relative($nesting,"String"),"to_str"))?$a:Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](str,Opal.const_get_relative($nesting,"String"),"to_s")},TMP_Kernel_String_60.$$arity=1),Opal.defn(self,"$tap",TMP_Kernel_tap_61=function(){var $iter=TMP_Kernel_tap_61.$$p,block=$iter||nil;return $iter&&(TMP_Kernel_tap_61.$$p=null),Opal.yield1(block,this),this},TMP_Kernel_tap_61.$$arity=0),Opal.defn(self,"$to_proc",TMP_Kernel_to_proc_62=function(){return this},TMP_Kernel_to_proc_62.$$arity=0),Opal.defn(self,"$to_s",TMP_Kernel_to_s_63=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},TMP_Kernel_to_s_63.$$arity=0),Opal.defn(self,"$catch",TMP_Kernel_catch_64=function(sym){var self=this,$iter=TMP_Kernel_catch_64.$$p,$yield=$iter||nil,e=nil;$iter&&(TMP_Kernel_catch_64.$$p=null);try{return Opal.yieldX($yield,[])}catch($err){if(!Opal.rescue($err,[Opal.const_get_relative($nesting,"UncaughtThrowError")]))throw $err;e=$err;try{return e.$sym()["$=="](sym)?e.$arg():self.$raise()}finally{Opal.pop_exception()}}},TMP_Kernel_catch_64.$$arity=1),Opal.defn(self,"$throw",TMP_Kernel_throw_65=function($a_rest){var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return this.$raise(Opal.const_get_relative($nesting,"UncaughtThrowError").$new(args))},TMP_Kernel_throw_65.$$arity=-1),Opal.defn(self,"$open",TMP_Kernel_open_66=function($a_rest){var args,$iter=TMP_Kernel_open_66.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return $iter&&(TMP_Kernel_open_66.$$p=null),$send(Opal.const_get_relative($nesting,"File"),"open",Opal.to_a(args),block.$to_proc())},TMP_Kernel_open_66.$$arity=-1)}($nesting[0],$nesting),function($base,$super,$parent_nesting){function $Object(){}var self=$Object=$klass($base,null,"Object",$Object),$nesting=(self.$$proto,[self].concat($parent_nesting));return self.$include(Opal.const_get_relative($nesting,"Kernel"))}($nesting[0],0,$nesting)},Opal.modules["corelib/error"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$send=Opal.send,$truthy=Opal.truthy,$module=Opal.module;return Opal.add_stubs(["$new","$clone","$to_s","$empty?","$class","$+","$attr_reader","$[]","$>","$length","$inspect"]),function($base,$super,$parent_nesting){function $Exception(){}var TMP_Exception_new_1,TMP_Exception_exception_2,TMP_Exception_initialize_3,TMP_Exception_backtrace_4,TMP_Exception_exception_5,TMP_Exception_message_6,TMP_Exception_inspect_7,TMP_Exception_to_s_8,self=$Exception=$klass($base,$super,"Exception",$Exception),def=self.$$proto,$nesting=[self].concat($parent_nesting);def.message=nil;var Kernel$raise=Opal.const_get_relative($nesting,"Kernel").$raise;Opal.defs(self,"$new",TMP_Exception_new_1=function($a_rest){var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];var message=0<args.length?args[0]:nil,error=new this.$$alloc(message);return error.name=this.$$name,error.message=message,Opal.send(error,error.$initialize,args),Opal.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(error,Kernel$raise),error},TMP_Exception_new_1.$$arity=-1),Opal.defs(self,"$exception",TMP_Exception_exception_2=function($a_rest){var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return $send(this,"new",Opal.to_a(args))},TMP_Exception_exception_2.$$arity=-1),Opal.defn(self,"$initialize",TMP_Exception_initialize_3=function($a_rest){var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return this.message=0<args.length?args[0]:nil},TMP_Exception_initialize_3.$$arity=-1),Opal.defn(self,"$backtrace",TMP_Exception_backtrace_4=function(){var backtrace=this.stack;return"string"==typeof backtrace?backtrace.split("\n").slice(0,15):backtrace?backtrace.slice(0,15):[]},TMP_Exception_backtrace_4.$$arity=0),Opal.defn(self,"$exception",TMP_Exception_exception_5=function(str){if(null==str&&(str=nil),str===nil||this===str)return this;var cloned=this.$clone();return cloned.message=str,cloned},TMP_Exception_exception_5.$$arity=-1),Opal.defn(self,"$message",TMP_Exception_message_6=function(){return this.$to_s()},TMP_Exception_message_6.$$arity=0),Opal.defn(self,"$inspect",TMP_Exception_inspect_7=function(){var as_str=nil;return as_str=this.$to_s(),$truthy(as_str["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},TMP_Exception_inspect_7.$$arity=0),Opal.defn(self,"$to_s",TMP_Exception_to_s_8=function(){var $a,$b;return $truthy($a=$truthy($b=this.message)?this.message.$to_s():$b)?$a:this.$class().$to_s()},TMP_Exception_to_s_8.$$arity=0)}($nesting[0],Error,$nesting),function($base,$super,$parent_nesting){function $ScriptError(){}var self=$ScriptError=$klass($base,$super,"ScriptError",$ScriptError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"Exception"),$nesting),function($base,$super,$parent_nesting){function $SyntaxError(){}var self=$SyntaxError=$klass($base,$super,"SyntaxError",$SyntaxError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"ScriptError"),$nesting),function($base,$super,$parent_nesting){function $LoadError(){}var self=$LoadError=$klass($base,$super,"LoadError",$LoadError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"ScriptError"),$nesting),function($base,$super,$parent_nesting){function $NotImplementedError(){}var self=$NotImplementedError=$klass($base,$super,"NotImplementedError",$NotImplementedError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"ScriptError"),$nesting),function($base,$super,$parent_nesting){function $SystemExit(){}var self=$SystemExit=$klass($base,$super,"SystemExit",$SystemExit);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"Exception"),$nesting),function($base,$super,$parent_nesting){function $NoMemoryError(){}var self=$NoMemoryError=$klass($base,$super,"NoMemoryError",$NoMemoryError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"Exception"),$nesting),function($base,$super,$parent_nesting){function $SignalException(){}var self=$SignalException=$klass($base,$super,"SignalException",$SignalException);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"Exception"),$nesting),function($base,$super,$parent_nesting){function $Interrupt(){}var self=$Interrupt=$klass($base,$super,"Interrupt",$Interrupt);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"Exception"),$nesting),function($base,$super,$parent_nesting){function $SecurityError(){}var self=$SecurityError=$klass($base,$super,"SecurityError",$SecurityError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"Exception"),$nesting),function($base,$super,$parent_nesting){function $StandardError(){}var self=$StandardError=$klass($base,$super,"StandardError",$StandardError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"Exception"),$nesting),function($base,$super,$parent_nesting){function $ZeroDivisionError(){}var self=$ZeroDivisionError=$klass($base,$super,"ZeroDivisionError",$ZeroDivisionError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){function $NameError(){}var self=$NameError=$klass($base,$super,"NameError",$NameError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){function $NoMethodError(){}var self=$NoMethodError=$klass($base,$super,"NoMethodError",$NoMethodError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"NameError"),$nesting),function($base,$super,$parent_nesting){function $RuntimeError(){}var self=$RuntimeError=$klass($base,$super,"RuntimeError",$RuntimeError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){function $LocalJumpError(){}var self=$LocalJumpError=$klass($base,$super,"LocalJumpError",$LocalJumpError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){function $TypeError(){}var self=$TypeError=$klass($base,$super,"TypeError",$TypeError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){function $ArgumentError(){}var self=$ArgumentError=$klass($base,$super,"ArgumentError",$ArgumentError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){function $IndexError(){}var self=$IndexError=$klass($base,$super,"IndexError",$IndexError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){function $StopIteration(){}var self=$StopIteration=$klass($base,$super,"StopIteration",$StopIteration);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"IndexError"),$nesting),function($base,$super,$parent_nesting){function $KeyError(){}var self=$KeyError=$klass($base,$super,"KeyError",$KeyError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"IndexError"),$nesting),function($base,$super,$parent_nesting){function $RangeError(){}var self=$RangeError=$klass($base,$super,"RangeError",$RangeError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){function $FloatDomainError(){}var self=$FloatDomainError=$klass($base,$super,"FloatDomainError",$FloatDomainError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"RangeError"),$nesting),function($base,$super,$parent_nesting){function $IOError(){}var self=$IOError=$klass($base,$super,"IOError",$IOError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){function $SystemCallError(){}var self=$SystemCallError=$klass($base,$super,"SystemCallError",$SystemCallError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"StandardError"),$nesting),function($base,$parent_nesting){var self=$module($base,"Errno"),$nesting=(self.$$proto,[self].concat($parent_nesting));!function($base,$super,$parent_nesting){function $EINVAL(){}var TMP_EINVAL_new_9,self=$EINVAL=$klass($base,$super,"EINVAL",$EINVAL);self.$$proto,[self].concat($parent_nesting);Opal.defs(self,"$new",TMP_EINVAL_new_9=function(name){var lhs,rhs,$iter=TMP_EINVAL_new_9.$$p,message=nil;return null==name&&(name=nil),$iter&&(TMP_EINVAL_new_9.$$p=null),message="Invalid argument",$truthy(name)&&(rhs=" - "+name,message="number"==typeof(lhs=message)&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)),$send(this,Opal.find_super_dispatcher(this,"new",TMP_EINVAL_new_9,!1,$EINVAL),[message],null)},TMP_EINVAL_new_9.$$arity=-1)}($nesting[0],Opal.const_get_relative($nesting,"SystemCallError"),$nesting)}($nesting[0],$nesting),function($base,$super,$parent_nesting){function $UncaughtThrowError(){}var TMP_UncaughtThrowError_initialize_10,self=$UncaughtThrowError=$klass($base,$super,"UncaughtThrowError",$UncaughtThrowError),def=self.$$proto;[self].concat($parent_nesting);def.sym=nil,self.$attr_reader("sym","arg"),Opal.defn(self,"$initialize",TMP_UncaughtThrowError_initialize_10=function(args){var lhs,rhs,$iter=TMP_UncaughtThrowError_initialize_10.$$p;return $iter&&(TMP_UncaughtThrowError_initialize_10.$$p=null),this.sym=args["$[]"](0),$truthy((lhs=args.$length(),rhs=1,"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)))&&(this.arg=args["$[]"](1)),$send(this,Opal.find_super_dispatcher(this,"initialize",TMP_UncaughtThrowError_initialize_10,!1),["uncaught throw "+this.sym.$inspect()],null)},TMP_UncaughtThrowError_initialize_10.$$arity=1)}($nesting[0],Opal.const_get_relative($nesting,"ArgumentError"),$nesting),function($base,$super,$parent_nesting){function $NameError(){}var TMP_NameError_initialize_11,self=$NameError=$klass($base,null,"NameError",$NameError);self.$$proto,[self].concat($parent_nesting);self.$attr_reader("name"),Opal.defn(self,"$initialize",TMP_NameError_initialize_11=function(message,name){var $iter=TMP_NameError_initialize_11.$$p;return null==name&&(name=nil),$iter&&(TMP_NameError_initialize_11.$$p=null),$send(this,Opal.find_super_dispatcher(this,"initialize",TMP_NameError_initialize_11,!1),[message],null),this.name=name},TMP_NameError_initialize_11.$$arity=-2)}($nesting[0],0,$nesting),function($base,$super,$parent_nesting){function $NoMethodError(){}var TMP_NoMethodError_initialize_12,self=$NoMethodError=$klass($base,null,"NoMethodError",$NoMethodError);self.$$proto,[self].concat($parent_nesting);self.$attr_reader("args"),Opal.defn(self,"$initialize",TMP_NoMethodError_initialize_12=function(message,name,args){var $iter=TMP_NoMethodError_initialize_12.$$p;return null==name&&(name=nil),null==args&&(args=[]),$iter&&(TMP_NoMethodError_initialize_12.$$p=null),$send(this,Opal.find_super_dispatcher(this,"initialize",TMP_NoMethodError_initialize_12,!1),[message,name],null),this.args=args},TMP_NoMethodError_initialize_12.$$arity=-2)}($nesting[0],0,$nesting),function($base,$super,$parent_nesting){function $StopIteration(){}var self=$StopIteration=$klass($base,null,"StopIteration",$StopIteration);self.$$proto,[self].concat($parent_nesting);self.$attr_reader("result")}($nesting[0],0,$nesting),function($base,$parent_nesting){var self=$module($base,"JS"),$nesting=(self.$$proto,[self].concat($parent_nesting));!function($base,$super,$parent_nesting){function $Error(){}var self=$Error=$klass($base,null,"Error",$Error);self.$$proto,[self].concat($parent_nesting)}($nesting[0],0,$nesting)}($nesting[0],$nesting)},Opal.modules["corelib/constants"]=function(Opal){Opal.top;var $nesting=[];Opal.nil,Opal.breaker,Opal.slice;return Opal.const_set($nesting[0],"RUBY_PLATFORM","opal"),Opal.const_set($nesting[0],"RUBY_ENGINE","opal"),Opal.const_set($nesting[0],"RUBY_VERSION","2.4.5"),Opal.const_set($nesting[0],"RUBY_ENGINE_VERSION","0.11.4"),Opal.const_set($nesting[0],"RUBY_RELEASE_DATE","2018-11-07"),Opal.const_set($nesting[0],"RUBY_PATCHLEVEL",0),Opal.const_set($nesting[0],"RUBY_REVISION",0),Opal.const_set($nesting[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),Opal.const_set($nesting[0],"RUBY_DESCRIPTION","opal "+Opal.const_get_relative($nesting,"RUBY_ENGINE_VERSION")+" ("+Opal.const_get_relative($nesting,"RUBY_RELEASE_DATE")+" revision "+Opal.const_get_relative($nesting,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(Opal){var self=Opal.top;Opal.nil,Opal.breaker,Opal.slice;return Opal.add_stubs(["$require"]),self.$require("corelib/runtime"),self.$require("corelib/helpers"),self.$require("corelib/module"),self.$require("corelib/class"),self.$require("corelib/basic_object"),self.$require("corelib/kernel"),self.$require("corelib/error"),self.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$hash2=Opal.hash2,$truthy=Opal.truthy;return Opal.add_stubs(["$raise","$name","$new","$>","$length","$Rational"]),function($base,$super,$parent_nesting){function $NilClass(){}var TMP_NilClass_$B_2,TMP_NilClass_$_3,TMP_NilClass_$_4,TMP_NilClass_$_5,TMP_NilClass_$eq$eq_6,TMP_NilClass_dup_7,TMP_NilClass_clone_8,TMP_NilClass_inspect_9,TMP_NilClass_nil$q_10,TMP_NilClass_singleton_class_11,TMP_NilClass_to_a_12,TMP_NilClass_to_h_13,TMP_NilClass_to_i_14,TMP_NilClass_to_s_15,TMP_NilClass_to_c_16,TMP_NilClass_rationalize_17,TMP_NilClass_to_r_18,TMP_NilClass_instance_variables_19,self=$NilClass=$klass($base,null,"NilClass",$NilClass),def=self.$$proto,$nesting=[self].concat($parent_nesting);def.$$meta=self,function(self,$parent_nesting){self.$$proto;var TMP_allocate_1,$nesting=[self].concat($parent_nesting);Opal.defn(self,"$allocate",TMP_allocate_1=function(){return this.$raise(Opal.const_get_relative($nesting,"TypeError"),"allocator undefined for "+this.$name())},TMP_allocate_1.$$arity=0),Opal.udef(self,"$new")}(Opal.get_singleton_class(self),$nesting),Opal.defn(self,"$!",TMP_NilClass_$B_2=function(){return!0},TMP_NilClass_$B_2.$$arity=0),Opal.defn(self,"$&",TMP_NilClass_$_3=function(other){return!1},TMP_NilClass_$_3.$$arity=1),Opal.defn(self,"$|",TMP_NilClass_$_4=function(other){return!1!==other&&other!==nil},TMP_NilClass_$_4.$$arity=1),Opal.defn(self,"$^",TMP_NilClass_$_5=function(other){return!1!==other&&other!==nil},TMP_NilClass_$_5.$$arity=1),Opal.defn(self,"$==",TMP_NilClass_$eq$eq_6=function(other){return other===nil},TMP_NilClass_$eq$eq_6.$$arity=1),Opal.defn(self,"$dup",TMP_NilClass_dup_7=function(){return nil},TMP_NilClass_dup_7.$$arity=0),Opal.defn(self,"$clone",TMP_NilClass_clone_8=function($kwargs){if(null==$kwargs||!$kwargs.$$is_hash){if(null!=$kwargs)throw Opal.ArgumentError.$new("expected kwargs");$kwargs=$hash2([],{})}return null==$kwargs.$$smap.freeze&&!0,nil},TMP_NilClass_clone_8.$$arity=-1),Opal.defn(self,"$inspect",TMP_NilClass_inspect_9=function(){return"nil"},TMP_NilClass_inspect_9.$$arity=0),Opal.defn(self,"$nil?",TMP_NilClass_nil$q_10=function(){return!0},TMP_NilClass_nil$q_10.$$arity=0),Opal.defn(self,"$singleton_class",TMP_NilClass_singleton_class_11=function(){return Opal.const_get_relative($nesting,"NilClass")},TMP_NilClass_singleton_class_11.$$arity=0),Opal.defn(self,"$to_a",TMP_NilClass_to_a_12=function(){return[]},TMP_NilClass_to_a_12.$$arity=0),Opal.defn(self,"$to_h",TMP_NilClass_to_h_13=function(){return Opal.hash()},TMP_NilClass_to_h_13.$$arity=0),Opal.defn(self,"$to_i",TMP_NilClass_to_i_14=function(){return 0},TMP_NilClass_to_i_14.$$arity=0),Opal.alias(self,"to_f","to_i"),Opal.defn(self,"$to_s",TMP_NilClass_to_s_15=function(){return""},TMP_NilClass_to_s_15.$$arity=0),Opal.defn(self,"$to_c",TMP_NilClass_to_c_16=function(){return Opal.const_get_relative($nesting,"Complex").$new(0,0)},TMP_NilClass_to_c_16.$$arity=0),Opal.defn(self,"$rationalize",TMP_NilClass_rationalize_17=function($a_rest){var args,lhs,rhs,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return $truthy((lhs=args.$length(),rhs=1,"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)))&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError")),this.$Rational(0,1)},TMP_NilClass_rationalize_17.$$arity=-1),Opal.defn(self,"$to_r",TMP_NilClass_to_r_18=function(){return this.$Rational(0,1)},TMP_NilClass_to_r_18.$$arity=0),Opal.defn(self,"$instance_variables",TMP_NilClass_instance_variables_19=function(){return[]},TMP_NilClass_instance_variables_19.$$arity=0)}($nesting[0],0,$nesting),Opal.const_set($nesting[0],"NIL",nil)},Opal.modules["corelib/boolean"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$hash2=Opal.hash2;return Opal.add_stubs(["$raise","$name"]),function($base,$super,$parent_nesting){function $Boolean(){}var TMP_Boolean___id___2,TMP_Boolean_$B_3,TMP_Boolean_$_4,TMP_Boolean_$_5,TMP_Boolean_$_6,TMP_Boolean_$eq$eq_7,TMP_Boolean_singleton_class_8,TMP_Boolean_to_s_9,TMP_Boolean_dup_10,TMP_Boolean_clone_11,self=$Boolean=$klass($base,$super,"Boolean",$Boolean),def=self.$$proto,$nesting=[self].concat($parent_nesting);def.$$is_boolean=!0,def.$$meta=self,function(self,$parent_nesting){self.$$proto;var TMP_allocate_1,$nesting=[self].concat($parent_nesting);Opal.defn(self,"$allocate",TMP_allocate_1=function(){return this.$raise(Opal.const_get_relative($nesting,"TypeError"),"allocator undefined for "+this.$name())},TMP_allocate_1.$$arity=0),Opal.udef(self,"$new")}(Opal.get_singleton_class(self),$nesting),Opal.defn(self,"$__id__",TMP_Boolean___id___2=function(){return this.valueOf()?2:0},TMP_Boolean___id___2.$$arity=0),Opal.alias(self,"object_id","__id__"),Opal.defn(self,"$!",TMP_Boolean_$B_3=function(){return 1!=this},TMP_Boolean_$B_3.$$arity=0),Opal.defn(self,"$&",TMP_Boolean_$_4=function(other){return 1==this&&(!1!==other&&other!==nil)},TMP_Boolean_$_4.$$arity=1),Opal.defn(self,"$|",TMP_Boolean_$_5=function(other){return 1==this||!1!==other&&other!==nil},TMP_Boolean_$_5.$$arity=1),Opal.defn(self,"$^",TMP_Boolean_$_6=function(other){return 1==this?!1===other||other===nil:!1!==other&&other!==nil},TMP_Boolean_$_6.$$arity=1),Opal.defn(self,"$==",TMP_Boolean_$eq$eq_7=function(other){return 1==this===other.valueOf()},TMP_Boolean_$eq$eq_7.$$arity=1),Opal.alias(self,"equal?","=="),Opal.alias(self,"eql?","=="),Opal.defn(self,"$singleton_class",TMP_Boolean_singleton_class_8=function(){return Opal.const_get_relative($nesting,"Boolean")},TMP_Boolean_singleton_class_8.$$arity=0),Opal.defn(self,"$to_s",TMP_Boolean_to_s_9=function(){return 1==this?"true":"false"},TMP_Boolean_to_s_9.$$arity=0),Opal.defn(self,"$dup",TMP_Boolean_dup_10=function(){return this},TMP_Boolean_dup_10.$$arity=0),Opal.defn(self,"$clone",TMP_Boolean_clone_11=function($kwargs){if(null==$kwargs||!$kwargs.$$is_hash){if(null!=$kwargs)throw Opal.ArgumentError.$new("expected kwargs");$kwargs=$hash2([],{})}return null==$kwargs.$$smap.freeze&&!0,this},TMP_Boolean_clone_11.$$arity=-1)}($nesting[0],Boolean,$nesting),Opal.const_set($nesting[0],"TrueClass",Opal.const_get_relative($nesting,"Boolean")),Opal.const_set($nesting[0],"FalseClass",Opal.const_get_relative($nesting,"Boolean")),Opal.const_set($nesting[0],"TRUE",!0),Opal.const_set($nesting[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(Opal){function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}Opal.top;var $nesting=[],nil=Opal.nil,$module=(Opal.breaker,Opal.slice,Opal.module),$truthy=Opal.truthy;return Opal.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function($base,$parent_nesting){var TMP_Comparable_normalize_1,TMP_Comparable_$eq$eq_2,TMP_Comparable_$gt_3,TMP_Comparable_$gt$eq_4,TMP_Comparable_$lt_5,TMP_Comparable_$lt$eq_6,TMP_Comparable_between$q_7,TMP_Comparable_clamp_8,self=$module($base,"Comparable"),$nesting=(self.$$proto,[self].concat($parent_nesting));Opal.defs(self,"$normalize",TMP_Comparable_normalize_1=function(what){return $truthy(Opal.const_get_relative($nesting,"Integer")["$==="](what))?what:$truthy($rb_gt(what,0))?1:$truthy($rb_lt(what,0))?-1:0},TMP_Comparable_normalize_1.$$arity=1),Opal.defn(self,"$==",TMP_Comparable_$eq$eq_2=function(other){var cmp=nil;try{return!!$truthy(this["$equal?"](other))||this["$<=>"]!=Opal.Kernel["$<=>"]&&(this.$$comparable?(delete this.$$comparable,!1):!!$truthy(cmp=this["$<=>"](other))&&0==Opal.const_get_relative($nesting,"Comparable").$normalize(cmp))}catch($err){if(!Opal.rescue($err,[Opal.const_get_relative($nesting,"StandardError")]))throw $err;try{return!1}finally{Opal.pop_exception()}}},TMP_Comparable_$eq$eq_2.$$arity=1),Opal.defn(self,"$>",TMP_Comparable_$gt_3=function(other){var cmp;return $truthy(cmp=this["$<=>"](other))||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison of "+this.$class()+" with "+other.$class()+" failed"),0<Opal.const_get_relative($nesting,"Comparable").$normalize(cmp)},TMP_Comparable_$gt_3.$$arity=1),Opal.defn(self,"$>=",TMP_Comparable_$gt$eq_4=function(other){var cmp;return $truthy(cmp=this["$<=>"](other))||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison of "+this.$class()+" with "+other.$class()+" failed"),0<=Opal.const_get_relative($nesting,"Comparable").$normalize(cmp)},TMP_Comparable_$gt$eq_4.$$arity=1),Opal.defn(self,"$<",TMP_Comparable_$lt_5=function(other){var cmp;return $truthy(cmp=this["$<=>"](other))||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison of "+this.$class()+" with "+other.$class()+" failed"),Opal.const_get_relative($nesting,"Comparable").$normalize(cmp)<0},TMP_Comparable_$lt_5.$$arity=1),Opal.defn(self,"$<=",TMP_Comparable_$lt$eq_6=function(other){var cmp;return $truthy(cmp=this["$<=>"](other))||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison of "+this.$class()+" with "+other.$class()+" failed"),Opal.const_get_relative($nesting,"Comparable").$normalize(cmp)<=0},TMP_Comparable_$lt$eq_6.$$arity=1),Opal.defn(self,"$between?",TMP_Comparable_between$q_7=function(min,max){return!$rb_lt(this,min)&&!$rb_gt(this,max)},TMP_Comparable_between$q_7.$$arity=2),Opal.defn(self,"$clamp",TMP_Comparable_clamp_8=function(min,max){var cmp;return cmp=min["$<=>"](max),$truthy(cmp)||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison of "+min.$class()+" with "+max.$class()+" failed"),$truthy($rb_gt(Opal.const_get_relative($nesting,"Comparable").$normalize(cmp),0))&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"min argument must be smaller than max argument"),$truthy($rb_lt(Opal.const_get_relative($nesting,"Comparable").$normalize(this["$<=>"](min)),0))?min:$truthy($rb_gt(Opal.const_get_relative($nesting,"Comparable").$normalize(this["$<=>"](max)),0))?max:this},TMP_Comparable_clamp_8.$$arity=2)}($nesting[0],$nesting)},Opal.modules["corelib/regexp"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$send=Opal.send,$truthy=Opal.truthy,$gvars=Opal.gvars;return Opal.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$call","$=~","$attr_reader","$===","$inspect","$to_a"]),function($base,$super,$parent_nesting){function $RegexpError(){}var self=$RegexpError=$klass($base,$super,"RegexpError",$RegexpError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){function $Regexp(){}var TMP_Regexp_$eq$eq_6,TMP_Regexp_$eq$eq$eq_7,TMP_Regexp_$eq$_8,TMP_Regexp_inspect_9,TMP_Regexp_match_10,TMP_Regexp_match$q_11,TMP_Regexp_$_12,TMP_Regexp_source_13,TMP_Regexp_options_14,TMP_Regexp_casefold$q_15,self=$Regexp=$klass($base,$super,"Regexp",$Regexp),def=self.$$proto,$nesting=[self].concat($parent_nesting);Opal.const_set($nesting[0],"IGNORECASE",1),Opal.const_set($nesting[0],"MULTILINE",4),def.$$is_regexp=!0,function(self,$parent_nesting){self.$$proto;var TMP_allocate_1,TMP_escape_2,TMP_last_match_3,TMP_union_4,TMP_new_5,$nesting=[self].concat($parent_nesting);Opal.defn(self,"$allocate",TMP_allocate_1=function(){var $zuper_ii,$iter=TMP_allocate_1.$$p,allocated=nil,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_allocate_1.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return(allocated=$send(this,Opal.find_super_dispatcher(this,"allocate",TMP_allocate_1,!1),$zuper,$iter)).uninitialized=!0,allocated},TMP_allocate_1.$$arity=0),Opal.defn(self,"$escape",TMP_escape_2=function(string){return Opal.escape_regexp(string)},TMP_escape_2.$$arity=1),Opal.defn(self,"$last_match",TMP_last_match_3=function(n){return null==$gvars["~"]&&($gvars["~"]=nil),null==n&&(n=nil),$truthy(n["$nil?"]())?$gvars["~"]:$gvars["~"]["$[]"](n)},TMP_last_match_3.$$arity=-1),Opal.alias(self,"quote","escape"),Opal.defn(self,"$union",TMP_union_4=function($a_rest){var parts,is_first_part_array,quoted_validated,part,options,each_part_options,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),parts=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)parts[$arg_idx-0]=arguments[$arg_idx];if(0==parts.length)return/(?!)/;is_first_part_array=parts[0].$$is_array,1<parts.length&&is_first_part_array&&this.$raise(Opal.const_get_relative($nesting,"TypeError"),"no implicit conversion of Array into String"),is_first_part_array&&(parts=parts[0]),options=void 0,quoted_validated=[];for(var i=0;i<parts.length;i++)(part=parts[i]).$$is_string?quoted_validated.push(this.$escape(part)):part.$$is_regexp?(each_part_options=part.$options(),null!=options&&options!=each_part_options&&this.$raise(Opal.const_get_relative($nesting,"TypeError"),"All expressions must use the same options"),options=each_part_options,quoted_validated.push("("+part.source+")")):quoted_validated.push(this.$escape(part.$to_str()));return this.$new(quoted_validated.$join("|"),options)},TMP_union_4.$$arity=-1),Opal.defn(self,"$new",TMP_new_5=function(regexp,options){if(regexp.$$is_regexp)return new RegExp(regexp);if("\\"===(regexp=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](regexp,Opal.const_get_relative($nesting,"String"),"to_str")).charAt(regexp.length-1)&&"\\"!==regexp.charAt(regexp.length-2)&&this.$raise(Opal.const_get_relative($nesting,"RegexpError"),"too short escape sequence: /"+regexp+"/"),void 0===options||options["$!"]())return new RegExp(regexp);if(options.$$is_number){var temp="";Opal.const_get_relative($nesting,"IGNORECASE")&options&&(temp+="i"),Opal.const_get_relative($nesting,"MULTILINE")&options&&(temp+="m"),options=temp}else options="i";return new RegExp(regexp,options)},TMP_new_5.$$arity=-2)}(Opal.get_singleton_class(self),$nesting),Opal.defn(self,"$==",TMP_Regexp_$eq$eq_6=function(other){return other.constructor==RegExp&&this.toString()===other.toString()},TMP_Regexp_$eq$eq_6.$$arity=1),Opal.defn(self,"$===",TMP_Regexp_$eq$eq$eq_7=function(string){return this.$match(Opal.const_get_relative($nesting,"Opal")["$coerce_to?"](string,Opal.const_get_relative($nesting,"String"),"to_str"))!==nil},TMP_Regexp_$eq$eq$eq_7.$$arity=1),Opal.defn(self,"$=~",TMP_Regexp_$eq$_8=function(string){var $a;return null==$gvars["~"]&&($gvars["~"]=nil),$truthy($a=this.$match(string))?$gvars["~"].$begin(0):$a},TMP_Regexp_$eq$_8.$$arity=1),Opal.alias(self,"eql?","=="),Opal.defn(self,"$inspect",TMP_Regexp_inspect_9=function(){var value=this.toString(),matches=/^\/(.*)\/([^\/]*)$/.exec(value);if(matches){for(var regexp_pattern=matches[1],regexp_flags=matches[2],chars=regexp_pattern.split(""),chars_length=chars.length,char_escaped=!1,regexp_pattern_escaped="",i=0;i<chars_length;i++){var current_char=chars[i];char_escaped||"/"!=current_char||(regexp_pattern_escaped=regexp_pattern_escaped.concat("\\")),regexp_pattern_escaped=regexp_pattern_escaped.concat(current_char),char_escaped="\\"==current_char&&!char_escaped}return"/"+regexp_pattern_escaped+"/"+regexp_flags}return value},TMP_Regexp_inspect_9.$$arity=0),Opal.defn(self,"$match",TMP_Regexp_match_10=function(string,pos){var $iter=TMP_Regexp_match_10.$$p,block=$iter||nil;if(null==$gvars["~"]&&($gvars["~"]=nil),$iter&&(TMP_Regexp_match_10.$$p=null),this.uninitialized&&this.$raise(Opal.const_get_relative($nesting,"TypeError"),"uninitialized Regexp"),pos=void 0===pos?0:Opal.const_get_relative($nesting,"Opal").$coerce_to(pos,Opal.const_get_relative($nesting,"Integer"),"to_int"),string===nil)return $gvars["~"]=nil;if(string=Opal.const_get_relative($nesting,"Opal").$coerce_to(string,Opal.const_get_relative($nesting,"String"),"to_str"),pos<0&&(pos+=string.length)<0)return $gvars["~"]=nil;var source=this.source,flags="g";this.multiline&&(source=source.replace(".","[\\s\\S]"),flags+="m");for(var md,re=new RegExp(source,flags+(this.ignoreCase?"i":""));;){if(null===(md=re.exec(string)))return $gvars["~"]=nil;if(md.index>=pos)return $gvars["~"]=Opal.const_get_relative($nesting,"MatchData").$new(re,md),block===nil?$gvars["~"]:block.$call($gvars["~"]);re.lastIndex=md.index+1}},TMP_Regexp_match_10.$$arity=-2),Opal.defn(self,"$match?",TMP_Regexp_match$q_11=function(string,pos){if(this.uninitialized&&this.$raise(Opal.const_get_relative($nesting,"TypeError"),"uninitialized Regexp"),pos=void 0===pos?0:Opal.const_get_relative($nesting,"Opal").$coerce_to(pos,Opal.const_get_relative($nesting,"Integer"),"to_int"),string===nil)return!1;if(string=Opal.const_get_relative($nesting,"Opal").$coerce_to(string,Opal.const_get_relative($nesting,"String"),"to_str"),pos<0&&(pos+=string.length)<0)return!1;var md,source=this.source,flags="g";return this.multiline&&(source=source.replace(".","[\\s\\S]"),flags+="m"),!(null===(md=new RegExp(source,flags+(this.ignoreCase?"i":"")).exec(string))||md.index<pos)},TMP_Regexp_match$q_11.$$arity=-2),Opal.defn(self,"$~",TMP_Regexp_$_12=function(){return null==$gvars._&&($gvars._=nil),this["$=~"]($gvars._)},TMP_Regexp_$_12.$$arity=0),Opal.defn(self,"$source",TMP_Regexp_source_13=function(){return this.source},TMP_Regexp_source_13.$$arity=0),Opal.defn(self,"$options",TMP_Regexp_options_14=function(){this.uninitialized&&this.$raise(Opal.const_get_relative($nesting,"TypeError"),"uninitialized Regexp");var result=0;return this.multiline&&(result|=Opal.const_get_relative($nesting,"MULTILINE")),this.ignoreCase&&(result|=Opal.const_get_relative($nesting,"IGNORECASE")),result},TMP_Regexp_options_14.$$arity=0),Opal.defn(self,"$casefold?",TMP_Regexp_casefold$q_15=function(){return this.ignoreCase},TMP_Regexp_casefold$q_15.$$arity=0),Opal.alias(self,"to_s","source")}($nesting[0],RegExp,$nesting),function($base,$super,$parent_nesting){function $MatchData(){}var TMP_MatchData_initialize_16,TMP_MatchData_$$_17,TMP_MatchData_offset_18,TMP_MatchData_$eq$eq_19,TMP_MatchData_begin_20,TMP_MatchData_end_21,TMP_MatchData_captures_22,TMP_MatchData_inspect_23,TMP_MatchData_length_24,TMP_MatchData_to_a_25,TMP_MatchData_to_s_26,TMP_MatchData_values_at_27,self=$MatchData=$klass($base,null,"MatchData",$MatchData),def=self.$$proto,$nesting=[self].concat($parent_nesting);return def.matches=nil,self.$attr_reader("post_match","pre_match","regexp","string"),Opal.defn(self,"$initialize",TMP_MatchData_initialize_16=function(regexp,match_groups){($gvars["~"]=this).regexp=regexp,this.begin=match_groups.index,this.string=match_groups.input,this.pre_match=match_groups.input.slice(0,match_groups.index),this.post_match=match_groups.input.slice(match_groups.index+match_groups[0].length),this.matches=[];for(var i=0,length=match_groups.length;i<length;i++){var group=match_groups[i];null==group?this.matches.push(nil):this.matches.push(group)}},TMP_MatchData_initialize_16.$$arity=2),Opal.defn(self,"$[]",TMP_MatchData_$$_17=function($a_rest){var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return $send(this.matches,"[]",Opal.to_a(args))},TMP_MatchData_$$_17.$$arity=-1),Opal.defn(self,"$offset",TMP_MatchData_offset_18=function(n){return 0!==n&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"MatchData#offset only supports 0th element"),[this.begin,this.begin+this.matches[n].length]},TMP_MatchData_offset_18.$$arity=1),Opal.defn(self,"$==",TMP_MatchData_$eq$eq_19=function(other){var $a,$b,$c,$d;return!!$truthy(Opal.const_get_relative($nesting,"MatchData")["$==="](other))&&($truthy($a=$truthy($b=$truthy($c=$truthy($d=this.string==other.string)?this.regexp.toString()==other.regexp.toString():$d)?this.pre_match==other.pre_match:$c)?this.post_match==other.post_match:$b)?this.begin==other.begin:$a)},TMP_MatchData_$eq$eq_19.$$arity=1),Opal.alias(self,"eql?","=="),Opal.defn(self,"$begin",TMP_MatchData_begin_20=function(n){return 0!==n&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"MatchData#begin only supports 0th element"),this.begin},TMP_MatchData_begin_20.$$arity=1),Opal.defn(self,"$end",TMP_MatchData_end_21=function(n){return 0!==n&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"MatchData#end only supports 0th element"),this.begin+this.matches[n].length},TMP_MatchData_end_21.$$arity=1),Opal.defn(self,"$captures",TMP_MatchData_captures_22=function(){return this.matches.slice(1)},TMP_MatchData_captures_22.$$arity=0),Opal.defn(self,"$inspect",TMP_MatchData_inspect_23=function(){for(var str="#<MatchData "+this.matches[0].$inspect(),i=1,length=this.matches.length;i<length;i++)str+=" "+i+":"+this.matches[i].$inspect();return str+">"},TMP_MatchData_inspect_23.$$arity=0),Opal.defn(self,"$length",TMP_MatchData_length_24=function(){return this.matches.length},TMP_MatchData_length_24.$$arity=0),Opal.alias(self,"size","length"),Opal.defn(self,"$to_a",TMP_MatchData_to_a_25=function(){return this.matches},TMP_MatchData_to_a_25.$$arity=0),Opal.defn(self,"$to_s",TMP_MatchData_to_s_26=function(){return this.matches[0]},TMP_MatchData_to_s_26.$$arity=0),Opal.defn(self,"$values_at",TMP_MatchData_values_at_27=function($a_rest){var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];var i,a,index,values=[];for(i=0;i<args.length;i++)args[i].$$is_range&&((a=args[i].$to_a()).unshift(i,1),Array.prototype.splice.apply(args,a)),(index=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](args[i],Opal.const_get_relative($nesting,"Integer"),"to_int"))<0&&(index+=this.matches.length)<0?values.push(nil):values.push(this.matches[index]);return values},TMP_MatchData_values_at_27.$$arity=-1),nil&&"values_at"}($nesting[0],0,$nesting)},Opal.modules["corelib/string"]=function(Opal){function $rb_divide(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)}function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$truthy=Opal.truthy,$send=Opal.send,$gvars=Opal.gvars;return Opal.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$succ","$escape"]),self.$require("corelib/comparable"),self.$require("corelib/regexp"),function($base,$super,$parent_nesting){function $String(){}var TMP_String___id___1,TMP_String_try_convert_2,TMP_String_new_3,TMP_String_initialize_4,TMP_String_$_5,TMP_String_$_6,TMP_String_$_7,TMP_String_$lt$eq$gt_8,TMP_String_$eq$eq_9,TMP_String_$eq$_10,TMP_String_$$_11,TMP_String_capitalize_12,TMP_String_casecmp_13,TMP_String_center_14,TMP_String_chars_15,TMP_String_chomp_16,TMP_String_chop_17,TMP_String_chr_18,TMP_String_clone_19,TMP_String_dup_20,TMP_String_count_21,TMP_String_delete_22,TMP_String_downcase_23,TMP_String_each_char_24,TMP_String_each_line_26,TMP_String_empty$q_27,TMP_String_end_with$q_28,TMP_String_gsub_29,TMP_String_hash_30,TMP_String_hex_31,TMP_String_include$q_32,TMP_String_index_33,TMP_String_inspect_34,TMP_String_intern_35,TMP_String_lines_36,TMP_String_length_37,TMP_String_ljust_38,TMP_String_lstrip_39,TMP_String_ascii_only$q_40,TMP_String_match_41,TMP_String_next_42,TMP_String_oct_43,TMP_String_ord_44,TMP_String_partition_45,TMP_String_reverse_46,TMP_String_rindex_47,TMP_String_rjust_48,TMP_String_rpartition_49,TMP_String_rstrip_50,TMP_String_scan_51,TMP_String_split_52,TMP_String_squeeze_53,TMP_String_start_with$q_54,TMP_String_strip_55,TMP_String_sub_56,TMP_String_sum_57,TMP_String_swapcase_58,TMP_String_to_f_59,TMP_String_to_i_60,TMP_String_to_proc_62,TMP_String_to_s_63,TMP_String_tr_64,TMP_String_tr_s_65,TMP_String_upcase_66,TMP_String_upto_67,TMP_String_instance_variables_68,TMP_String__load_69,TMP_String_unpack_70,self=$String=$klass($base,$super,"String",$String),def=self.$$proto,$nesting=[self].concat($parent_nesting);function char_class_from_char_sets(sets){function explode_sequences_in_character_set(set){var i,curr_char,skip_next_dash,char_code_from,char_code_upto,char_code,result="",len=set.length;for(i=0;i<len;i++)if("-"===(curr_char=set.charAt(i))&&0<i&&i<len-1&&!skip_next_dash){for(char_code_from=set.charCodeAt(i-1),(char_code_upto=set.charCodeAt(i+1))<char_code_from&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),'invalid range "'+char_code_from+"-"+char_code_upto+'" in string transliteration'),char_code=char_code_from+1;char_code<char_code_upto+1;char_code++)result+=String.fromCharCode(char_code);skip_next_dash=!0,i++}else skip_next_dash="\\"===curr_char,result+=curr_char;return result}function intersection(setA,setB){if(0===setA.length)return setB;var i,chr,result="",len=setA.length;for(i=0;i<len;i++)chr=setA.charAt(i),-1!==setB.indexOf(chr)&&(result+=chr);return result}var i,len,set,neg,chr,tmp,pos_intersection="",neg_intersection="";for(i=0,len=sets.length;i<len;i++)set=explode_sequences_in_character_set((neg="^"===(set=Opal.const_get_relative($nesting,"Opal").$coerce_to(sets[i],Opal.const_get_relative($nesting,"String"),"to_str")).charAt(0)&&1<set.length)?set.slice(1):set),neg?neg_intersection=intersection(neg_intersection,set):pos_intersection=intersection(pos_intersection,set);if(0<pos_intersection.length&&0<neg_intersection.length){for(tmp="",i=0,len=pos_intersection.length;i<len;i++)chr=pos_intersection.charAt(i),-1===neg_intersection.indexOf(chr)&&(tmp+=chr);pos_intersection=tmp,neg_intersection=""}return 0<pos_intersection.length?"["+Opal.const_get_relative($nesting,"Regexp").$escape(pos_intersection)+"]":0<neg_intersection.length?"[^"+Opal.const_get_relative($nesting,"Regexp").$escape(neg_intersection)+"]":null}def.length=nil,self.$include(Opal.const_get_relative($nesting,"Comparable")),def.$$is_string=!0,Opal.defn(self,"$__id__",TMP_String___id___1=function(){return this.toString()},TMP_String___id___1.$$arity=0),Opal.alias(self,"object_id","__id__"),Opal.defs(self,"$try_convert",TMP_String_try_convert_2=function(what){return Opal.const_get_relative($nesting,"Opal")["$coerce_to?"](what,Opal.const_get_relative($nesting,"String"),"to_str")},TMP_String_try_convert_2.$$arity=1),Opal.defs(self,"$new",TMP_String_new_3=function(str){return null==str&&(str=""),str=Opal.const_get_relative($nesting,"Opal").$coerce_to(str,Opal.const_get_relative($nesting,"String"),"to_str"),new String(str)},TMP_String_new_3.$$arity=-1),Opal.defn(self,"$initialize",TMP_String_initialize_4=function(str){return void 0===str?this:this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),"Mutable strings are not supported in Opal.")},TMP_String_initialize_4.$$arity=-1),Opal.defn(self,"$%",TMP_String_$_5=function(data){var self=this;return $truthy(Opal.const_get_relative($nesting,"Array")["$==="](data))?$send(self,"format",[self].concat(Opal.to_a(data))):self.$format(self,data)},TMP_String_$_5.$$arity=1),Opal.defn(self,"$*",TMP_String_$_6=function(count){if((count=Opal.const_get_relative($nesting,"Opal").$coerce_to(count,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"negative argument"),0===count)return"";var result="",string=this.toString();for(string.length*count>=1<<28&&this.$raise(Opal.const_get_relative($nesting,"RangeError"),"multiply count must not overflow maximum string size");1==(1&count)&&(result+=string),0!==(count>>>=1);)string+=string;return result},TMP_String_$_6.$$arity=1),Opal.defn(self,"$+",TMP_String_$_7=function(other){return this+(other=Opal.const_get_relative($nesting,"Opal").$coerce_to(other,Opal.const_get_relative($nesting,"String"),"to_str")).$to_s()},TMP_String_$_7.$$arity=1),Opal.defn(self,"$<=>",TMP_String_$lt$eq$gt_8=function(other){if($truthy(other["$respond_to?"]("to_str")))return(other=other.$to_str().$to_s())<this?1:this<other?-1:0;var cmp=other["$<=>"](this);return cmp===nil?nil:0<cmp?-1:cmp<0?1:0},TMP_String_$lt$eq$gt_8.$$arity=1),Opal.defn(self,"$==",TMP_String_$eq$eq_9=function(other){return other.$$is_string?this.toString()===other.toString():!!Opal.const_get_relative($nesting,"Opal")["$respond_to?"](other,"to_str")&&other["$=="](this)},TMP_String_$eq$eq_9.$$arity=1),Opal.alias(self,"eql?","=="),Opal.alias(self,"===","=="),Opal.defn(self,"$=~",TMP_String_$eq$_10=function(other){return other.$$is_string&&this.$raise(Opal.const_get_relative($nesting,"TypeError"),"type mismatch: String given"),other["$=~"](this)},TMP_String_$eq$_10.$$arity=1),Opal.defn(self,"$[]",TMP_String_$$_11=function(index,length){var exclude,size=this.length;if(index.$$is_range)return exclude=index.excl,length=Opal.const_get_relative($nesting,"Opal").$coerce_to(index.end,Opal.const_get_relative($nesting,"Integer"),"to_int"),index=Opal.const_get_relative($nesting,"Opal").$coerce_to(index.begin,Opal.const_get_relative($nesting,"Integer"),"to_int"),Math.abs(index)>size?nil:(index<0&&(index+=size),length<0&&(length+=size),exclude||(length+=1),(length-=index)<0&&(length=0),this.substr(index,length));if(index.$$is_string)return null!=length&&this.$raise(Opal.const_get_relative($nesting,"TypeError")),-1!==this.indexOf(index)?index:nil;if(index.$$is_regexp){var match=this.match(index);return null===match?$gvars["~"]=nil:($gvars["~"]=Opal.const_get_relative($nesting,"MatchData").$new(index,match),null==length?match[0]:(length=Opal.const_get_relative($nesting,"Opal").$coerce_to(length,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0&&-length<match.length?match[length+=match.length]:0<=length&&length<match.length?match[length]:nil)}return(index=Opal.const_get_relative($nesting,"Opal").$coerce_to(index,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0&&(index+=size),null==length?size<=index||index<0?nil:this.substr(index,1):(length=Opal.const_get_relative($nesting,"Opal").$coerce_to(length,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0?nil:size<index||index<0?nil:this.substr(index,length)},TMP_String_$$_11.$$arity=-2),Opal.alias(self,"byteslice","[]"),Opal.defn(self,"$capitalize",TMP_String_capitalize_12=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()},TMP_String_capitalize_12.$$arity=0),Opal.defn(self,"$casecmp",TMP_String_casecmp_13=function(other){var self=this;other=Opal.const_get_relative($nesting,"Opal").$coerce_to(other,Opal.const_get_relative($nesting,"String"),"to_str").$to_s();var ascii_only=/^[\x00-\x7F]*$/;return ascii_only.test(self)&&ascii_only.test(other)&&(self=self.toLowerCase(),other=other.toLowerCase()),self["$<=>"](other)},TMP_String_casecmp_13.$$arity=1),Opal.defn(self,"$center",TMP_String_center_14=function(width,padstr){if(null==padstr&&(padstr=" "),width=Opal.const_get_relative($nesting,"Opal").$coerce_to(width,Opal.const_get_relative($nesting,"Integer"),"to_int"),padstr=Opal.const_get_relative($nesting,"Opal").$coerce_to(padstr,Opal.const_get_relative($nesting,"String"),"to_str").$to_s(),$truthy(padstr["$empty?"]())&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"zero width padding"),$truthy(width<=this.length))return this;var ljustified=this.$ljust($rb_divide($rb_plus(width,this.length),2).$ceil(),padstr);return this.$rjust($rb_divide($rb_plus(width,this.length),2).$floor(),padstr)+ljustified.slice(this.length)},TMP_String_center_14.$$arity=-2),Opal.defn(self,"$chars",TMP_String_chars_15=function(){var $iter=TMP_String_chars_15.$$p,block=$iter||nil;return $iter&&(TMP_String_chars_15.$$p=null),$truthy(block)?$send(this,"each_char",[],block.$to_proc()):this.$each_char().$to_a()},TMP_String_chars_15.$$arity=0),Opal.defn(self,"$chomp",TMP_String_chomp_16=function(separator){return null==$gvars["/"]&&($gvars["/"]=nil),null==separator&&(separator=$gvars["/"]),$truthy(separator===nil||0===this.length)?this:"\n"===(separator=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](separator,Opal.const_get_relative($nesting,"String"),"to_str").$to_s())?this.replace(/\r?\n?$/,""):""===separator?this.replace(/(\r?\n)+$/,""):this.length>separator.length&&this.substr(this.length-separator.length,separator.length)===separator?this.substr(0,this.length-separator.length):this},TMP_String_chomp_16.$$arity=-1),Opal.defn(self,"$chop",TMP_String_chop_17=function(){var length=this.length;return length<=1?"":"\n"===this.charAt(length-1)&&"\r"===this.charAt(length-2)?this.substr(0,length-2):this.substr(0,length-1)},TMP_String_chop_17.$$arity=0),Opal.defn(self,"$chr",TMP_String_chr_18=function(){return this.charAt(0)},TMP_String_chr_18.$$arity=0),Opal.defn(self,"$clone",TMP_String_clone_19=function(){var copy=nil;return(copy=this.slice()).$copy_singleton_methods(this),copy.$initialize_clone(this),copy},TMP_String_clone_19.$$arity=0),Opal.defn(self,"$dup",TMP_String_dup_20=function(){var copy=nil;return(copy=this.slice()).$initialize_dup(this),copy},TMP_String_dup_20.$$arity=0),Opal.defn(self,"$count",TMP_String_count_21=function($a_rest){var sets,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),sets=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)sets[$arg_idx-0]=arguments[$arg_idx];0===sets.length&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var char_class=char_class_from_char_sets(sets);return null===char_class?0:this.length-this.replace(new RegExp(char_class,"g"),"").length},TMP_String_count_21.$$arity=-1),Opal.defn(self,"$delete",TMP_String_delete_22=function($a_rest){var sets,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),sets=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)sets[$arg_idx-0]=arguments[$arg_idx];0===sets.length&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var char_class=char_class_from_char_sets(sets);return null===char_class?this:this.replace(new RegExp(char_class,"g"),"")},TMP_String_delete_22.$$arity=-1),Opal.defn(self,"$downcase",TMP_String_downcase_23=function(){return this.toLowerCase()},TMP_String_downcase_23.$$arity=0),Opal.defn(self,"$each_char",TMP_String_each_char_24=function(){var TMP_25,$iter=TMP_String_each_char_24.$$p,block=$iter||nil;if($iter&&(TMP_String_each_char_24.$$p=null),block===nil)return $send(this,"enum_for",["each_char"],((TMP_25=function(){return(TMP_25.$$s||this).$size()}).$$s=this,TMP_25.$$arity=0,TMP_25));for(var i=0,length=this.length;i<length;i++)Opal.yield1(block,this.charAt(i));return this},TMP_String_each_char_24.$$arity=0),Opal.defn(self,"$each_line",TMP_String_each_line_26=function(separator){var a,i,n,length,chomped,trailing,splitted,$iter=TMP_String_each_line_26.$$p,block=$iter||nil;if(null==$gvars["/"]&&($gvars["/"]=nil),null==separator&&(separator=$gvars["/"]),$iter&&(TMP_String_each_line_26.$$p=null),block===nil)return this.$enum_for("each_line",separator);if(separator===nil)return Opal.yield1(block,this),this;if(0===(separator=Opal.const_get_relative($nesting,"Opal").$coerce_to(separator,Opal.const_get_relative($nesting,"String"),"to_str")).length){for(i=0,n=(a=this.split(/(\n{2,})/)).length;i<n;i+=2)(a[i]||a[i+1])&&Opal.yield1(block,(a[i]||"")+(a[i+1]||""));return this}for(chomped=this.$chomp(separator),trailing=this.length!=chomped.length,i=0,length=(splitted=chomped.split(separator)).length;i<length;i++)i<length-1||trailing?Opal.yield1(block,splitted[i]+separator):Opal.yield1(block,splitted[i]);return this},TMP_String_each_line_26.$$arity=-1),Opal.defn(self,"$empty?",TMP_String_empty$q_27=function(){return 0===this.length},TMP_String_empty$q_27.$$arity=0),Opal.defn(self,"$end_with?",TMP_String_end_with$q_28=function($a_rest){var suffixes,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),suffixes=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)suffixes[$arg_idx-0]=arguments[$arg_idx];for(var i=0,length=suffixes.length;i<length;i++){var suffix=Opal.const_get_relative($nesting,"Opal").$coerce_to(suffixes[i],Opal.const_get_relative($nesting,"String"),"to_str").$to_s();if(this.length>=suffix.length&&this.substr(this.length-suffix.length,suffix.length)==suffix)return!0}return!1},TMP_String_end_with$q_28.$$arity=-1),Opal.alias(self,"eql?","=="),Opal.alias(self,"equal?","==="),Opal.defn(self,"$gsub",TMP_String_gsub_29=function(pattern,replacement){var self=this,$iter=TMP_String_gsub_29.$$p,block=$iter||nil;if($iter&&(TMP_String_gsub_29.$$p=null),void 0===replacement&&block===nil)return self.$enum_for("gsub",pattern);var match,_replacement,result="",match_data=nil,index=0;for(pattern=pattern.$$is_regexp?new RegExp(pattern.source,"gm"+(pattern.ignoreCase?"i":"")):(pattern=Opal.const_get_relative($nesting,"Opal").$coerce_to(pattern,Opal.const_get_relative($nesting,"String"),"to_str"),new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(match=pattern.exec(self))){$gvars["~"]=nil,result+=self.slice(index);break}match_data=Opal.const_get_relative($nesting,"MatchData").$new(pattern,match),_replacement=void 0===replacement?block(match[0]):replacement.$$is_hash?replacement["$[]"](match[0]).$to_s():(replacement.$$is_string||(replacement=Opal.const_get_relative($nesting,"Opal").$coerce_to(replacement,Opal.const_get_relative($nesting,"String"),"to_str")),replacement.replace(/([\\]+)([0-9+&`'])/g,function(original,slashes,command){if(slashes.length%2==0)return original;switch(command){case"+":for(var i=match.length-1;0<i;i--)if(void 0!==match[i])return slashes.slice(1)+match[i];return"";case"&":return slashes.slice(1)+match[0];case"`":return slashes.slice(1)+self.slice(0,match.index);case"'":return slashes.slice(1)+self.slice(match.index+match[0].length);default:return slashes.slice(1)+(match[command]||"")}}).replace(/\\\\/g,"\\")),pattern.lastIndex===match.index?(result+=_replacement+self.slice(index,match.index+1),pattern.lastIndex+=1):result+=self.slice(index,match.index)+_replacement,index=pattern.lastIndex}return $gvars["~"]=match_data,result},TMP_String_gsub_29.$$arity=-2),Opal.defn(self,"$hash",TMP_String_hash_30=function(){return this.toString()},TMP_String_hash_30.$$arity=0),Opal.defn(self,"$hex",TMP_String_hex_31=function(){return this.$to_i(16)},TMP_String_hex_31.$$arity=0),Opal.defn(self,"$include?",TMP_String_include$q_32=function(other){return other.$$is_string||(other=Opal.const_get_relative($nesting,"Opal").$coerce_to(other,Opal.const_get_relative($nesting,"String"),"to_str")),-1!==this.indexOf(other)},TMP_String_include$q_32.$$arity=1),Opal.defn(self,"$index",TMP_String_index_33=function(search,offset){var index,match,regex;if(void 0===offset)offset=0;else if((offset=Opal.const_get_relative($nesting,"Opal").$coerce_to(offset,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0&&(offset+=this.length)<0)return nil;if(search.$$is_regexp)for(regex=new RegExp(search.source,"gm"+(search.ignoreCase?"i":""));;){if(null===(match=regex.exec(this))){$gvars["~"]=nil,index=-1;break}if(match.index>=offset){$gvars["~"]=Opal.const_get_relative($nesting,"MatchData").$new(regex,match),index=match.index;break}regex.lastIndex=match.index+1}else index=0===(search=Opal.const_get_relative($nesting,"Opal").$coerce_to(search,Opal.const_get_relative($nesting,"String"),"to_str")).length&&offset>this.length?-1:this.indexOf(search,offset);return-1===index?nil:index},TMP_String_index_33.$$arity=-2),Opal.defn(self,"$inspect",TMP_String_inspect_34=function(){var meta={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(chr){return meta[chr]||"\\u"+("0000"+chr.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},TMP_String_inspect_34.$$arity=0),Opal.defn(self,"$intern",TMP_String_intern_35=function(){return this},TMP_String_intern_35.$$arity=0),Opal.defn(self,"$lines",TMP_String_lines_36=function(separator){var $iter=TMP_String_lines_36.$$p,block=$iter||nil,e=nil;return null==$gvars["/"]&&($gvars["/"]=nil),null==separator&&(separator=$gvars["/"]),$iter&&(TMP_String_lines_36.$$p=null),e=$send(this,"each_line",[separator],block.$to_proc()),$truthy(block)?this:e.$to_a()},TMP_String_lines_36.$$arity=-1),Opal.defn(self,"$length",TMP_String_length_37=function(){return this.length},TMP_String_length_37.$$arity=0),Opal.defn(self,"$ljust",TMP_String_ljust_38=function(width,padstr){if(null==padstr&&(padstr=" "),width=Opal.const_get_relative($nesting,"Opal").$coerce_to(width,Opal.const_get_relative($nesting,"Integer"),"to_int"),padstr=Opal.const_get_relative($nesting,"Opal").$coerce_to(padstr,Opal.const_get_relative($nesting,"String"),"to_str").$to_s(),$truthy(padstr["$empty?"]())&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"zero width padding"),$truthy(width<=this.length))return this;var index=-1,result="";for(width-=this.length;++index<width;)result+=padstr;return this+result.slice(0,width)},TMP_String_ljust_38.$$arity=-2),Opal.defn(self,"$lstrip",TMP_String_lstrip_39=function(){return this.replace(/^\s*/,"")},TMP_String_lstrip_39.$$arity=0),Opal.defn(self,"$ascii_only?",TMP_String_ascii_only$q_40=function(){return this.match(/[ -~\n]*/)[0]===this},TMP_String_ascii_only$q_40.$$arity=0),Opal.defn(self,"$match",TMP_String_match_41=function(pattern,pos){var $a,$iter=TMP_String_match_41.$$p,block=$iter||nil;return $iter&&(TMP_String_match_41.$$p=null),$truthy($truthy($a=Opal.const_get_relative($nesting,"String")["$==="](pattern))?$a:pattern["$respond_to?"]("to_str"))&&(pattern=Opal.const_get_relative($nesting,"Regexp").$new(pattern.$to_str())),$truthy(Opal.const_get_relative($nesting,"Regexp")["$==="](pattern))||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+pattern.$class()+" (expected Regexp)"),$send(pattern,"match",[this,pos],block.$to_proc())},TMP_String_match_41.$$arity=-2),Opal.defn(self,"$next",TMP_String_next_42=function(){var i=this.length;if(0===i)return"";for(var code,result=this,first_alphanum_char_index=this.search(/[a-zA-Z0-9]/),carry=!1;i--;){if(48<=(code=this.charCodeAt(i))&&code<=57||65<=code&&code<=90||97<=code&&code<=122)switch(code){case 57:carry=!0,code=48;break;case 90:carry=!0,code=65;break;case 122:carry=!0,code=97;break;default:carry=!1,code+=1}else-1===first_alphanum_char_index?255===code?(carry=!0,code=0):(carry=!1,code+=1):carry=!0;if(result=result.slice(0,i)+String.fromCharCode(code)+result.slice(i+1),carry&&(0===i||i===first_alphanum_char_index)){switch(code){case 65:case 97:break;default:code+=1}result=0===i?String.fromCharCode(code)+result:result.slice(0,i)+String.fromCharCode(code)+result.slice(i),carry=!1}if(!carry)break}return result},TMP_String_next_42.$$arity=0),Opal.defn(self,"$oct",TMP_String_oct_43=function(){var result,string=this,radix=8;return/^\s*_/.test(string)?0:(string=string.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(original,head,flag,tail){switch(tail.charAt(0)){case"+":case"-":return original;case"0":if("x"===tail.charAt(1)&&"0x"===flag)return original}switch(flag){case"0b":radix=2;break;case"0":case"0o":radix=8;break;case"0d":radix=10;break;case"0x":radix=16}return head+tail}),result=parseInt(string.replace(/_(?!_)/g,""),radix),isNaN(result)?0:result)},TMP_String_oct_43.$$arity=0),Opal.defn(self,"$ord",TMP_String_ord_44=function(){return this.charCodeAt(0)},TMP_String_ord_44.$$arity=0),Opal.defn(self,"$partition",TMP_String_partition_45=function(sep){var i,m;return-1===(i=sep.$$is_regexp?null===(m=sep.exec(this))?-1:(Opal.const_get_relative($nesting,"MatchData").$new(sep,m),sep=m[0],m.index):(sep=Opal.const_get_relative($nesting,"Opal").$coerce_to(sep,Opal.const_get_relative($nesting,"String"),"to_str"),this.indexOf(sep)))?[this,"",""]:[this.slice(0,i),this.slice(i,i+sep.length),this.slice(i+sep.length)]},TMP_String_partition_45.$$arity=1),Opal.defn(self,"$reverse",TMP_String_reverse_46=function(){return this.split("").reverse().join("")},TMP_String_reverse_46.$$arity=0),Opal.defn(self,"$rindex",TMP_String_rindex_47=function(search,offset){var i,m,r,_m;if(void 0===offset)offset=this.length;else if((offset=Opal.const_get_relative($nesting,"Opal").$coerce_to(offset,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0&&(offset+=this.length)<0)return nil;if(search.$$is_regexp){for(m=null,r=new RegExp(search.source,"gm"+(search.ignoreCase?"i":""));!(null===(_m=r.exec(this))||_m.index>offset);)m=_m,r.lastIndex=m.index+1;i=null===m?($gvars["~"]=nil,-1):(Opal.const_get_relative($nesting,"MatchData").$new(r,m),m.index)}else search=Opal.const_get_relative($nesting,"Opal").$coerce_to(search,Opal.const_get_relative($nesting,"String"),"to_str"),i=this.lastIndexOf(search,offset);return-1===i?nil:i},TMP_String_rindex_47.$$arity=-2),Opal.defn(self,"$rjust",TMP_String_rjust_48=function(width,padstr){if(null==padstr&&(padstr=" "),width=Opal.const_get_relative($nesting,"Opal").$coerce_to(width,Opal.const_get_relative($nesting,"Integer"),"to_int"),padstr=Opal.const_get_relative($nesting,"Opal").$coerce_to(padstr,Opal.const_get_relative($nesting,"String"),"to_str").$to_s(),$truthy(padstr["$empty?"]())&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"zero width padding"),$truthy(width<=this.length))return this;var chars=Math.floor(width-this.length),patterns=Math.floor(chars/padstr.length),result=Array(patterns+1).join(padstr),remaining=chars-result.length;return result+padstr.slice(0,remaining)+this},TMP_String_rjust_48.$$arity=-2),Opal.defn(self,"$rpartition",TMP_String_rpartition_49=function(sep){var i,m,r,_m;if(sep.$$is_regexp){for(m=null,r=new RegExp(sep.source,"gm"+(sep.ignoreCase?"i":""));null!==(_m=r.exec(this));)m=_m,r.lastIndex=m.index+1;i=null===m?-1:(Opal.const_get_relative($nesting,"MatchData").$new(r,m),sep=m[0],m.index)}else sep=Opal.const_get_relative($nesting,"Opal").$coerce_to(sep,Opal.const_get_relative($nesting,"String"),"to_str"),i=this.lastIndexOf(sep);return-1===i?["","",this]:[this.slice(0,i),this.slice(i,i+sep.length),this.slice(i+sep.length)]},TMP_String_rpartition_49.$$arity=1),Opal.defn(self,"$rstrip",TMP_String_rstrip_50=function(){return this.replace(/[\s\u0000]*$/,"")},TMP_String_rstrip_50.$$arity=0),Opal.defn(self,"$scan",TMP_String_scan_51=function(pattern){var $iter=TMP_String_scan_51.$$p,block=$iter||nil;$iter&&(TMP_String_scan_51.$$p=null);var match,result=[],match_data=nil;for(pattern=pattern.$$is_regexp?new RegExp(pattern.source,"gm"+(pattern.ignoreCase?"i":"")):(pattern=Opal.const_get_relative($nesting,"Opal").$coerce_to(pattern,Opal.const_get_relative($nesting,"String"),"to_str"),new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(match=pattern.exec(this));)match_data=Opal.const_get_relative($nesting,"MatchData").$new(pattern,match),block===nil?1==match.length?result.push(match[0]):result.push(match_data.$captures()):1==match.length?block(match[0]):block.call(this,match_data.$captures()),pattern.lastIndex===match.index&&(pattern.lastIndex+=1);return $gvars["~"]=match_data,block!==nil?this:result},TMP_String_scan_51.$$arity=1),Opal.alias(self,"size","length"),Opal.alias(self,"slice","[]"),Opal.defn(self,"$split",TMP_String_split_52=function(pattern,limit){var $a;if(null==$gvars[";"]&&($gvars[";"]=nil),0===this.length)return[];if(void 0===limit)limit=0;else if(1===(limit=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](limit,Opal.const_get_relative($nesting,"Integer"),"to_int")))return[this];void 0!==pattern&&pattern!==nil||(pattern=$truthy($a=$gvars[";"])?$a:" ");var match,i,ii,result=[],string=this.toString(),index=0;if(pattern.$$is_regexp?pattern=new RegExp(pattern.source,"gm"+(pattern.ignoreCase?"i":"")):" "===(pattern=Opal.const_get_relative($nesting,"Opal").$coerce_to(pattern,Opal.const_get_relative($nesting,"String"),"to_str").$to_s())?(pattern=/\s+/gm,string=string.replace(/^\s+/,"")):pattern=new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(result=string.split(pattern)).length&&result[0]===string)return result;for(;-1!==(i=result.indexOf(void 0));)result.splice(i,1);if(0===limit){for(;""===result[result.length-1];)result.length-=1;return result}if(match=pattern.exec(string),limit<0){if(null!==match&&""===match[0]&&-1===pattern.source.indexOf("(?="))for(i=0,ii=match.length;i<ii;i++)result.push("");return result}if(null!==match&&""===match[0])return result.splice(limit-1,result.length-1,result.slice(limit-1).join("")),result;if(limit>=result.length)return result;for(i=0;null!==match&&(i++,index=pattern.lastIndex,i+1!==limit);)match=pattern.exec(string);return result.splice(limit-1,result.length-1,string.slice(index)),result},TMP_String_split_52.$$arity=-1),Opal.defn(self,"$squeeze",TMP_String_squeeze_53=function($a_rest){var sets,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),sets=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)sets[$arg_idx-0]=arguments[$arg_idx];if(0===sets.length)return this.replace(/(.)\1+/g,"$1");var char_class=char_class_from_char_sets(sets);return null===char_class?this:this.replace(new RegExp("("+char_class+")\\1+","g"),"$1")},TMP_String_squeeze_53.$$arity=-1),Opal.defn(self,"$start_with?",TMP_String_start_with$q_54=function($a_rest){var prefixes,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),prefixes=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)prefixes[$arg_idx-0]=arguments[$arg_idx];for(var i=0,length=prefixes.length;i<length;i++){var prefix=Opal.const_get_relative($nesting,"Opal").$coerce_to(prefixes[i],Opal.const_get_relative($nesting,"String"),"to_str").$to_s();if(0===this.indexOf(prefix))return!0}return!1},TMP_String_start_with$q_54.$$arity=-1),Opal.defn(self,"$strip",TMP_String_strip_55=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},TMP_String_strip_55.$$arity=0),Opal.defn(self,"$sub",TMP_String_sub_56=function(pattern,replacement){var self=this,$iter=TMP_String_sub_56.$$p,block=$iter||nil;$iter&&(TMP_String_sub_56.$$p=null),pattern.$$is_regexp||(pattern=Opal.const_get_relative($nesting,"Opal").$coerce_to(pattern,Opal.const_get_relative($nesting,"String"),"to_str"),pattern=new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var result=pattern.exec(self);return null===result?($gvars["~"]=nil,self.toString()):(Opal.const_get_relative($nesting,"MatchData").$new(pattern,result),void 0===replacement?(block===nil&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments (1 for 2)"),self.slice(0,result.index)+block(result[0])+self.slice(result.index+result[0].length)):replacement.$$is_hash?self.slice(0,result.index)+replacement["$[]"](result[0]).$to_s()+self.slice(result.index+result[0].length):(replacement=(replacement=Opal.const_get_relative($nesting,"Opal").$coerce_to(replacement,Opal.const_get_relative($nesting,"String"),"to_str")).replace(/([\\]+)([0-9+&`'])/g,function(original,slashes,command){if(slashes.length%2==0)return original;switch(command){case"+":for(var i=result.length-1;0<i;i--)if(void 0!==result[i])return slashes.slice(1)+result[i];return"";case"&":return slashes.slice(1)+result[0];case"`":return slashes.slice(1)+self.slice(0,result.index);case"'":return slashes.slice(1)+self.slice(result.index+result[0].length);default:return slashes.slice(1)+(result[command]||"")}}).replace(/\\\\/g,"\\"),self.slice(0,result.index)+replacement+self.slice(result.index+result[0].length)))},TMP_String_sub_56.$$arity=-2),Opal.alias(self,"succ","next"),Opal.defn(self,"$sum",TMP_String_sum_57=function(n){null==n&&(n=16),n=Opal.const_get_relative($nesting,"Opal").$coerce_to(n,Opal.const_get_relative($nesting,"Integer"),"to_int");for(var result=0,length=this.length,i=0;i<length;i++)result+=this.charCodeAt(i);return n<=0?result:result&Math.pow(2,n)-1},TMP_String_sum_57.$$arity=-1),Opal.defn(self,"$swapcase",TMP_String_swapcase_58=function(){var str=this.replace(/([a-z]+)|([A-Z]+)/g,function($0,$1,$2){return $1?$0.toUpperCase():$0.toLowerCase()});return this.constructor===String?str:this.$class().$new(str)},TMP_String_swapcase_58.$$arity=0),Opal.defn(self,"$to_f",TMP_String_to_f_59=function(){if("_"===this.charAt(0))return 0;var result=parseFloat(this.replace(/_/g,""));return isNaN(result)||result==1/0||result==-1/0?0:result},TMP_String_to_f_59.$$arity=0),Opal.defn(self,"$to_i",TMP_String_to_i_60=function(base){null==base&&(base=10);var result,string=this.toLowerCase(),radix=Opal.const_get_relative($nesting,"Opal").$coerce_to(base,Opal.const_get_relative($nesting,"Integer"),"to_int");return(1===radix||radix<0||36<radix)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"invalid radix "+radix),/^\s*_/.test(string)?0:(string=string.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(original,head,flag,tail){switch(tail.charAt(0)){case"+":case"-":return original;case"0":if("x"===tail.charAt(1)&&"0x"===flag&&(0===radix||16===radix))return original}switch(flag){case"0b":if(0===radix||2===radix)return radix=2,head+tail;break;case"0":case"0o":if(0===radix||8===radix)return radix=8,head+tail;break;case"0d":if(0===radix||10===radix)return radix=10,head+tail;break;case"0x":if(0===radix||16===radix)return radix=16,head+tail}return original}),result=parseInt(string.replace(/_(?!_)/g,""),radix),isNaN(result)?0:result)},TMP_String_to_i_60.$$arity=-1),Opal.defn(self,"$to_proc",TMP_String_to_proc_62=function(){var TMP_61,sym;return sym=this.valueOf(),$send(this,"proc",[],((TMP_61=function($a_rest){var block,args,self=TMP_61.$$s||this;(block=TMP_61.$$p||nil)&&(TMP_61.$$p=null);var $args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];0===args.length&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"no receiver given");var obj=args.shift();return null==obj&&(obj=nil),Opal.send(obj,sym,args,block)}).$$s=this,TMP_61.$$arity=-1,TMP_61))},TMP_String_to_proc_62.$$arity=0),Opal.defn(self,"$to_s",TMP_String_to_s_63=function(){return this.toString()},TMP_String_to_s_63.$$arity=0),Opal.alias(self,"to_str","to_s"),Opal.alias(self,"to_sym","intern"),Opal.defn(self,"$tr",TMP_String_tr_64=function(from,to){var i,in_range,c,ch,start,end,length;if(from=Opal.const_get_relative($nesting,"Opal").$coerce_to(from,Opal.const_get_relative($nesting,"String"),"to_str").$to_s(),to=Opal.const_get_relative($nesting,"Opal").$coerce_to(to,Opal.const_get_relative($nesting,"String"),"to_str").$to_s(),0==from.length||from===to)return this;var subs={},from_chars=from.split(""),from_length=from_chars.length,to_chars=to.split(""),to_length=to_chars.length,inverse=!1,global_sub=null;"^"===from_chars[0]&&1<from_chars.length&&(inverse=!0,from_chars.shift(),global_sub=to_chars[to_length-1],from_length-=1);var from_chars_expanded=[],last_from=null;for(in_range=!1,i=0;i<from_length;i++)if(ch=from_chars[i],null==last_from)last_from=ch,from_chars_expanded.push(ch);else if("-"===ch)"-"===last_from?(from_chars_expanded.push("-"),from_chars_expanded.push("-")):i==from_length-1?from_chars_expanded.push("-"):in_range=!0;else if(in_range){for(start=last_from.charCodeAt(0),(end=ch.charCodeAt(0))<start&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),'invalid range "'+String.fromCharCode(start)+"-"+String.fromCharCode(end)+'" in string transliteration'),c=start+1;c<end;c++)from_chars_expanded.push(String.fromCharCode(c));from_chars_expanded.push(ch),last_from=in_range=null}else from_chars_expanded.push(ch);if(from_length=(from_chars=from_chars_expanded).length,inverse)for(i=0;i<from_length;i++)subs[from_chars[i]]=!0;else{if(0<to_length){var to_chars_expanded=[],last_to=null;for(in_range=!1,i=0;i<to_length;i++)if(ch=to_chars[i],null==last_to)last_to=ch,to_chars_expanded.push(ch);else if("-"===ch)"-"===last_to?(to_chars_expanded.push("-"),to_chars_expanded.push("-")):i==to_length-1?to_chars_expanded.push("-"):in_range=!0;else if(in_range){for(start=last_to.charCodeAt(0),(end=ch.charCodeAt(0))<start&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),'invalid range "'+String.fromCharCode(start)+"-"+String.fromCharCode(end)+'" in string transliteration'),c=start+1;c<end;c++)to_chars_expanded.push(String.fromCharCode(c));to_chars_expanded.push(ch),last_to=in_range=null}else to_chars_expanded.push(ch);to_length=(to_chars=to_chars_expanded).length}var length_diff=from_length-to_length;if(0<length_diff){var pad_char=0<to_length?to_chars[to_length-1]:"";for(i=0;i<length_diff;i++)to_chars.push(pad_char)}for(i=0;i<from_length;i++)subs[from_chars[i]]=to_chars[i]}var new_str="";for(i=0,length=this.length;i<length;i++){var sub=subs[ch=this.charAt(i)];new_str+=inverse?null==sub?global_sub:ch:null!=sub?sub:ch}return new_str},TMP_String_tr_64.$$arity=2),Opal.defn(self,"$tr_s",TMP_String_tr_s_65=function(from,to){var i,in_range,c,ch,start,end,length;if(from=Opal.const_get_relative($nesting,"Opal").$coerce_to(from,Opal.const_get_relative($nesting,"String"),"to_str").$to_s(),to=Opal.const_get_relative($nesting,"Opal").$coerce_to(to,Opal.const_get_relative($nesting,"String"),"to_str").$to_s(),0==from.length)return this;var subs={},from_chars=from.split(""),from_length=from_chars.length,to_chars=to.split(""),to_length=to_chars.length,inverse=!1,global_sub=null;"^"===from_chars[0]&&1<from_chars.length&&(inverse=!0,from_chars.shift(),global_sub=to_chars[to_length-1],from_length-=1);var from_chars_expanded=[],last_from=null;for(in_range=!1,i=0;i<from_length;i++)if(ch=from_chars[i],null==last_from)last_from=ch,from_chars_expanded.push(ch);else if("-"===ch)"-"===last_from?(from_chars_expanded.push("-"),from_chars_expanded.push("-")):i==from_length-1?from_chars_expanded.push("-"):in_range=!0;else if(in_range){for(start=last_from.charCodeAt(0),(end=ch.charCodeAt(0))<start&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),'invalid range "'+String.fromCharCode(start)+"-"+String.fromCharCode(end)+'" in string transliteration'),c=start+1;c<end;c++)from_chars_expanded.push(String.fromCharCode(c));from_chars_expanded.push(ch),last_from=in_range=null}else from_chars_expanded.push(ch);if(from_length=(from_chars=from_chars_expanded).length,inverse)for(i=0;i<from_length;i++)subs[from_chars[i]]=!0;else{if(0<to_length){var to_chars_expanded=[];for(in_range=!1,i=0;i<to_length;i++)if(ch=to_chars[i],null==last_from)last_from=ch,to_chars_expanded.push(ch);else if("-"===ch)i==to_length-1?to_chars_expanded.push("-"):in_range=!0;else if(in_range){for(start=last_from.charCodeAt(0),(end=ch.charCodeAt(0))<start&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),'invalid range "'+String.fromCharCode(start)+"-"+String.fromCharCode(end)+'" in string transliteration'),c=start+1;c<end;c++)to_chars_expanded.push(String.fromCharCode(c));to_chars_expanded.push(ch),last_from=in_range=null}else to_chars_expanded.push(ch);to_length=(to_chars=to_chars_expanded).length}var length_diff=from_length-to_length;if(0<length_diff){var pad_char=0<to_length?to_chars[to_length-1]:"";for(i=0;i<length_diff;i++)to_chars.push(pad_char)}for(i=0;i<from_length;i++)subs[from_chars[i]]=to_chars[i]}var new_str="",last_substitute=null;for(i=0,length=this.length;i<length;i++){var sub=subs[ch=this.charAt(i)];inverse?null==sub?null==last_substitute&&(new_str+=global_sub,last_substitute=!0):(new_str+=ch,last_substitute=null):null!=sub?null!=last_substitute&&last_substitute===sub||(new_str+=sub,last_substitute=sub):(new_str+=ch,last_substitute=null)}return new_str},TMP_String_tr_s_65.$$arity=2),Opal.defn(self,"$upcase",TMP_String_upcase_66=function(){return this.toUpperCase()},TMP_String_upcase_66.$$arity=0),Opal.defn(self,"$upto",TMP_String_upto_67=function(stop,excl){var $iter=TMP_String_upto_67.$$p,block=$iter||nil;if(null==excl&&(excl=!1),$iter&&(TMP_String_upto_67.$$p=null),block===nil)return this.$enum_for("upto",stop,excl);stop=Opal.const_get_relative($nesting,"Opal").$coerce_to(stop,Opal.const_get_relative($nesting,"String"),"to_str");var a,b,s=this.toString();if(1===s.length&&1===stop.length)for(a=s.charCodeAt(0),b=stop.charCodeAt(0);a<=b&&(!excl||a!==b);)block(String.fromCharCode(a)),a+=1;else if(parseInt(s,10).toString()===s&&parseInt(stop,10).toString()===stop)for(a=parseInt(s,10),b=parseInt(stop,10);a<=b&&(!excl||a!==b);)block(a.toString()),a+=1;else for(;s.length<=stop.length&&s<=stop&&(!excl||s!==stop);)block(s),s=s.$succ();return this},TMP_String_upto_67.$$arity=-2),Opal.defn(self,"$instance_variables",TMP_String_instance_variables_68=function(){return[]},TMP_String_instance_variables_68.$$arity=0),Opal.defs(self,"$_load",TMP_String__load_69=function($a_rest){var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return $send(this,"new",Opal.to_a(args))},TMP_String__load_69.$$arity=-1),Opal.defn(self,"$unpack",TMP_String_unpack_70=function(pattern){var self=this,$case=nil;return"U*"["$==="]($case=pattern)||"C*"["$==="]($case)?function(string){var i,singleByte,l=string.length,result=[];for(i=0;i<l;i++)singleByte=string.charCodeAt(i),result.push(singleByte);return result}(self):self.$raise(Opal.const_get_relative($nesting,"NotImplementedError"))},TMP_String_unpack_70.$$arity=1)}($nesting[0],String,$nesting),Opal.const_set($nesting[0],"Symbol",Opal.const_get_relative($nesting,"String"))},Opal.modules["corelib/enumerable"]=function(Opal){function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}Opal.top;var $nesting=[],nil=Opal.nil,$module=(Opal.breaker,Opal.slice,Opal.module),$send=Opal.send,$truthy=Opal.truthy,$falsy=Opal.falsy,$hash2=Opal.hash2;return Opal.add_stubs(["$each","$destructure","$to_enum","$enumerator_size","$new","$yield","$raise","$slice_when","$!","$enum_for","$flatten","$map","$warn","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$===","$<<","$[]","$[]=","$inspect","$__send__","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$lambda","$sort!","$map!","$has_key?","$values","$zip"]),function($base,$parent_nesting){var TMP_Enumerable_all$q_1,TMP_Enumerable_any$q_4,TMP_Enumerable_chunk_7,TMP_Enumerable_chunk_while_10,TMP_Enumerable_collect_12,TMP_Enumerable_collect_concat_14,TMP_Enumerable_count_17,TMP_Enumerable_cycle_21,TMP_Enumerable_detect_23,TMP_Enumerable_drop_25,TMP_Enumerable_drop_while_26,TMP_Enumerable_each_cons_27,TMP_Enumerable_each_entry_29,TMP_Enumerable_each_slice_31,TMP_Enumerable_each_with_index_33,TMP_Enumerable_each_with_object_35,TMP_Enumerable_entries_37,TMP_Enumerable_find_all_38,TMP_Enumerable_find_index_40,TMP_Enumerable_first_45,TMP_Enumerable_grep_46,TMP_Enumerable_grep_v_47,TMP_Enumerable_group_by_48,TMP_Enumerable_include$q_51,TMP_Enumerable_inject_52,TMP_Enumerable_lazy_54,TMP_Enumerable_enumerator_size_55,TMP_Enumerable_max_56,TMP_Enumerable_max_by_57,TMP_Enumerable_min_59,TMP_Enumerable_min_by_60,TMP_Enumerable_minmax_62,TMP_Enumerable_minmax_by_64,TMP_Enumerable_none$q_65,TMP_Enumerable_one$q_68,TMP_Enumerable_partition_71,TMP_Enumerable_reject_73,TMP_Enumerable_reverse_each_75,TMP_Enumerable_slice_before_77,TMP_Enumerable_slice_after_79,TMP_Enumerable_slice_when_82,TMP_Enumerable_sort_84,TMP_Enumerable_sort_by_86,TMP_Enumerable_sum_91,TMP_Enumerable_take_93,TMP_Enumerable_take_while_94,TMP_Enumerable_uniq_96,TMP_Enumerable_zip_98,self=$module($base,"Enumerable"),$nesting=(self.$$proto,[self].concat($parent_nesting));Opal.defn(self,"$all?",TMP_Enumerable_all$q_1=function(){try{var TMP_2,TMP_3,$iter=TMP_Enumerable_all$q_1.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_all$q_1.$$p=null),$send(this,"each",[],block!==nil?((TMP_2=function($a_rest){TMP_2.$$s;var value,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),value=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)value[$arg_idx-0]=arguments[$arg_idx];if($truthy(Opal.yieldX(block,Opal.to_a(value))))return nil;Opal.ret(!1)}).$$s=this,TMP_2.$$arity=-1,TMP_2):((TMP_3=function($a_rest){TMP_3.$$s;var value,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),value=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)value[$arg_idx-0]=arguments[$arg_idx];if($truthy(Opal.const_get_relative($nesting,"Opal").$destructure(value)))return nil;Opal.ret(!1)}).$$s=this,TMP_3.$$arity=-1,TMP_3)),!0}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},TMP_Enumerable_all$q_1.$$arity=0),Opal.defn(self,"$any?",TMP_Enumerable_any$q_4=function(){try{var TMP_5,TMP_6,$iter=TMP_Enumerable_any$q_4.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_any$q_4.$$p=null),$send(this,"each",[],block!==nil?((TMP_5=function($a_rest){TMP_5.$$s;var value,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),value=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)value[$arg_idx-0]=arguments[$arg_idx];if(!$truthy(Opal.yieldX(block,Opal.to_a(value))))return nil;Opal.ret(!0)}).$$s=this,TMP_5.$$arity=-1,TMP_5):((TMP_6=function($a_rest){TMP_6.$$s;var value,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),value=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)value[$arg_idx-0]=arguments[$arg_idx];if(!$truthy(Opal.const_get_relative($nesting,"Opal").$destructure(value)))return nil;Opal.ret(!0)}).$$s=this,TMP_6.$$arity=-1,TMP_6)),!1}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},TMP_Enumerable_any$q_4.$$arity=0),Opal.defn(self,"$chunk",TMP_Enumerable_chunk_7=function(){var TMP_8,TMP_9,$iter=TMP_Enumerable_chunk_7.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_chunk_7.$$p=null),block===nil?$send(this,"to_enum",["chunk"],((TMP_8=function(){return(TMP_8.$$s||this).$enumerator_size()}).$$s=this,TMP_8.$$arity=0,TMP_8)):$send(Opal.const_get_qualified("::","Enumerator"),"new",[],((TMP_9=function(yielder){var self=TMP_9.$$s||this;null==yielder&&(yielder=nil);var previous=nil,accumulate=[];function releaseAccumulate(){0<accumulate.length&&yielder.$yield(previous,accumulate)}self.$each.$$p=function(value){var key=Opal.yield1(block,value);previous=key===nil?(releaseAccumulate(),accumulate=[],nil):(previous===nil||previous===key?accumulate.push(value):(releaseAccumulate(),accumulate=[value]),key)},self.$each(),releaseAccumulate()}).$$s=this,TMP_9.$$arity=1,TMP_9))},TMP_Enumerable_chunk_7.$$arity=0),Opal.defn(self,"$chunk_while",TMP_Enumerable_chunk_while_10=function(){var TMP_11,$iter=TMP_Enumerable_chunk_while_10.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_chunk_while_10.$$p=null),block!==nil||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"no block given"),$send(this,"slice_when",[],((TMP_11=function(before,after){TMP_11.$$s;return null==before&&(before=nil),null==after&&(after=nil),Opal.yieldX(block,[before,after])["$!"]()}).$$s=this,TMP_11.$$arity=2,TMP_11))},TMP_Enumerable_chunk_while_10.$$arity=0),Opal.defn(self,"$collect",TMP_Enumerable_collect_12=function(){var TMP_13,$iter=TMP_Enumerable_collect_12.$$p,block=$iter||nil;if($iter&&(TMP_Enumerable_collect_12.$$p=null),block===nil)return $send(this,"enum_for",["collect"],((TMP_13=function(){return(TMP_13.$$s||this).$enumerator_size()}).$$s=this,TMP_13.$$arity=0,TMP_13));var result=[];return this.$each.$$p=function(){var value=Opal.yieldX(block,arguments);result.push(value)},this.$each(),result},TMP_Enumerable_collect_12.$$arity=0),Opal.defn(self,"$collect_concat",TMP_Enumerable_collect_concat_14=function(){var TMP_15,TMP_16,$iter=TMP_Enumerable_collect_concat_14.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_collect_concat_14.$$p=null),block===nil?$send(this,"enum_for",["collect_concat"],((TMP_15=function(){return(TMP_15.$$s||this).$enumerator_size()}).$$s=this,TMP_15.$$arity=0,TMP_15)):$send(this,"map",[],(TMP_16=function(item){TMP_16.$$s;return null==item&&(item=nil),Opal.yield1(block,item)},TMP_16.$$s=this,TMP_16.$$arity=1,TMP_16)).$flatten(1)},TMP_Enumerable_collect_concat_14.$$arity=0),Opal.defn(self,"$count",TMP_Enumerable_count_17=function(object){var TMP_18,TMP_19,TMP_20,$iter=TMP_Enumerable_count_17.$$p,block=$iter||nil,result=nil;return $iter&&(TMP_Enumerable_count_17.$$p=null),result=0,null!=object&&block!==nil&&this.$warn("warning: given block not used"),$truthy(null!=object)?block=$send(this,"proc",[],((TMP_18=function($a_rest){TMP_18.$$s;var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return Opal.const_get_relative($nesting,"Opal").$destructure(args)["$=="](object)}).$$s=this,TMP_18.$$arity=-1,TMP_18)):$truthy(block["$nil?"]())&&(block=$send(this,"proc",[],((TMP_19=function(){TMP_19.$$s;return!0}).$$s=this,TMP_19.$$arity=0,TMP_19))),$send(this,"each",[],((TMP_20=function($a_rest){TMP_20.$$s;var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return $truthy(Opal.yieldX(block,args))?result++:nil}).$$s=this,TMP_20.$$arity=-1,TMP_20)),result},TMP_Enumerable_count_17.$$arity=-1),Opal.defn(self,"$cycle",TMP_Enumerable_cycle_21=function(n){var TMP_22,$iter=TMP_Enumerable_cycle_21.$$p,block=$iter||nil;if(null==n&&(n=nil),$iter&&(TMP_Enumerable_cycle_21.$$p=null),block===nil)return $send(this,"enum_for",["cycle",n],((TMP_22=function(){var lhs,rhs,self=TMP_22.$$s||this;return n["$=="](nil)?$truthy(self["$respond_to?"]("size"))?Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"INFINITY"):nil:(n=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](n,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy($rb_gt(n,0))?(lhs=self.$enumerator_size(),rhs=n,"number"==typeof lhs&&"number"==typeof rhs?lhs*rhs:lhs["$*"](rhs)):0)}).$$s=this,TMP_22.$$arity=0,TMP_22));if($truthy(n["$nil?"]()));else if(n=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](n,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy(n<=0))return nil;var i,length,all=[];if(this.$each.$$p=function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments);Opal.yield1(block,param);all.push(param)},this.$each(),0===all.length)return nil;if(n===nil)for(;;)for(i=0,length=all.length;i<length;i++)Opal.yield1(block,all[i]);else for(;1<n;){for(i=0,length=all.length;i<length;i++)Opal.yield1(block,all[i]);n--}},TMP_Enumerable_cycle_21.$$arity=-1),Opal.defn(self,"$detect",TMP_Enumerable_detect_23=function(ifnone){try{var TMP_24,$iter=TMP_Enumerable_detect_23.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_detect_23.$$p=null),block===nil?this.$enum_for("detect",ifnone):($send(this,"each",[],((TMP_24=function($a_rest){TMP_24.$$s;var args,value,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];if(value=Opal.const_get_relative($nesting,"Opal").$destructure(args),!$truthy(Opal.yield1(block,value)))return nil;Opal.ret(value)}).$$s=this,TMP_24.$$arity=-1,TMP_24)),void 0!==ifnone?"function"==typeof ifnone?ifnone():ifnone:nil)}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},TMP_Enumerable_detect_23.$$arity=-1),Opal.defn(self,"$drop",TMP_Enumerable_drop_25=function(number){number=Opal.const_get_relative($nesting,"Opal").$coerce_to(number,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy(number<0)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"attempt to drop negative size");var result=[],current=0;return this.$each.$$p=function(){number<=current&&result.push(Opal.const_get_relative($nesting,"Opal").$destructure(arguments)),current++},this.$each(),result},TMP_Enumerable_drop_25.$$arity=1),Opal.defn(self,"$drop_while",TMP_Enumerable_drop_while_26=function(){var $iter=TMP_Enumerable_drop_while_26.$$p,block=$iter||nil;if($iter&&(TMP_Enumerable_drop_while_26.$$p=null),block===nil)return this.$enum_for("drop_while");var result=[],dropping=!0;return this.$each.$$p=function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments);if(dropping){var value=Opal.yield1(block,param);$falsy(value)&&(dropping=!1,result.push(param))}else result.push(param)},this.$each(),result},TMP_Enumerable_drop_while_26.$$arity=0),Opal.defn(self,"$each_cons",TMP_Enumerable_each_cons_27=function(n){var TMP_28,$iter=TMP_Enumerable_each_cons_27.$$p,block=$iter||nil;if($iter&&(TMP_Enumerable_each_cons_27.$$p=null),$truthy(1!=arguments.length)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),n=Opal.const_get_relative($nesting,"Opal").$try_convert(n,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy(n<=0)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"invalid size"),block===nil)return $send(this,"enum_for",["each_cons",n],((TMP_28=function(){var $a,lhs,rhs,self=TMP_28.$$s||this,enum_size=nil;return enum_size=self.$enumerator_size(),$truthy(enum_size["$nil?"]())?nil:$truthy($truthy($a=enum_size["$=="](0))?$a:(rhs=n,"number"==typeof(lhs=enum_size)&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)))?0:$rb_plus($rb_minus(enum_size,n),1)}).$$s=this,TMP_28.$$arity=0,TMP_28));var buffer=[],result=nil;return this.$each.$$p=function(){var element=Opal.const_get_relative($nesting,"Opal").$destructure(arguments);buffer.push(element),buffer.length>n&&buffer.shift(),buffer.length==n&&Opal.yield1(block,buffer.slice(0,n))},this.$each(),result},TMP_Enumerable_each_cons_27.$$arity=1),Opal.defn(self,"$each_entry",TMP_Enumerable_each_entry_29=function($a_rest){var TMP_30,data,$iter=TMP_Enumerable_each_entry_29.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),data=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)data[$arg_idx-0]=arguments[$arg_idx];return $iter&&(TMP_Enumerable_each_entry_29.$$p=null),block===nil?$send(this,"to_enum",["each_entry"].concat(Opal.to_a(data)),((TMP_30=function(){return(TMP_30.$$s||this).$enumerator_size()}).$$s=this,TMP_30.$$arity=0,TMP_30)):(this.$each.$$p=function(){var item=Opal.const_get_relative($nesting,"Opal").$destructure(arguments);Opal.yield1(block,item)},this.$each.apply(this,data),this)},TMP_Enumerable_each_entry_29.$$arity=-1),Opal.defn(self,"$each_slice",TMP_Enumerable_each_slice_31=function(n){var TMP_32,$iter=TMP_Enumerable_each_slice_31.$$p,block=$iter||nil;if($iter&&(TMP_Enumerable_each_slice_31.$$p=null),n=Opal.const_get_relative($nesting,"Opal").$coerce_to(n,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy(n<=0)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"invalid slice size"),block===nil)return $send(this,"enum_for",["each_slice",n],((TMP_32=function(){var lhs,rhs,self=TMP_32.$$s||this;return $truthy(self["$respond_to?"]("size"))?(lhs=self.$size(),rhs=n,"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)).$ceil():nil}).$$s=this,TMP_32.$$arity=0,TMP_32));var slice=[];return this.$each.$$p=function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments);slice.push(param),slice.length===n&&(Opal.yield1(block,slice),slice=[])},this.$each(),0<slice.length&&Opal.yield1(block,slice),nil},TMP_Enumerable_each_slice_31.$$arity=1),Opal.defn(self,"$each_with_index",TMP_Enumerable_each_with_index_33=function($a_rest){var TMP_34,args,$iter=TMP_Enumerable_each_with_index_33.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];if($iter&&(TMP_Enumerable_each_with_index_33.$$p=null),block===nil)return $send(this,"enum_for",["each_with_index"].concat(Opal.to_a(args)),((TMP_34=function(){return(TMP_34.$$s||this).$enumerator_size()}).$$s=this,TMP_34.$$arity=0,TMP_34));var index=0;return this.$each.$$p=function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments);block(param,index),index++},this.$each.apply(this,args),this},TMP_Enumerable_each_with_index_33.$$arity=-1),Opal.defn(self,"$each_with_object",TMP_Enumerable_each_with_object_35=function(object){var TMP_36,$iter=TMP_Enumerable_each_with_object_35.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_each_with_object_35.$$p=null),block===nil?$send(this,"enum_for",["each_with_object",object],((TMP_36=function(){return(TMP_36.$$s||this).$enumerator_size()}).$$s=this,TMP_36.$$arity=0,TMP_36)):(this.$each.$$p=function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments);block(param,object)},this.$each(),object)},TMP_Enumerable_each_with_object_35.$$arity=1),Opal.defn(self,"$entries",TMP_Enumerable_entries_37=function($a_rest){var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];var result=[];return this.$each.$$p=function(){result.push(Opal.const_get_relative($nesting,"Opal").$destructure(arguments))},this.$each.apply(this,args),result},TMP_Enumerable_entries_37.$$arity=-1),Opal.alias(self,"find","detect"),Opal.defn(self,"$find_all",TMP_Enumerable_find_all_38=function(){var TMP_39,$iter=TMP_Enumerable_find_all_38.$$p,block=$iter||nil;if($iter&&(TMP_Enumerable_find_all_38.$$p=null),block===nil)return $send(this,"enum_for",["find_all"],((TMP_39=function(){return(TMP_39.$$s||this).$enumerator_size()}).$$s=this,TMP_39.$$arity=0,TMP_39));var result=[];return this.$each.$$p=function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),value=Opal.yield1(block,param);$truthy(value)&&result.push(param)},this.$each(),result},TMP_Enumerable_find_all_38.$$arity=0),Opal.defn(self,"$find_index",TMP_Enumerable_find_index_40=function(object){try{var TMP_41,TMP_42,$iter=TMP_Enumerable_find_index_40.$$p,block=$iter||nil,index=nil;return $iter&&(TMP_Enumerable_find_index_40.$$p=null),$truthy(void 0===object&&block===nil)?this.$enum_for("find_index"):(null!=object&&block!==nil&&this.$warn("warning: given block not used"),index=0,$truthy(null!=object)?$send(this,"each",[],((TMP_41=function($a_rest){TMP_41.$$s;var value,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),value=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)value[$arg_idx-0]=arguments[$arg_idx];return Opal.const_get_relative($nesting,"Opal").$destructure(value)["$=="](object)&&Opal.ret(index),index+=1}).$$s=this,TMP_41.$$arity=-1,TMP_41)):$send(this,"each",[],((TMP_42=function($a_rest){TMP_42.$$s;var value,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),value=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)value[$arg_idx-0]=arguments[$arg_idx];return $truthy(Opal.yieldX(block,Opal.to_a(value)))&&Opal.ret(index),index+=1}).$$s=this,TMP_42.$$arity=-1,TMP_42)),nil)}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},TMP_Enumerable_find_index_40.$$arity=-1),Opal.defn(self,"$first",TMP_Enumerable_first_45=function(number){try{var TMP_43,TMP_44,result=nil,current=nil;return $truthy(void 0===number)?$send(this,"each",[],((TMP_43=function(value){TMP_43.$$s;null==value&&(value=nil),Opal.ret(value)}).$$s=this,TMP_43.$$arity=1,TMP_43)):(result=[],number=Opal.const_get_relative($nesting,"Opal").$coerce_to(number,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy(number<0)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"attempt to take negative size"),$truthy(0==number)?[]:(current=0,$send(this,"each",[],((TMP_44=function($a_rest){TMP_44.$$s;var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];if(result.push(Opal.const_get_relative($nesting,"Opal").$destructure(args)),!$truthy(number<=++current))return nil;Opal.ret(result)}).$$s=this,TMP_44.$$arity=-1,TMP_44)),result))}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},TMP_Enumerable_first_45.$$arity=-1),Opal.alias(self,"flat_map","collect_concat"),Opal.defn(self,"$grep",TMP_Enumerable_grep_46=function(pattern){var $iter=TMP_Enumerable_grep_46.$$p,block=$iter||nil;$iter&&(TMP_Enumerable_grep_46.$$p=null);var result=[];return this.$each.$$p=block!==nil?function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),value=pattern["$==="](param);$truthy(value)&&(value=Opal.yield1(block,param),result.push(value))}:function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),value=pattern["$==="](param);$truthy(value)&&result.push(param)},this.$each(),result},TMP_Enumerable_grep_46.$$arity=1),Opal.defn(self,"$grep_v",TMP_Enumerable_grep_v_47=function(pattern){var $iter=TMP_Enumerable_grep_v_47.$$p,block=$iter||nil;$iter&&(TMP_Enumerable_grep_v_47.$$p=null);var result=[];return this.$each.$$p=block!==nil?function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),value=pattern["$==="](param);$falsy(value)&&(value=Opal.yield1(block,param),result.push(value))}:function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),value=pattern["$==="](param);$falsy(value)&&result.push(param)},this.$each(),result},TMP_Enumerable_grep_v_47.$$arity=1),Opal.defn(self,"$group_by",TMP_Enumerable_group_by_48=function(){var TMP_49,$a,$iter=TMP_Enumerable_group_by_48.$$p,block=$iter||nil,hash=nil,$writer=nil;return $iter&&(TMP_Enumerable_group_by_48.$$p=null),block===nil?$send(this,"enum_for",["group_by"],((TMP_49=function(){return(TMP_49.$$s||this).$enumerator_size()}).$$s=this,TMP_49.$$arity=0,TMP_49)):(hash=Opal.const_get_relative($nesting,"Hash").$new(),this.$each.$$p=function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),value=Opal.yield1(block,param);($truthy($a=hash["$[]"](value))?$a:($writer=[value,[]],$send(hash,"[]=",Opal.to_a($writer)),$writer[$rb_minus($writer.length,1)]))["$<<"](param)},this.$each(),hash)},TMP_Enumerable_group_by_48.$$arity=0),Opal.defn(self,"$include?",TMP_Enumerable_include$q_51=function(obj){try{var TMP_50;return $send(this,"each",[],((TMP_50=function($a_rest){TMP_50.$$s;var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];if(!Opal.const_get_relative($nesting,"Opal").$destructure(args)["$=="](obj))return nil;Opal.ret(!0)}).$$s=this,TMP_50.$$arity=-1,TMP_50)),!1}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},TMP_Enumerable_include$q_51.$$arity=1),Opal.defn(self,"$inject",TMP_Enumerable_inject_52=function(object,sym){var $iter=TMP_Enumerable_inject_52.$$p,block=$iter||nil;$iter&&(TMP_Enumerable_inject_52.$$p=null);var result=object;return this.$each.$$p=block!==nil&&void 0===sym?function(){var value=Opal.const_get_relative($nesting,"Opal").$destructure(arguments);result=(void 0!==result&&(value=Opal.yieldX(block,[result,value])),value)}:(void 0===sym&&(Opal.const_get_relative($nesting,"Symbol")["$==="](object)||this.$raise(Opal.const_get_relative($nesting,"TypeError"),object.$inspect()+" is not a Symbol"),sym=object,result=void 0),function(){var value=Opal.const_get_relative($nesting,"Opal").$destructure(arguments);result=void 0!==result?result.$__send__(sym,value):value}),this.$each(),null==result?nil:result},TMP_Enumerable_inject_52.$$arity=-1),Opal.defn(self,"$lazy",TMP_Enumerable_lazy_54=function(){var TMP_53;return $send(Opal.const_get_qualified(Opal.const_get_relative($nesting,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],((TMP_53=function(enum$,$a_rest){TMP_53.$$s;var args,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];return null==enum$&&(enum$=nil),$send(enum$,"yield",Opal.to_a(args))}).$$s=this,TMP_53.$$arity=-2,TMP_53))},TMP_Enumerable_lazy_54.$$arity=0),Opal.defn(self,"$enumerator_size",TMP_Enumerable_enumerator_size_55=function(){return $truthy(this["$respond_to?"]("size"))?this.$size():nil},TMP_Enumerable_enumerator_size_55.$$arity=0),Opal.alias(self,"map","collect"),Opal.defn(self,"$max",TMP_Enumerable_max_56=function(n){var result,value,self=this,$iter=TMP_Enumerable_max_56.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_max_56.$$p=null),void 0===n||n===nil?(self.$each.$$p=function(){var item=Opal.const_get_relative($nesting,"Opal").$destructure(arguments);void 0!==result?((value=block!==nil?Opal.yieldX(block,[item,result]):item["$<=>"](result))===nil&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison failed"),0<value&&(result=item)):result=item},self.$each(),void 0===result?nil:result):(n=Opal.const_get_relative($nesting,"Opal").$coerce_to(n,Opal.const_get_relative($nesting,"Integer"),"to_int"),$send(self,"sort",[],block.$to_proc()).$reverse().$first(n))},TMP_Enumerable_max_56.$$arity=-1),Opal.defn(self,"$max_by",TMP_Enumerable_max_by_57=function(){var TMP_58,result,by,$iter=TMP_Enumerable_max_by_57.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_max_by_57.$$p=null),$truthy(block)?(this.$each.$$p=function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),value=Opal.yield1(block,param);if(void 0===result)return result=param,void(by=value);0<value["$<=>"](by)&&(result=param,by=value)},this.$each(),void 0===result?nil:result):$send(this,"enum_for",["max_by"],((TMP_58=function(){return(TMP_58.$$s||this).$enumerator_size()}).$$s=this,TMP_58.$$arity=0,TMP_58))},TMP_Enumerable_max_by_57.$$arity=0),Opal.alias(self,"member?","include?"),Opal.defn(self,"$min",TMP_Enumerable_min_59=function(){var result,self=this,$iter=TMP_Enumerable_min_59.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_min_59.$$p=null),self.$each.$$p=block!==nil?function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments);if(void 0!==result){var value=block(param,result);value===nil&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison failed"),value<0&&(result=param)}else result=param}:function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments);void 0!==result?Opal.const_get_relative($nesting,"Opal").$compare(param,result)<0&&(result=param):result=param},self.$each(),void 0===result?nil:result},TMP_Enumerable_min_59.$$arity=0),Opal.defn(self,"$min_by",TMP_Enumerable_min_by_60=function(){var TMP_61,result,by,$iter=TMP_Enumerable_min_by_60.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_min_by_60.$$p=null),$truthy(block)?(this.$each.$$p=function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),value=Opal.yield1(block,param);if(void 0===result)return result=param,void(by=value);value["$<=>"](by)<0&&(result=param,by=value)},this.$each(),void 0===result?nil:result):$send(this,"enum_for",["min_by"],((TMP_61=function(){return(TMP_61.$$s||this).$enumerator_size()}).$$s=this,TMP_61.$$arity=0,TMP_61))},TMP_Enumerable_min_by_60.$$arity=0),Opal.defn(self,"$minmax",TMP_Enumerable_minmax_62=function(){var $a,TMP_63,self=this,$iter=TMP_Enumerable_minmax_62.$$p,block=$iter||nil;$iter&&(TMP_Enumerable_minmax_62.$$p=null),block=$truthy($a=block)?$a:$send(self,"proc",[],((TMP_63=function(a,b){TMP_63.$$s;return null==a&&(a=nil),null==b&&(b=nil),a["$<=>"](b)}).$$s=self,TMP_63.$$arity=2,TMP_63));var min=nil,max=nil,first_time=!0;return self.$each.$$p=function(){var element=Opal.const_get_relative($nesting,"Opal").$destructure(arguments);if(first_time)min=max=element,first_time=!1;else{var min_cmp=block.$call(min,element);min_cmp===nil?self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison failed"):0<min_cmp&&(min=element);var max_cmp=block.$call(max,element);max_cmp===nil?self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison failed"):max_cmp<0&&(max=element)}},self.$each(),[min,max]},TMP_Enumerable_minmax_62.$$arity=0),Opal.defn(self,"$minmax_by",TMP_Enumerable_minmax_by_64=function(){var $iter=TMP_Enumerable_minmax_by_64.$$p;return $iter&&(TMP_Enumerable_minmax_by_64.$$p=null),this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"))},TMP_Enumerable_minmax_by_64.$$arity=0),Opal.defn(self,"$none?",TMP_Enumerable_none$q_65=function(){try{var TMP_66,TMP_67,$iter=TMP_Enumerable_none$q_65.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_none$q_65.$$p=null),$send(this,"each",[],block!==nil?((TMP_66=function($a_rest){TMP_66.$$s;var value,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),value=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)value[$arg_idx-0]=arguments[$arg_idx];if(!$truthy(Opal.yieldX(block,Opal.to_a(value))))return nil;Opal.ret(!1)}).$$s=this,TMP_66.$$arity=-1,TMP_66):((TMP_67=function($a_rest){TMP_67.$$s;var value,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),value=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)value[$arg_idx-0]=arguments[$arg_idx];if(!$truthy(Opal.const_get_relative($nesting,"Opal").$destructure(value)))return nil;Opal.ret(!1)}).$$s=this,TMP_67.$$arity=-1,TMP_67)),!0}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},TMP_Enumerable_none$q_65.$$arity=0),Opal.defn(self,"$one?",TMP_Enumerable_one$q_68=function(){try{var TMP_69,TMP_70,$iter=TMP_Enumerable_one$q_68.$$p,block=$iter||nil,count=nil;return $iter&&(TMP_Enumerable_one$q_68.$$p=null),count=0,$send(this,"each",[],block!==nil?((TMP_69=function($a_rest){TMP_69.$$s;var value,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),value=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)value[$arg_idx-0]=arguments[$arg_idx];return $truthy(Opal.yieldX(block,Opal.to_a(value)))?(count=$rb_plus(count,1),$truthy($rb_gt(count,1))?void Opal.ret(!1):nil):nil}).$$s=this,TMP_69.$$arity=-1,TMP_69):((TMP_70=function($a_rest){TMP_70.$$s;var value,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),value=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)value[$arg_idx-0]=arguments[$arg_idx];return $truthy(Opal.const_get_relative($nesting,"Opal").$destructure(value))?(count=$rb_plus(count,1),$truthy($rb_gt(count,1))?void Opal.ret(!1):nil):nil}).$$s=this,TMP_70.$$arity=-1,TMP_70)),count["$=="](1)}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},TMP_Enumerable_one$q_68.$$arity=0),Opal.defn(self,"$partition",TMP_Enumerable_partition_71=function(){var TMP_72,$iter=TMP_Enumerable_partition_71.$$p,block=$iter||nil;if($iter&&(TMP_Enumerable_partition_71.$$p=null),block===nil)return $send(this,"enum_for",["partition"],((TMP_72=function(){return(TMP_72.$$s||this).$enumerator_size()}).$$s=this,TMP_72.$$arity=0,TMP_72));var truthy=[],falsy=[];return this.$each.$$p=function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),value=Opal.yield1(block,param);$truthy(value)?truthy.push(param):falsy.push(param)},this.$each(),[truthy,falsy]},TMP_Enumerable_partition_71.$$arity=0),Opal.alias(self,"reduce","inject"),Opal.defn(self,"$reject",TMP_Enumerable_reject_73=function(){var TMP_74,$iter=TMP_Enumerable_reject_73.$$p,block=$iter||nil;if($iter&&(TMP_Enumerable_reject_73.$$p=null),block===nil)return $send(this,"enum_for",["reject"],((TMP_74=function(){return(TMP_74.$$s||this).$enumerator_size()}).$$s=this,TMP_74.$$arity=0,TMP_74));var result=[];return this.$each.$$p=function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),value=Opal.yield1(block,param);$falsy(value)&&result.push(param)},this.$each(),result},TMP_Enumerable_reject_73.$$arity=0),Opal.defn(self,"$reverse_each",TMP_Enumerable_reverse_each_75=function(){var TMP_76,$iter=TMP_Enumerable_reverse_each_75.$$p,block=$iter||nil;if($iter&&(TMP_Enumerable_reverse_each_75.$$p=null),block===nil)return $send(this,"enum_for",["reverse_each"],((TMP_76=function(){return(TMP_76.$$s||this).$enumerator_size()}).$$s=this,TMP_76.$$arity=0,TMP_76));var result=[];this.$each.$$p=function(){result.push(arguments)},this.$each();for(var i=result.length-1;0<=i;i--)Opal.yieldX(block,result[i]);return result},TMP_Enumerable_reverse_each_75.$$arity=0),Opal.alias(self,"select","find_all"),Opal.defn(self,"$slice_before",TMP_Enumerable_slice_before_77=function(pattern){var TMP_78,$iter=TMP_Enumerable_slice_before_77.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_slice_before_77.$$p=null),$truthy(void 0===pattern&&block===nil)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"both pattern and block are given"),$truthy(void 0!==pattern&&block!==nil||1<arguments.length)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),$send(Opal.const_get_relative($nesting,"Enumerator"),"new",[],((TMP_78=function(e){var self=TMP_78.$$s||this;null==e&&(e=nil);var slice=[];self.$each.$$p=block!==nil?void 0===pattern?function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),value=Opal.yield1(block,param);$truthy(value)&&0<slice.length&&(e["$<<"](slice),slice=[]),slice.push(param)}:function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),value=block(param,pattern.$dup());$truthy(value)&&0<slice.length&&(e["$<<"](slice),slice=[]),slice.push(param)}:function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),value=pattern["$==="](param);$truthy(value)&&0<slice.length&&(e["$<<"](slice),slice=[]),slice.push(param)},self.$each(),0<slice.length&&e["$<<"](slice)}).$$s=this,TMP_78.$$arity=1,TMP_78))},TMP_Enumerable_slice_before_77.$$arity=-1),Opal.defn(self,"$slice_after",TMP_Enumerable_slice_after_79=function(pattern){var TMP_80,TMP_81,$iter=TMP_Enumerable_slice_after_79.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_slice_after_79.$$p=null),$truthy(void 0===pattern&&block===nil)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"both pattern and block are given"),$truthy(void 0!==pattern&&block!==nil||1<arguments.length)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),$truthy(void 0!==pattern)&&(block=$send(this,"proc",[],((TMP_80=function(e){TMP_80.$$s;return null==e&&(e=nil),pattern["$==="](e)}).$$s=this,TMP_80.$$arity=1,TMP_80))),$send(Opal.const_get_relative($nesting,"Enumerator"),"new",[],((TMP_81=function(yielder){var accumulate,self=TMP_81.$$s||this;null==yielder&&(yielder=nil),self.$each.$$p=function(){var element=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),end_chunk=Opal.yield1(block,element);null==accumulate&&(accumulate=[]),$truthy(end_chunk)?(accumulate.push(element),yielder.$yield(accumulate),accumulate=null):accumulate.push(element)},self.$each(),null!=accumulate&&yielder.$yield(accumulate)}).$$s=this,TMP_81.$$arity=1,TMP_81))},TMP_Enumerable_slice_after_79.$$arity=-1),Opal.defn(self,"$slice_when",TMP_Enumerable_slice_when_82=function(){var TMP_83,$iter=TMP_Enumerable_slice_when_82.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_slice_when_82.$$p=null),block!==nil||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments (0 for 1)"),$send(Opal.const_get_relative($nesting,"Enumerator"),"new",[],((TMP_83=function(yielder){var self=TMP_83.$$s||this;null==yielder&&(yielder=nil);var slice=nil,last_after=nil;self.$each_cons.$$p=function(){var params=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),before=params[0],after=params[1],match=Opal.yieldX(block,[before,after]);last_after=after,slice===nil&&(slice=[]),$truthy(match)?(slice.push(before),yielder.$yield(slice),slice=[]):slice.push(before)},self.$each_cons(2),slice!==nil&&(slice.push(last_after),yielder.$yield(slice))}).$$s=this,TMP_83.$$arity=1,TMP_83))},TMP_Enumerable_slice_when_82.$$arity=0),Opal.defn(self,"$sort",TMP_Enumerable_sort_84=function(){var TMP_85,ary,$iter=TMP_Enumerable_sort_84.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_sort_84.$$p=null),ary=this.$to_a(),block!==nil||(block=$send(this,"lambda",[],((TMP_85=function(a,b){TMP_85.$$s;return null==a&&(a=nil),null==b&&(b=nil),a["$<=>"](b)}).$$s=this,TMP_85.$$arity=2,TMP_85))),$send(ary,"sort",[],block.$to_proc())},TMP_Enumerable_sort_84.$$arity=0),Opal.defn(self,"$sort_by",TMP_Enumerable_sort_by_86=function(){var TMP_87,TMP_88,TMP_89,TMP_90,dup,$iter=TMP_Enumerable_sort_by_86.$$p,block=$iter||nil;return $iter&&(TMP_Enumerable_sort_by_86.$$p=null),block===nil?$send(this,"enum_for",["sort_by"],((TMP_87=function(){return(TMP_87.$$s||this).$enumerator_size()}).$$s=this,TMP_87.$$arity=0,TMP_87)):(dup=$send(this,"map",[],((TMP_88=function(){var arg;TMP_88.$$s;return arg=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),[Opal.yield1(block,arg),arg]}).$$s=this,TMP_88.$$arity=0,TMP_88)),$send(dup,"sort!",[],((TMP_89=function(a,b){TMP_89.$$s;return null==a&&(a=nil),null==b&&(b=nil),a[0]["$<=>"](b[0])}).$$s=this,TMP_89.$$arity=2,TMP_89)),$send(dup,"map!",[],((TMP_90=function(i){TMP_90.$$s;return null==i&&(i=nil),i[1]}).$$s=this,TMP_90.$$arity=1,TMP_90)))},TMP_Enumerable_sort_by_86.$$arity=0),Opal.defn(self,"$sum",TMP_Enumerable_sum_91=function(initial){var TMP_92,$iter=TMP_Enumerable_sum_91.$$p,block=$iter||nil,result=nil;return null==initial&&(initial=0),$iter&&(TMP_Enumerable_sum_91.$$p=null),result=initial,$send(this,"each",[],((TMP_92=function($a_rest){TMP_92.$$s;var args,item=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return item=block!==nil?$send(block,"call",Opal.to_a(args)):Opal.const_get_relative($nesting,"Opal").$destructure(args),result=$rb_plus(result,item)}).$$s=this,TMP_92.$$arity=-1,TMP_92)),result},TMP_Enumerable_sum_91.$$arity=-1),Opal.defn(self,"$take",TMP_Enumerable_take_93=function(num){return this.$first(num)},TMP_Enumerable_take_93.$$arity=1),Opal.defn(self,"$take_while",TMP_Enumerable_take_while_94=function(){try{var TMP_95,$iter=TMP_Enumerable_take_while_94.$$p,block=$iter||nil,result=nil;return $iter&&(TMP_Enumerable_take_while_94.$$p=null),$truthy(block)?(result=[],$send(this,"each",[],((TMP_95=function($a_rest){TMP_95.$$s;var args,value,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return value=Opal.const_get_relative($nesting,"Opal").$destructure(args),$truthy(Opal.yield1(block,value))||Opal.ret(result),result.push(value)}).$$s=this,TMP_95.$$arity=-1,TMP_95))):this.$enum_for("take_while")}catch($returner){if($returner===Opal.returner)return $returner.$v;throw $returner}},TMP_Enumerable_take_while_94.$$arity=0),Opal.defn(self,"$uniq",TMP_Enumerable_uniq_96=function(){var TMP_97,$iter=TMP_Enumerable_uniq_96.$$p,block=$iter||nil,hash=nil;return $iter&&(TMP_Enumerable_uniq_96.$$p=null),hash=$hash2([],{}),$send(this,"each",[],((TMP_97=function($a_rest){TMP_97.$$s;var args,value,produced,$writer=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return value=Opal.const_get_relative($nesting,"Opal").$destructure(args),produced=block!==nil?block.$call(value):value,$truthy(hash["$has_key?"](produced))?nil:($writer=[produced,value],$send(hash,"[]=",Opal.to_a($writer)),$writer[$rb_minus($writer.length,1)])}).$$s=this,TMP_97.$$arity=-1,TMP_97)),hash.$values()},TMP_Enumerable_uniq_96.$$arity=0),Opal.alias(self,"to_a","entries"),Opal.defn(self,"$zip",TMP_Enumerable_zip_98=function($a_rest){var others,$iter=TMP_Enumerable_zip_98.$$p,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),others=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)others[$arg_idx-0]=arguments[$arg_idx];return $iter&&(TMP_Enumerable_zip_98.$$p=null),$send(this.$to_a(),"zip",Opal.to_a(others))},TMP_Enumerable_zip_98.$$arity=-1)}($nesting[0],$nesting)},Opal.modules["corelib/enumerator"]=function(Opal){function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$truthy=Opal.truthy,$send=Opal.send,$falsy=Opal.falsy;return Opal.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),self.$require("corelib/enumerable"),function($base,$super,$parent_nesting){function $Enumerator(){}var TMP_Enumerator_for_1,TMP_Enumerator_initialize_2,TMP_Enumerator_each_3,TMP_Enumerator_size_4,TMP_Enumerator_with_index_5,TMP_Enumerator_inspect_7,self=$Enumerator=$klass($base,null,"Enumerator",$Enumerator),def=self.$$proto,$nesting=[self].concat($parent_nesting);return def.size=def.args=def.object=def.method=nil,self.$include(Opal.const_get_relative($nesting,"Enumerable")),def.$$is_enumerator=!0,Opal.defs(self,"$for",TMP_Enumerator_for_1=function(object,method,$a_rest){var args,$iter=TMP_Enumerator_for_1.$$p,block=$iter||nil;null==method&&(method="each");var $args_len=arguments.length,$rest_len=$args_len-2;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=2;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-2]=arguments[$arg_idx];$iter&&(TMP_Enumerator_for_1.$$p=null);var obj=this.$allocate();return obj.object=object,obj.size=block,obj.method=method,obj.args=args,obj},TMP_Enumerator_for_1.$$arity=-2),Opal.defn(self,"$initialize",TMP_Enumerator_initialize_2=function($a_rest){var $iter=TMP_Enumerator_initialize_2.$$p,block=$iter||nil;return $iter&&(TMP_Enumerator_initialize_2.$$p=null),$truthy(block)?(this.object=$send(Opal.const_get_relative($nesting,"Generator"),"new",[],block.$to_proc()),this.method="each",this.args=[],this.size=$a_rest||nil,$truthy(this.size)?this.size=Opal.const_get_relative($nesting,"Opal").$coerce_to(this.size,Opal.const_get_relative($nesting,"Integer"),"to_int"):nil):(this.object=$a_rest,this.method=arguments[1]||"each",this.args=$slice.call(arguments,2),this.size=nil)},TMP_Enumerator_initialize_2.$$arity=-1),Opal.defn(self,"$each",TMP_Enumerator_each_3=function($a_rest){var $b,args,$iter=TMP_Enumerator_each_3.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return $iter&&(TMP_Enumerator_each_3.$$p=null),$truthy($truthy($b=block["$nil?"]())?args["$empty?"]():$b)?this:(args=$rb_plus(this.args,args),$truthy(block["$nil?"]())?$send(this.$class(),"new",[this.object,this.method].concat(Opal.to_a(args))):$send(this.object,"__send__",[this.method].concat(Opal.to_a(args)),block.$to_proc()))},TMP_Enumerator_each_3.$$arity=-1),Opal.defn(self,"$size",TMP_Enumerator_size_4=function(){return $truthy(Opal.const_get_relative($nesting,"Proc")["$==="](this.size))?$send(this.size,"call",Opal.to_a(this.args)):this.size},TMP_Enumerator_size_4.$$arity=0),Opal.defn(self,"$with_index",TMP_Enumerator_with_index_5=function(offset){var TMP_6,$iter=TMP_Enumerator_with_index_5.$$p,block=$iter||nil;if(null==offset&&(offset=0),$iter&&(TMP_Enumerator_with_index_5.$$p=null),offset=$truthy(offset)?Opal.const_get_relative($nesting,"Opal").$coerce_to(offset,Opal.const_get_relative($nesting,"Integer"),"to_int"):0,!$truthy(block))return $send(this,"enum_for",["with_index",offset],((TMP_6=function(){return(TMP_6.$$s||this).$size()}).$$s=this,TMP_6.$$arity=0,TMP_6));var index=offset;return this.$each.$$p=function(){var param=Opal.const_get_relative($nesting,"Opal").$destructure(arguments),value=block(param,index);return index++,value},this.$each()},TMP_Enumerator_with_index_5.$$arity=-1),Opal.alias(self,"with_object","each_with_object"),Opal.defn(self,"$inspect",TMP_Enumerator_inspect_7=function(){var result=nil;return result="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method,$truthy(this.args["$empty?"]())||(result=$rb_plus(result,"("+this.args.$inspect()["$[]"](Opal.const_get_relative($nesting,"Range").$new(1,-2))+")")),$rb_plus(result,">")},TMP_Enumerator_inspect_7.$$arity=0),function($base,$super,$parent_nesting){function $Generator(){}var TMP_Generator_initialize_8,TMP_Generator_each_9,self=$Generator=$klass($base,null,"Generator",$Generator),def=self.$$proto,$nesting=[self].concat($parent_nesting);def.block=nil,self.$include(Opal.const_get_relative($nesting,"Enumerable")),Opal.defn(self,"$initialize",TMP_Generator_initialize_8=function(){var $iter=TMP_Generator_initialize_8.$$p,block=$iter||nil;return $iter&&(TMP_Generator_initialize_8.$$p=null),$truthy(block)||this.$raise(Opal.const_get_relative($nesting,"LocalJumpError"),"no block given"),this.block=block},TMP_Generator_initialize_8.$$arity=0),Opal.defn(self,"$each",TMP_Generator_each_9=function($a_rest){var args,yielder,$iter=TMP_Generator_each_9.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Generator_each_9.$$p=null),yielder=$send(Opal.const_get_relative($nesting,"Yielder"),"new",[],block.$to_proc());try{args.unshift(yielder),Opal.yieldX(this.block,args)}catch(e){if(e===$breaker)return $breaker.$v;throw e}return this},TMP_Generator_each_9.$$arity=-1)}($nesting[0],0,$nesting),function($base,$super,$parent_nesting){function $Yielder(){}var TMP_Yielder_initialize_10,TMP_Yielder_yield_11,TMP_Yielder_$lt$lt_12,self=$Yielder=$klass($base,null,"Yielder",$Yielder),def=self.$$proto;[self].concat($parent_nesting);def.block=nil,Opal.defn(self,"$initialize",TMP_Yielder_initialize_10=function(){var $iter=TMP_Yielder_initialize_10.$$p,block=$iter||nil;return $iter&&(TMP_Yielder_initialize_10.$$p=null),this.block=block},TMP_Yielder_initialize_10.$$arity=0),Opal.defn(self,"$yield",TMP_Yielder_yield_11=function($a_rest){var values,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),values=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)values[$arg_idx-0]=arguments[$arg_idx];var value=Opal.yieldX(this.block,values);if(value===$breaker)throw $breaker;return value},TMP_Yielder_yield_11.$$arity=-1),Opal.defn(self,"$<<",TMP_Yielder_$lt$lt_12=function($a_rest){var values,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),values=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)values[$arg_idx-0]=arguments[$arg_idx];return $send(this,"yield",Opal.to_a(values)),this},TMP_Yielder_$lt$lt_12.$$arity=-1)}($nesting[0],0,$nesting),function($base,$super,$parent_nesting){function $Lazy(){}var TMP_Lazy_initialize_13,TMP_Lazy_lazy_16,TMP_Lazy_collect_17,TMP_Lazy_collect_concat_19,TMP_Lazy_drop_24,TMP_Lazy_drop_while_25,TMP_Lazy_enum_for_27,TMP_Lazy_find_all_28,TMP_Lazy_grep_30,TMP_Lazy_reject_33,TMP_Lazy_take_36,TMP_Lazy_take_while_37,TMP_Lazy_inspect_39,self=$Lazy=$klass($base,$super,"Lazy",$Lazy),def=self.$$proto,$nesting=[self].concat($parent_nesting);return def.enumerator=nil,function($base,$super,$parent_nesting){function $StopLazyError(){}var self=$StopLazyError=$klass($base,$super,"StopLazyError",$StopLazyError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"Exception"),$nesting),Opal.defn(self,"$initialize",TMP_Lazy_initialize_13=function(object,size){var TMP_14,$iter=TMP_Lazy_initialize_13.$$p,block=$iter||nil;return null==size&&(size=nil),$iter&&(TMP_Lazy_initialize_13.$$p=null),block!==nil||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"tried to call lazy new without a block"),this.enumerator=object,$send(this,Opal.find_super_dispatcher(this,"initialize",TMP_Lazy_initialize_13,!1),[size],((TMP_14=function(yielder,$a_rest){var each_args,TMP_15,self=TMP_14.$$s||this,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),each_args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)each_args[$arg_idx-1]=arguments[$arg_idx];null==yielder&&(yielder=nil);try{return $send(object,"each",Opal.to_a(each_args),((TMP_15=function($a_rest){TMP_15.$$s;var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];args.unshift(yielder),Opal.yieldX(block,args)}).$$s=self,TMP_15.$$arity=-1,TMP_15))}catch($err){if(!Opal.rescue($err,[Opal.const_get_relative($nesting,"Exception")]))throw $err;try{return nil}finally{Opal.pop_exception()}}}).$$s=this,TMP_14.$$arity=-2,TMP_14))},TMP_Lazy_initialize_13.$$arity=-2),Opal.alias(self,"force","to_a"),Opal.defn(self,"$lazy",TMP_Lazy_lazy_16=function(){return this},TMP_Lazy_lazy_16.$$arity=0),Opal.defn(self,"$collect",TMP_Lazy_collect_17=function(){var TMP_18,$iter=TMP_Lazy_collect_17.$$p,block=$iter||nil;return $iter&&(TMP_Lazy_collect_17.$$p=null),$truthy(block)||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"tried to call lazy map without a block"),$send(Opal.const_get_relative($nesting,"Lazy"),"new",[this,this.$enumerator_size()],((TMP_18=function(enum$,$a_rest){TMP_18.$$s;var args,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];null==enum$&&(enum$=nil);var value=Opal.yieldX(block,args);enum$.$yield(value)}).$$s=this,TMP_18.$$arity=-2,TMP_18))},TMP_Lazy_collect_17.$$arity=0),Opal.defn(self,"$collect_concat",TMP_Lazy_collect_concat_19=function(){var TMP_20,$iter=TMP_Lazy_collect_concat_19.$$p,block=$iter||nil;return $iter&&(TMP_Lazy_collect_concat_19.$$p=null),$truthy(block)||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"tried to call lazy map without a block"),$send(Opal.const_get_relative($nesting,"Lazy"),"new",[this,nil],((TMP_20=function(enum$,$a_rest){var args,TMP_21,TMP_22,self=TMP_20.$$s||this,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];null==enum$&&(enum$=nil);var value=Opal.yieldX(block,args);value["$respond_to?"]("force")&&value["$respond_to?"]("each")?$send(value,"each",[],((TMP_21=function(v){TMP_21.$$s;return null==v&&(v=nil),enum$.$yield(v)}).$$s=self,TMP_21.$$arity=1,TMP_21)):Opal.const_get_relative($nesting,"Opal").$try_convert(value,Opal.const_get_relative($nesting,"Array"),"to_ary")===nil?enum$.$yield(value):$send(value,"each",[],((TMP_22=function(v){TMP_22.$$s;return null==v&&(v=nil),enum$.$yield(v)}).$$s=self,TMP_22.$$arity=1,TMP_22))}).$$s=this,TMP_20.$$arity=-2,TMP_20))},TMP_Lazy_collect_concat_19.$$arity=0),Opal.defn(self,"$drop",TMP_Lazy_drop_24=function(n){var TMP_23,current_size,set_size,dropped=nil;return n=Opal.const_get_relative($nesting,"Opal").$coerce_to(n,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy($rb_lt(n,0))&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"attempt to drop negative size"),current_size=this.$enumerator_size(),set_size=$truthy(Opal.const_get_relative($nesting,"Integer")["$==="](current_size))&&$truthy($rb_lt(n,current_size))?n:current_size,dropped=0,$send(Opal.const_get_relative($nesting,"Lazy"),"new",[this,set_size],((TMP_23=function(enum$,$a_rest){TMP_23.$$s;var args,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];return null==enum$&&(enum$=nil),$truthy($rb_lt(dropped,n))?dropped=$rb_plus(dropped,1):$send(enum$,"yield",Opal.to_a(args))}).$$s=this,TMP_23.$$arity=-2,TMP_23))},TMP_Lazy_drop_24.$$arity=1),Opal.defn(self,"$drop_while",TMP_Lazy_drop_while_25=function(){var TMP_26,$iter=TMP_Lazy_drop_while_25.$$p,block=$iter||nil,succeeding=nil;return $iter&&(TMP_Lazy_drop_while_25.$$p=null),$truthy(block)||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"tried to call lazy drop_while without a block"),succeeding=!0,$send(Opal.const_get_relative($nesting,"Lazy"),"new",[this,nil],((TMP_26=function(enum$,$a_rest){TMP_26.$$s;var args,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];if(null==enum$&&(enum$=nil),!$truthy(succeeding))return $send(enum$,"yield",Opal.to_a(args));var value=Opal.yieldX(block,args);$falsy(value)&&(succeeding=!1,$send(enum$,"yield",Opal.to_a(args)))}).$$s=this,TMP_26.$$arity=-2,TMP_26))},TMP_Lazy_drop_while_25.$$arity=0),Opal.defn(self,"$enum_for",TMP_Lazy_enum_for_27=function(method,$a_rest){var args,self=this,$iter=TMP_Lazy_enum_for_27.$$p,block=$iter||nil;null==method&&(method="each");var $args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];return $iter&&(TMP_Lazy_enum_for_27.$$p=null),$send(self.$class(),"for",[self,method].concat(Opal.to_a(args)),block.$to_proc())},TMP_Lazy_enum_for_27.$$arity=-1),Opal.defn(self,"$find_all",TMP_Lazy_find_all_28=function(){var TMP_29,$iter=TMP_Lazy_find_all_28.$$p,block=$iter||nil;return $iter&&(TMP_Lazy_find_all_28.$$p=null),$truthy(block)||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"tried to call lazy select without a block"),$send(Opal.const_get_relative($nesting,"Lazy"),"new",[this,nil],((TMP_29=function(enum$,$a_rest){TMP_29.$$s;var args,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];null==enum$&&(enum$=nil);var value=Opal.yieldX(block,args);$truthy(value)&&$send(enum$,"yield",Opal.to_a(args))}).$$s=this,TMP_29.$$arity=-2,TMP_29))},TMP_Lazy_find_all_28.$$arity=0),Opal.alias(self,"flat_map","collect_concat"),Opal.defn(self,"$grep",TMP_Lazy_grep_30=function(pattern){var TMP_31,TMP_32,$iter=TMP_Lazy_grep_30.$$p,block=$iter||nil;return $iter&&(TMP_Lazy_grep_30.$$p=null),$truthy(block)?$send(Opal.const_get_relative($nesting,"Lazy"),"new",[this,nil],((TMP_31=function(enum$,$a_rest){TMP_31.$$s;var args,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];null==enum$&&(enum$=nil);var param=Opal.const_get_relative($nesting,"Opal").$destructure(args),value=pattern["$==="](param);$truthy(value)&&(value=Opal.yield1(block,param),enum$.$yield(Opal.yield1(block,param)))}).$$s=this,TMP_31.$$arity=-2,TMP_31)):$send(Opal.const_get_relative($nesting,"Lazy"),"new",[this,nil],((TMP_32=function(enum$,$a_rest){TMP_32.$$s;var args,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];null==enum$&&(enum$=nil);var param=Opal.const_get_relative($nesting,"Opal").$destructure(args),value=pattern["$==="](param);$truthy(value)&&enum$.$yield(param)}).$$s=this,TMP_32.$$arity=-2,TMP_32))},TMP_Lazy_grep_30.$$arity=1),Opal.alias(self,"map","collect"),Opal.alias(self,"select","find_all"),Opal.defn(self,"$reject",TMP_Lazy_reject_33=function(){var TMP_34,$iter=TMP_Lazy_reject_33.$$p,block=$iter||nil;return $iter&&(TMP_Lazy_reject_33.$$p=null),$truthy(block)||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"tried to call lazy reject without a block"),$send(Opal.const_get_relative($nesting,"Lazy"),"new",[this,nil],((TMP_34=function(enum$,$a_rest){TMP_34.$$s;var args,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];null==enum$&&(enum$=nil);var value=Opal.yieldX(block,args);$falsy(value)&&$send(enum$,"yield",Opal.to_a(args))}).$$s=this,TMP_34.$$arity=-2,TMP_34))},TMP_Lazy_reject_33.$$arity=0),Opal.defn(self,"$take",TMP_Lazy_take_36=function(n){var TMP_35,current_size,set_size,taken=nil;return n=Opal.const_get_relative($nesting,"Opal").$coerce_to(n,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy($rb_lt(n,0))&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"attempt to take negative size"),current_size=this.$enumerator_size(),set_size=$truthy(Opal.const_get_relative($nesting,"Integer")["$==="](current_size))&&$truthy($rb_lt(n,current_size))?n:current_size,taken=0,$send(Opal.const_get_relative($nesting,"Lazy"),"new",[this,set_size],((TMP_35=function(enum$,$a_rest){var args,self=TMP_35.$$s||this,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];return null==enum$&&(enum$=nil),$truthy($rb_lt(taken,n))?($send(enum$,"yield",Opal.to_a(args)),taken=$rb_plus(taken,1)):self.$raise(Opal.const_get_relative($nesting,"StopLazyError"))}).$$s=this,TMP_35.$$arity=-2,TMP_35))},TMP_Lazy_take_36.$$arity=1),Opal.defn(self,"$take_while",TMP_Lazy_take_while_37=function(){var TMP_38,$iter=TMP_Lazy_take_while_37.$$p,block=$iter||nil;return $iter&&(TMP_Lazy_take_while_37.$$p=null),$truthy(block)||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"tried to call lazy take_while without a block"),$send(Opal.const_get_relative($nesting,"Lazy"),"new",[this,nil],((TMP_38=function(enum$,$a_rest){var args,self=TMP_38.$$s||this,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];null==enum$&&(enum$=nil);var value=Opal.yieldX(block,args);$truthy(value)?$send(enum$,"yield",Opal.to_a(args)):self.$raise(Opal.const_get_relative($nesting,"StopLazyError"))}).$$s=this,TMP_38.$$arity=-2,TMP_38))},TMP_Lazy_take_while_37.$$arity=0),Opal.alias(self,"to_enum","enum_for"),Opal.defn(self,"$inspect",TMP_Lazy_inspect_39=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},TMP_Lazy_inspect_39.$$arity=0),nil&&"inspect"}($nesting[0],self,$nesting)}($nesting[0],0,$nesting)},Opal.modules["corelib/numeric"]=function(Opal){function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}function $rb_times(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs*rhs:lhs["$*"](rhs)}function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}function $rb_divide(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$truthy=Opal.truthy,$hash2=Opal.hash2;return Opal.add_stubs(["$require","$include","$instance_of?","$class","$Float","$coerce","$===","$raise","$__send__","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),self.$require("corelib/comparable"),function($base,$super,$parent_nesting){function $Numeric(){}var TMP_Numeric_coerce_1,TMP_Numeric___coerced___2,TMP_Numeric_$lt$eq$gt_3,TMP_Numeric_$$_4,TMP_Numeric_$$_5,TMP_Numeric_$_6,TMP_Numeric_abs_7,TMP_Numeric_abs2_8,TMP_Numeric_angle_9,TMP_Numeric_ceil_10,TMP_Numeric_conj_11,TMP_Numeric_denominator_12,TMP_Numeric_div_13,TMP_Numeric_divmod_14,TMP_Numeric_fdiv_15,TMP_Numeric_floor_16,TMP_Numeric_i_17,TMP_Numeric_imag_18,TMP_Numeric_integer$q_19,TMP_Numeric_nonzero$q_20,TMP_Numeric_numerator_21,TMP_Numeric_polar_22,TMP_Numeric_quo_23,TMP_Numeric_real_24,TMP_Numeric_real$q_25,TMP_Numeric_rect_26,TMP_Numeric_round_27,TMP_Numeric_to_c_28,TMP_Numeric_to_int_29,TMP_Numeric_truncate_30,TMP_Numeric_zero$q_31,TMP_Numeric_positive$q_32,TMP_Numeric_negative$q_33,TMP_Numeric_dup_34,TMP_Numeric_clone_35,self=$Numeric=$klass($base,null,"Numeric",$Numeric),$nesting=(self.$$proto,[self].concat($parent_nesting));return self.$include(Opal.const_get_relative($nesting,"Comparable")),Opal.defn(self,"$coerce",TMP_Numeric_coerce_1=function(other){return $truthy(other["$instance_of?"](this.$class()))?[other,this]:[this.$Float(other),this.$Float(this)]},TMP_Numeric_coerce_1.$$arity=1),Opal.defn(self,"$__coerced__",TMP_Numeric___coerced___2=function(method,other){var $a,$b,self=this,a=nil,b=nil,$case=nil;try{$b=other.$coerce(self),a=null==($a=Opal.to_ary($b))[0]?nil:$a[0],b=null==$a[1]?nil:$a[1]}catch($err){if(!Opal.rescue($err,[Opal.const_get_relative($nesting,"StandardError")]))throw $err;try{"+"["$==="]($case=method)||"-"["$==="]($case)||"*"["$==="]($case)||"/"["$==="]($case)||"%"["$==="]($case)||"&"["$==="]($case)||"|"["$==="]($case)||"^"["$==="]($case)||"**"["$==="]($case)?self.$raise(Opal.const_get_relative($nesting,"TypeError"),other.$class()+" can't be coerce into Numeric"):(">"["$==="]($case)||">="["$==="]($case)||"<"["$==="]($case)||"<="["$==="]($case)||"<=>"["$==="]($case))&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison of "+self.$class()+" with "+other.$class()+" failed")}finally{Opal.pop_exception()}}return a.$__send__(method,b)},TMP_Numeric___coerced___2.$$arity=2),Opal.defn(self,"$<=>",TMP_Numeric_$lt$eq$gt_3=function(other){return $truthy(this["$equal?"](other))?0:nil},TMP_Numeric_$lt$eq$gt_3.$$arity=1),Opal.defn(self,"$+@",TMP_Numeric_$$_4=function(){return this},TMP_Numeric_$$_4.$$arity=0),Opal.defn(self,"$-@",TMP_Numeric_$$_5=function(){return $rb_minus(0,this)},TMP_Numeric_$$_5.$$arity=0),Opal.defn(self,"$%",TMP_Numeric_$_6=function(other){return $rb_minus(this,$rb_times(other,this.$div(other)))},TMP_Numeric_$_6.$$arity=1),Opal.defn(self,"$abs",TMP_Numeric_abs_7=function(){return $rb_lt(this,0)?this["$-@"]():this},TMP_Numeric_abs_7.$$arity=0),Opal.defn(self,"$abs2",TMP_Numeric_abs2_8=function(){return $rb_times(this,this)},TMP_Numeric_abs2_8.$$arity=0),Opal.defn(self,"$angle",TMP_Numeric_angle_9=function(){return $rb_lt(this,0)?Opal.const_get_qualified(Opal.const_get_relative($nesting,"Math"),"PI"):0},TMP_Numeric_angle_9.$$arity=0),Opal.alias(self,"arg","angle"),Opal.defn(self,"$ceil",TMP_Numeric_ceil_10=function(){return this.$to_f().$ceil()},TMP_Numeric_ceil_10.$$arity=0),Opal.defn(self,"$conj",TMP_Numeric_conj_11=function(){return this},TMP_Numeric_conj_11.$$arity=0),Opal.alias(self,"conjugate","conj"),Opal.defn(self,"$denominator",TMP_Numeric_denominator_12=function(){return this.$to_r().$denominator()},TMP_Numeric_denominator_12.$$arity=0),Opal.defn(self,"$div",TMP_Numeric_div_13=function(other){return other["$=="](0)&&this.$raise(Opal.const_get_relative($nesting,"ZeroDivisionError"),"divided by o"),$rb_divide(this,other).$floor()},TMP_Numeric_div_13.$$arity=1),Opal.defn(self,"$divmod",TMP_Numeric_divmod_14=function(other){return[this.$div(other),this["$%"](other)]},TMP_Numeric_divmod_14.$$arity=1),Opal.defn(self,"$fdiv",TMP_Numeric_fdiv_15=function(other){return $rb_divide(this.$to_f(),other)},TMP_Numeric_fdiv_15.$$arity=1),Opal.defn(self,"$floor",TMP_Numeric_floor_16=function(){return this.$to_f().$floor()},TMP_Numeric_floor_16.$$arity=0),Opal.defn(self,"$i",TMP_Numeric_i_17=function(){return this.$Complex(0,this)},TMP_Numeric_i_17.$$arity=0),Opal.defn(self,"$imag",TMP_Numeric_imag_18=function(){return 0},TMP_Numeric_imag_18.$$arity=0),Opal.alias(self,"imaginary","imag"),Opal.defn(self,"$integer?",TMP_Numeric_integer$q_19=function(){return!1},TMP_Numeric_integer$q_19.$$arity=0),Opal.alias(self,"magnitude","abs"),Opal.alias(self,"modulo","%"),Opal.defn(self,"$nonzero?",TMP_Numeric_nonzero$q_20=function(){return $truthy(this["$zero?"]())?nil:this},TMP_Numeric_nonzero$q_20.$$arity=0),Opal.defn(self,"$numerator",TMP_Numeric_numerator_21=function(){return this.$to_r().$numerator()},TMP_Numeric_numerator_21.$$arity=0),Opal.alias(self,"phase","arg"),Opal.defn(self,"$polar",TMP_Numeric_polar_22=function(){return[this.$abs(),this.$arg()]},TMP_Numeric_polar_22.$$arity=0),Opal.defn(self,"$quo",TMP_Numeric_quo_23=function(other){return $rb_divide(Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](this,Opal.const_get_relative($nesting,"Rational"),"to_r"),other)},TMP_Numeric_quo_23.$$arity=1),Opal.defn(self,"$real",TMP_Numeric_real_24=function(){return this},TMP_Numeric_real_24.$$arity=0),Opal.defn(self,"$real?",TMP_Numeric_real$q_25=function(){return!0},TMP_Numeric_real$q_25.$$arity=0),Opal.defn(self,"$rect",TMP_Numeric_rect_26=function(){return[this,0]},TMP_Numeric_rect_26.$$arity=0),Opal.alias(self,"rectangular","rect"),Opal.defn(self,"$round",TMP_Numeric_round_27=function(digits){return this.$to_f().$round(digits)},TMP_Numeric_round_27.$$arity=-1),Opal.defn(self,"$to_c",TMP_Numeric_to_c_28=function(){return this.$Complex(this,0)},TMP_Numeric_to_c_28.$$arity=0),Opal.defn(self,"$to_int",TMP_Numeric_to_int_29=function(){return this.$to_i()},TMP_Numeric_to_int_29.$$arity=0),Opal.defn(self,"$truncate",TMP_Numeric_truncate_30=function(){return this.$to_f().$truncate()},TMP_Numeric_truncate_30.$$arity=0),Opal.defn(self,"$zero?",TMP_Numeric_zero$q_31=function(){return this["$=="](0)},TMP_Numeric_zero$q_31.$$arity=0),Opal.defn(self,"$positive?",TMP_Numeric_positive$q_32=function(){var lhs,rhs;return rhs=0,"number"==typeof(lhs=this)&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)},TMP_Numeric_positive$q_32.$$arity=0),Opal.defn(self,"$negative?",TMP_Numeric_negative$q_33=function(){return $rb_lt(this,0)},TMP_Numeric_negative$q_33.$$arity=0),Opal.defn(self,"$dup",TMP_Numeric_dup_34=function(){return this},TMP_Numeric_dup_34.$$arity=0),Opal.defn(self,"$clone",TMP_Numeric_clone_35=function($kwargs){if(null==$kwargs||!$kwargs.$$is_hash){if(null!=$kwargs)throw Opal.ArgumentError.$new("expected kwargs");$kwargs=$hash2([],{})}return null==$kwargs.$$smap.freeze&&!0,this},TMP_Numeric_clone_35.$$arity=-1),nil&&"clone"}($nesting[0],0,$nesting)},Opal.modules["corelib/array"]=function(Opal){function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$truthy=Opal.truthy,$hash2=Opal.hash2,$send=Opal.send,$gvars=Opal.gvars;return Opal.add_stubs(["$require","$include","$to_a","$warn","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$bsearch_index","$to_proc","$coerce_to!","$>","$*","$enumerator_size","$empty?","$size","$map","$equal?","$dup","$each","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$!","$>=","$**","$delete_if","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$<","$sort","$sort_by","$!=","$times","$[]=","$-","$<<","$values","$kind_of?","$last","$first","$upto","$reject","$pristine"]),self.$require("corelib/enumerable"),self.$require("corelib/numeric"),function($base,$super,$parent_nesting){function $Array(){}var TMP_Array_$$_1,TMP_Array_initialize_2,TMP_Array_try_convert_3,TMP_Array_$_4,TMP_Array_$_5,TMP_Array_$_6,TMP_Array_$_7,TMP_Array_$_8,TMP_Array_$lt$lt_9,TMP_Array_$lt$eq$gt_10,TMP_Array_$eq$eq_11,TMP_Array_$$_12,TMP_Array_$$$eq_13,TMP_Array_any$q_14,TMP_Array_assoc_15,TMP_Array_at_16,TMP_Array_bsearch_index_17,TMP_Array_bsearch_18,TMP_Array_cycle_19,TMP_Array_clear_21,TMP_Array_count_22,TMP_Array_initialize_copy_23,TMP_Array_collect_24,TMP_Array_collect$B_26,TMP_Array_combination_28,TMP_Array_repeated_combination_30,TMP_Array_compact_32,TMP_Array_compact$B_33,TMP_Array_concat_36,TMP_Array_delete_37,TMP_Array_delete_at_38,TMP_Array_delete_if_39,TMP_Array_dig_41,TMP_Array_drop_42,TMP_Array_dup_43,TMP_Array_each_44,TMP_Array_each_index_46,TMP_Array_empty$q_48,TMP_Array_eql$q_49,TMP_Array_fetch_50,TMP_Array_fill_51,TMP_Array_first_52,TMP_Array_flatten_53,TMP_Array_flatten$B_54,TMP_Array_hash_55,TMP_Array_include$q_56,TMP_Array_index_57,TMP_Array_insert_58,TMP_Array_inspect_59,TMP_Array_join_60,TMP_Array_keep_if_61,TMP_Array_last_63,TMP_Array_length_64,TMP_Array_permutation_65,TMP_Array_repeated_permutation_67,TMP_Array_pop_69,TMP_Array_product_70,TMP_Array_push_71,TMP_Array_rassoc_72,TMP_Array_reject_73,TMP_Array_reject$B_75,TMP_Array_replace_77,TMP_Array_reverse_78,TMP_Array_reverse$B_79,TMP_Array_reverse_each_80,TMP_Array_rindex_82,TMP_Array_rotate_83,TMP_Array_rotate$B_84,TMP_Array_sample_87,TMP_Array_select_88,TMP_Array_select$B_90,TMP_Array_shift_92,TMP_Array_shuffle_93,TMP_Array_shuffle$B_94,TMP_Array_slice$B_95,TMP_Array_sort_96,TMP_Array_sort$B_97,TMP_Array_sort_by$B_98,TMP_Array_take_100,TMP_Array_take_while_101,TMP_Array_to_a_102,TMP_Array_to_h_103,TMP_Array_transpose_106,TMP_Array_uniq_107,TMP_Array_uniq$B_108,TMP_Array_unshift_109,TMP_Array_values_at_112,TMP_Array_zip_113,TMP_Array_inherited_114,TMP_Array_instance_variables_115,self=$Array=$klass($base,$super,"Array",$Array),def=self.$$proto,$nesting=[self].concat($parent_nesting);function toArraySubclass(obj,klass){return klass.$$name===Opal.Array?obj:klass.$allocate().$replace(obj.$to_a())}function binomial_coefficient(n,k){return n===k||0===k?1:0<k&&k<n?binomial_coefficient(n-1,k-1)+binomial_coefficient(n-1,k):0}return self.$include(Opal.const_get_relative($nesting,"Enumerable")),def.$$is_array=!0,Opal.defs(self,"$[]",TMP_Array_$$_1=function($a_rest){var objects,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),objects=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)objects[$arg_idx-0]=arguments[$arg_idx];return toArraySubclass(objects,this)},TMP_Array_$$_1.$$arity=-1),Opal.defn(self,"$initialize",TMP_Array_initialize_2=function(size,obj){var i,value,$iter=TMP_Array_initialize_2.$$p,block=$iter||nil;if(null==size&&(size=nil),null==obj&&(obj=nil),$iter&&(TMP_Array_initialize_2.$$p=null),obj!==nil&&block!==nil&&this.$warn("warning: block supersedes default value argument"),size>Opal.const_get_qualified(Opal.const_get_relative($nesting,"Integer"),"MAX")&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"array size too big"),2<arguments.length&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(size.$$is_array)return this.$replace(size.$to_a()),this;if(size["$respond_to?"]("to_ary"))return this.$replace(size.$to_ary()),this}if((size=Opal.const_get_relative($nesting,"Opal").$coerce_to(size,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"negative array size"),this.splice(0,this.length),block===nil)for(i=0;i<size;i++)this.push(obj);else for(i=0;i<size;i++)value=block(i),this[i]=value;return this},TMP_Array_initialize_2.$$arity=-1),Opal.defs(self,"$try_convert",TMP_Array_try_convert_3=function(obj){return Opal.const_get_relative($nesting,"Opal")["$coerce_to?"](obj,Opal.const_get_relative($nesting,"Array"),"to_ary")},TMP_Array_try_convert_3.$$arity=1),Opal.defn(self,"$&",TMP_Array_$_4=function(other){other=$truthy(Opal.const_get_relative($nesting,"Array")["$==="](other))?other.$to_a():Opal.const_get_relative($nesting,"Opal").$coerce_to(other,Opal.const_get_relative($nesting,"Array"),"to_ary").$to_a();var i,length,item,result=[],hash=$hash2([],{});for(i=0,length=other.length;i<length;i++)Opal.hash_put(hash,other[i],!0);for(i=0,length=this.length;i<length;i++)item=this[i],void 0!==Opal.hash_delete(hash,item)&&result.push(item);return result},TMP_Array_$_4.$$arity=1),Opal.defn(self,"$|",TMP_Array_$_5=function(other){other=$truthy(Opal.const_get_relative($nesting,"Array")["$==="](other))?other.$to_a():Opal.const_get_relative($nesting,"Opal").$coerce_to(other,Opal.const_get_relative($nesting,"Array"),"to_ary").$to_a();var i,length,hash=$hash2([],{});for(i=0,length=this.length;i<length;i++)Opal.hash_put(hash,this[i],!0);for(i=0,length=other.length;i<length;i++)Opal.hash_put(hash,other[i],!0);return hash.$keys()},TMP_Array_$_5.$$arity=1),Opal.defn(self,"$*",TMP_Array_$_6=function(other){if($truthy(other["$respond_to?"]("to_str")))return this.$join(other.$to_str());other=Opal.const_get_relative($nesting,"Opal").$coerce_to(other,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy(other<0)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"negative argument");for(var result=[],converted=this.$to_a(),i=0;i<other;i++)result=result.concat(converted);return toArraySubclass(result,this.$class())},TMP_Array_$_6.$$arity=1),Opal.defn(self,"$+",TMP_Array_$_7=function(other){return other=$truthy(Opal.const_get_relative($nesting,"Array")["$==="](other))?other.$to_a():Opal.const_get_relative($nesting,"Opal").$coerce_to(other,Opal.const_get_relative($nesting,"Array"),"to_ary").$to_a(),this.concat(other)},TMP_Array_$_7.$$arity=1),Opal.defn(self,"$-",TMP_Array_$_8=function(other){if(other=$truthy(Opal.const_get_relative($nesting,"Array")["$==="](other))?other.$to_a():Opal.const_get_relative($nesting,"Opal").$coerce_to(other,Opal.const_get_relative($nesting,"Array"),"to_ary").$to_a(),$truthy(0===this.length))return[];if($truthy(0===other.length))return this.slice();var i,length,item,result=[],hash=$hash2([],{});for(i=0,length=other.length;i<length;i++)Opal.hash_put(hash,other[i],!0);for(i=0,length=this.length;i<length;i++)item=this[i],void 0===Opal.hash_get(hash,item)&&result.push(item);return result},TMP_Array_$_8.$$arity=1),Opal.defn(self,"$<<",TMP_Array_$lt$lt_9=function(object){return this.push(object),this},TMP_Array_$lt$lt_9.$$arity=1),Opal.defn(self,"$<=>",TMP_Array_$lt$eq$gt_10=function(other){if($truthy(Opal.const_get_relative($nesting,"Array")["$==="](other)))other=other.$to_a();else{if(!$truthy(other["$respond_to?"]("to_ary")))return nil;other=other.$to_ary().$to_a()}if(this.$hash()===other.$hash())return 0;for(var count=Math.min(this.length,other.length),i=0;i<count;i++){var tmp=this[i]["$<=>"](other[i]);if(0!==tmp)return tmp}return this.length["$<=>"](other.length)},TMP_Array_$lt$eq$gt_10.$$arity=1),Opal.defn(self,"$==",TMP_Array_$eq$eq_11=function(other){var recursed={};return function _eqeq(array,other){var i,length,a,b;if(array===other)return!0;if(!other.$$is_array)return!!Opal.const_get_relative($nesting,"Opal")["$respond_to?"](other,"to_ary")&&other["$=="](array);if(array.constructor!==Array&&(array=array.$to_a()),other.constructor!==Array&&(other=other.$to_a()),array.length!==other.length)return!1;for(recursed[array.$object_id()]=!0,i=0,length=array.length;i<length;i++)if(a=array[i],b=other[i],a.$$is_array){if(b.$$is_array&&b.length!==a.length)return!1;if(!recursed.hasOwnProperty(a.$object_id())&&!_eqeq(a,b))return!1}else if(!a["$=="](b))return!1;return!0}(this,other)},TMP_Array_$eq$eq_11.$$arity=1),Opal.defn(self,"$[]",TMP_Array_$$_12=function(index,length){return index.$$is_range?function(self,index){var exclude,from,to,size=self.length;return exclude=index.excl,from=Opal.Opal.$coerce_to(index.begin,Opal.Integer,"to_int"),to=Opal.Opal.$coerce_to(index.end,Opal.Integer,"to_int"),from<0&&(from+=size)<0?nil:size<from?nil:to<0&&(to+=size)<0?[]:(exclude||(to+=1),toArraySubclass(self.slice(from,to),self.$class()))}(this,index):function(self,index,length){var size=self.length;return(index=Opal.Opal.$coerce_to(index,Opal.Integer,"to_int"))<0&&(index+=size)<0?nil:void 0===length?size<=index||index<0?nil:self[index]:(length=Opal.Opal.$coerce_to(length,Opal.Integer,"to_int"))<0||size<index||index<0?nil:toArraySubclass(self.slice(index,index+length),self.$class())}(this,index,length)},TMP_Array_$$_12.$$arity=-2),Opal.defn(self,"$[]=",TMP_Array_$$$eq_13=function(index,value,extra){var i,old,data=nil,length=nil,size=this.length;if($truthy(Opal.const_get_relative($nesting,"Range")["$==="](index))){data=$truthy(Opal.const_get_relative($nesting,"Array")["$==="](value))?value.$to_a():$truthy(value["$respond_to?"]("to_ary"))?value.$to_ary().$to_a():[value];var exclude=index.excl,from=Opal.const_get_relative($nesting,"Opal").$coerce_to(index.begin,Opal.const_get_relative($nesting,"Integer"),"to_int"),to=Opal.const_get_relative($nesting,"Opal").$coerce_to(index.end,Opal.const_get_relative($nesting,"Integer"),"to_int");if(from<0&&(from+=size)<0&&this.$raise(Opal.const_get_relative($nesting,"RangeError"),index.$inspect()+" out of range"),to<0&&(to+=size),exclude||(to+=1),size<from)for(i=size;i<from;i++)this[i]=nil;return to<0?this.splice.apply(this,[from,0].concat(data)):this.splice.apply(this,[from,to-from].concat(data)),value}if($truthy(void 0===extra)?length=1:(length=value,value=extra,data=$truthy(Opal.const_get_relative($nesting,"Array")["$==="](value))?value.$to_a():$truthy(value["$respond_to?"]("to_ary"))?value.$to_ary().$to_a():[value]),index=Opal.const_get_relative($nesting,"Opal").$coerce_to(index,Opal.const_get_relative($nesting,"Integer"),"to_int"),length=Opal.const_get_relative($nesting,"Opal").$coerce_to(length,Opal.const_get_relative($nesting,"Integer"),"to_int"),index<0&&(old=index,(index+=size)<0&&this.$raise(Opal.const_get_relative($nesting,"IndexError"),"index "+old+" too small for array; minimum "+-this.length)),length<0&&this.$raise(Opal.const_get_relative($nesting,"IndexError"),"negative length ("+length+")"),size<index)for(i=size;i<index;i++)this[i]=nil;return void 0===extra?this[index]=value:this.splice.apply(this,[index,length].concat(data)),value},TMP_Array_$$$eq_13.$$arity=-3),Opal.defn(self,"$any?",TMP_Array_any$q_14=function(){var $zuper_ii,$iter=TMP_Array_any$q_14.$$p,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_Array_any$q_14.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return 0!==this.length&&$send(this,Opal.find_super_dispatcher(this,"any?",TMP_Array_any$q_14,!1),$zuper,$iter)},TMP_Array_any$q_14.$$arity=0),Opal.defn(self,"$assoc",TMP_Array_assoc_15=function(object){for(var item,i=0,length=this.length;i<length;i++)if((item=this[i]).length&&item[0]["$=="](object))return item;return nil},TMP_Array_assoc_15.$$arity=1),Opal.defn(self,"$at",TMP_Array_at_16=function(index){return(index=Opal.const_get_relative($nesting,"Opal").$coerce_to(index,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0&&(index+=this.length),index<0||index>=this.length?nil:this[index]},TMP_Array_at_16.$$arity=1),Opal.defn(self,"$bsearch_index",TMP_Array_bsearch_index_17=function(){var $iter=TMP_Array_bsearch_index_17.$$p,block=$iter||nil;if($iter&&(TMP_Array_bsearch_index_17.$$p=null),block===nil)return this.$enum_for("bsearch_index");for(var mid,val,ret,min=0,max=this.length,smaller=!1,satisfied=nil;min<max;){if(val=this[mid=min+Math.floor((max-min)/2)],!0===(ret=Opal.yield1(block,val)))satisfied=mid,smaller=!0;else if(!1===ret||ret===nil)smaller=!1;else if(ret.$$is_number){if(0===ret)return mid;smaller=ret<0}else this.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong argument type "+ret.$class()+" (must be numeric, true, false or nil)");smaller?max=mid:min=mid+1}return satisfied},TMP_Array_bsearch_index_17.$$arity=0),Opal.defn(self,"$bsearch",TMP_Array_bsearch_18=function(){var index,$iter=TMP_Array_bsearch_18.$$p,block=$iter||nil;return $iter&&(TMP_Array_bsearch_18.$$p=null),block===nil?this.$enum_for("bsearch"):null!=(index=$send(this,"bsearch_index",[],block.$to_proc()))&&index.$$is_number?this[index]:index},TMP_Array_bsearch_18.$$arity=0),Opal.defn(self,"$cycle",TMP_Array_cycle_19=function(n){var TMP_20,$a,i,length,$iter=TMP_Array_cycle_19.$$p,block=$iter||nil;if(null==n&&(n=nil),$iter&&(TMP_Array_cycle_19.$$p=null),block===nil)return $send(this,"enum_for",["cycle",n],((TMP_20=function(){var lhs,rhs,self=TMP_20.$$s||this;return n["$=="](nil)?Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"INFINITY"):(n=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](n,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy($rb_gt(n,0))?(lhs=self.$enumerator_size(),rhs=n,"number"==typeof lhs&&"number"==typeof rhs?lhs*rhs:lhs["$*"](rhs)):0)}).$$s=this,TMP_20.$$arity=0,TMP_20));if($truthy($truthy($a=this["$empty?"]())?$a:n["$=="](0)))return nil;if(n===nil)for(;;)for(i=0,length=this.length;i<length;i++)Opal.yield1(block,this[i]);else{if((n=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](n,Opal.const_get_relative($nesting,"Integer"),"to_int"))<=0)return this;for(;0<n;){for(i=0,length=this.length;i<length;i++)Opal.yield1(block,this[i]);n--}}return this},TMP_Array_cycle_19.$$arity=-1),Opal.defn(self,"$clear",TMP_Array_clear_21=function(){return this.splice(0,this.length),this},TMP_Array_clear_21.$$arity=0),Opal.defn(self,"$count",TMP_Array_count_22=function(object){var $a,$zuper_ii,$iter=TMP_Array_count_22.$$p,block=$iter||nil,$zuper=nil,$zuper_i=nil;for(null==object&&(object=nil),$iter&&(TMP_Array_count_22.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $truthy($truthy($a=object)?$a:block)?$send(this,Opal.find_super_dispatcher(this,"count",TMP_Array_count_22,!1),$zuper,$iter):this.$size()},TMP_Array_count_22.$$arity=-1),Opal.defn(self,"$initialize_copy",TMP_Array_initialize_copy_23=function(other){return this.$replace(other)},TMP_Array_initialize_copy_23.$$arity=1),Opal.defn(self,"$collect",TMP_Array_collect_24=function(){var TMP_25,$iter=TMP_Array_collect_24.$$p,block=$iter||nil;if($iter&&(TMP_Array_collect_24.$$p=null),block===nil)return $send(this,"enum_for",["collect"],((TMP_25=function(){return(TMP_25.$$s||this).$size()}).$$s=this,TMP_25.$$arity=0,TMP_25));for(var result=[],i=0,length=this.length;i<length;i++){var value=Opal.yield1(block,this[i]);result.push(value)}return result},TMP_Array_collect_24.$$arity=0),Opal.defn(self,"$collect!",TMP_Array_collect$B_26=function(){var TMP_27,$iter=TMP_Array_collect$B_26.$$p,block=$iter||nil;if($iter&&(TMP_Array_collect$B_26.$$p=null),block===nil)return $send(this,"enum_for",["collect!"],((TMP_27=function(){return(TMP_27.$$s||this).$size()}).$$s=this,TMP_27.$$arity=0,TMP_27));for(var i=0,length=this.length;i<length;i++){var value=Opal.yield1(block,this[i]);this[i]=value}return this},TMP_Array_collect$B_26.$$arity=0),Opal.defn(self,"$combination",TMP_Array_combination_28=function(n){var TMP_29,num,i,length,stack,chosen,lev,done,next,$iter=TMP_Array_combination_28.$$p,$yield=$iter||nil;if($iter&&(TMP_Array_combination_28.$$p=null),num=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](n,Opal.const_get_relative($nesting,"Integer"),"to_int"),$yield===nil)return $send(this,"enum_for",["combination",num],((TMP_29=function(){return binomial_coefficient((TMP_29.$$s||this).length,num)}).$$s=this,TMP_29.$$arity=0,TMP_29));if(0===num)Opal.yield1($yield,[]);else if(1===num)for(i=0,length=this.length;i<length;i++)Opal.yield1($yield,[this[i]]);else if(num===this.length)Opal.yield1($yield,this.slice());else if(0<=num&&num<this.length){for(stack=[],i=0;i<=num+1;i++)stack.push(0);for(done=!(chosen=[]),stack[lev=0]=-1;!done;){for(chosen[lev]=this[stack[lev+1]];lev<num-1;)next=stack[++lev+1]=stack[lev]+1,chosen[lev]=this[next];for(Opal.yield1($yield,chosen.slice()),lev++;done=0===lev,stack[lev]++,stack[--lev+1]+num===this.length+lev+1;);}}return this},TMP_Array_combination_28.$$arity=1),Opal.defn(self,"$repeated_combination",TMP_Array_repeated_combination_30=function(n){var TMP_31,num,$iter=TMP_Array_repeated_combination_30.$$p,$yield=$iter||nil;if($iter&&(TMP_Array_repeated_combination_30.$$p=null),num=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](n,Opal.const_get_relative($nesting,"Integer"),"to_int"),$yield===nil)return $send(this,"enum_for",["repeated_combination",num],((TMP_31=function(){return binomial_coefficient((TMP_31.$$s||this).length+num-1,num)}).$$s=this,TMP_31.$$arity=0,TMP_31));return 0<=num&&function iterate(max,from,buffer,self){if(buffer.length!=max)for(var i=from;i<self.length;i++)buffer.push(self[i]),iterate(max,i,buffer,self),buffer.pop();else{var copy=buffer.slice();Opal.yield1($yield,copy)}}(num,0,[],this),this},TMP_Array_repeated_combination_30.$$arity=1),Opal.defn(self,"$compact",TMP_Array_compact_32=function(){for(var item,result=[],i=0,length=this.length;i<length;i++)(item=this[i])!==nil&&result.push(item);return result},TMP_Array_compact_32.$$arity=0),Opal.defn(self,"$compact!",TMP_Array_compact$B_33=function(){for(var original=this.length,i=0,length=this.length;i<length;i++)this[i]===nil&&(this.splice(i,1),length--,i--);return this.length===original?nil:this},TMP_Array_compact$B_33.$$arity=0),Opal.defn(self,"$concat",TMP_Array_concat_36=function($a_rest){var TMP_34,TMP_35,others,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),others=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)others[$arg_idx-0]=arguments[$arg_idx];return others=$send(others,"map",[],((TMP_34=function(other){var self=TMP_34.$$s||this;return null==other&&(other=nil),other=$truthy(Opal.const_get_relative($nesting,"Array")["$==="](other))?other.$to_a():Opal.const_get_relative($nesting,"Opal").$coerce_to(other,Opal.const_get_relative($nesting,"Array"),"to_ary").$to_a(),$truthy(other["$equal?"](self))&&(other=other.$dup()),other}).$$s=this,TMP_34.$$arity=1,TMP_34)),$send(others,"each",[],((TMP_35=function(other){var self=TMP_35.$$s||this;null==other&&(other=nil);for(var i=0,length=other.length;i<length;i++)self.push(other[i])}).$$s=this,TMP_35.$$arity=1,TMP_35)),this},TMP_Array_concat_36.$$arity=-1),Opal.defn(self,"$delete",TMP_Array_delete_37=function(object){var $iter=TMP_Array_delete_37.$$p,$yield=$iter||nil;$iter&&(TMP_Array_delete_37.$$p=null);for(var original=this.length,i=0,length=original;i<length;i++)this[i]["$=="](object)&&(this.splice(i,1),length--,i--);return this.length===original?$yield!==nil?Opal.yieldX($yield,[]):nil:object},TMP_Array_delete_37.$$arity=1),Opal.defn(self,"$delete_at",TMP_Array_delete_at_38=function(index){if((index=Opal.const_get_relative($nesting,"Opal").$coerce_to(index,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0&&(index+=this.length),index<0||index>=this.length)return nil;var result=this[index];return this.splice(index,1),result},TMP_Array_delete_at_38.$$arity=1),Opal.defn(self,"$delete_if",TMP_Array_delete_if_39=function(){var TMP_40,$iter=TMP_Array_delete_if_39.$$p,block=$iter||nil;if($iter&&(TMP_Array_delete_if_39.$$p=null),block===nil)return $send(this,"enum_for",["delete_if"],((TMP_40=function(){return(TMP_40.$$s||this).$size()}).$$s=this,TMP_40.$$arity=0,TMP_40));for(var value,i=0,length=this.length;i<length;i++)!1!==(value=block(this[i]))&&value!==nil&&(this.splice(i,1),length--,i--);return this},TMP_Array_delete_if_39.$$arity=0),Opal.defn(self,"$dig",TMP_Array_dig_41=function(idx,$a_rest){var idxs,item=nil,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),idxs=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)idxs[$arg_idx-1]=arguments[$arg_idx];return(item=this["$[]"](idx))===nil||0===idxs.length?item:($truthy(item["$respond_to?"]("dig"))||this.$raise(Opal.const_get_relative($nesting,"TypeError"),item.$class()+" does not have #dig method"),$send(item,"dig",Opal.to_a(idxs)))},TMP_Array_dig_41.$$arity=-2),Opal.defn(self,"$drop",TMP_Array_drop_42=function(number){return number<0&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError")),this.slice(number)},TMP_Array_drop_42.$$arity=1),Opal.defn(self,"$dup",TMP_Array_dup_43=function(){var $zuper_ii,$iter=TMP_Array_dup_43.$$p,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_Array_dup_43.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return this.$$class===Opal.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):$send(this,Opal.find_super_dispatcher(this,"dup",TMP_Array_dup_43,!1),$zuper,$iter)},TMP_Array_dup_43.$$arity=0),Opal.defn(self,"$each",TMP_Array_each_44=function(){var TMP_45,$iter=TMP_Array_each_44.$$p,block=$iter||nil;if($iter&&(TMP_Array_each_44.$$p=null),block===nil)return $send(this,"enum_for",["each"],((TMP_45=function(){return(TMP_45.$$s||this).$size()}).$$s=this,TMP_45.$$arity=0,TMP_45));for(var i=0,length=this.length;i<length;i++)Opal.yield1(block,this[i]);return this},TMP_Array_each_44.$$arity=0),Opal.defn(self,"$each_index",TMP_Array_each_index_46=function(){var TMP_47,$iter=TMP_Array_each_index_46.$$p,block=$iter||nil;if($iter&&(TMP_Array_each_index_46.$$p=null),block===nil)return $send(this,"enum_for",["each_index"],((TMP_47=function(){return(TMP_47.$$s||this).$size()}).$$s=this,TMP_47.$$arity=0,TMP_47));for(var i=0,length=this.length;i<length;i++)Opal.yield1(block,i);return this},TMP_Array_each_index_46.$$arity=0),Opal.defn(self,"$empty?",TMP_Array_empty$q_48=function(){return 0===this.length},TMP_Array_empty$q_48.$$arity=0),Opal.defn(self,"$eql?",TMP_Array_eql$q_49=function(other){var recursed={};return function _eql(array,other){var i,length,a,b;if(!other.$$is_array)return!1;if(other=other.$to_a(),array.length!==other.length)return!1;for(recursed[array.$object_id()]=!0,i=0,length=array.length;i<length;i++)if(a=array[i],b=other[i],a.$$is_array){if(b.$$is_array&&b.length!==a.length)return!1;if(!recursed.hasOwnProperty(a.$object_id())&&!_eql(a,b))return!1}else if(!a["$eql?"](b))return!1;return!0}(this,other)},TMP_Array_eql$q_49.$$arity=1),Opal.defn(self,"$fetch",TMP_Array_fetch_50=function(index,defaults){var $iter=TMP_Array_fetch_50.$$p,block=$iter||nil;$iter&&(TMP_Array_fetch_50.$$p=null);var original=index;return(index=Opal.const_get_relative($nesting,"Opal").$coerce_to(index,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0&&(index+=this.length),0<=index&&index<this.length?this[index]:(block!==nil&&null!=defaults&&this.$warn("warning: block supersedes default value argument"),block!==nil?block(original):null!=defaults?defaults:void(0===this.length?this.$raise(Opal.const_get_relative($nesting,"IndexError"),"index "+original+" outside of array bounds: 0...0"):this.$raise(Opal.const_get_relative($nesting,"IndexError"),"index "+original+" outside of array bounds: -"+this.length+"..."+this.length)))},TMP_Array_fetch_50.$$arity=-2),Opal.defn(self,"$fill",TMP_Array_fill_51=function($a_rest){var $b,$c,args,i,value,$iter=TMP_Array_fill_51.$$p,block=$iter||nil,one=nil,two=nil,obj=nil,left=nil,right=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];if($iter&&(TMP_Array_fill_51.$$p=null),two=$truthy(block)?($truthy(2<args.length)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments ("+args.$length()+" for 0..2)"),$c=args,one=null==($b=Opal.to_ary($c))[0]?nil:$b[0],null==$b[1]?nil:$b[1]):($truthy(0==args.length)?this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):$truthy(3<args.length)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments ("+args.$length()+" for 1..3)"),$c=args,obj=null==($b=Opal.to_ary($c))[0]?nil:$b[0],one=null==$b[1]?nil:$b[1],null==$b[2]?nil:$b[2]),$truthy(Opal.const_get_relative($nesting,"Range")["$==="](one))){if($truthy(two)&&this.$raise(Opal.const_get_relative($nesting,"TypeError"),"length invalid with range"),left=Opal.const_get_relative($nesting,"Opal").$coerce_to(one.$begin(),Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy(left<0)&&(left+=this.length),$truthy(left<0)&&this.$raise(Opal.const_get_relative($nesting,"RangeError"),one.$inspect()+" out of range"),right=Opal.const_get_relative($nesting,"Opal").$coerce_to(one.$end(),Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy(right<0)&&(right+=this.length),$truthy(one["$exclude_end?"]())||(right+=1),$truthy(right<=left))return this}else if($truthy(one))if(left=Opal.const_get_relative($nesting,"Opal").$coerce_to(one,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy(left<0)&&(left+=this.length),$truthy(left<0)&&(left=0),$truthy(two)){if(right=Opal.const_get_relative($nesting,"Opal").$coerce_to(two,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy(0==right))return this;right+=left}else right=this.length;else left=0,right=this.length;if($truthy(left>this.length))for(i=this.length;i<right;i++)this[i]=nil;if($truthy(right>this.length)&&(this.length=right),$truthy(block))for(this.length;left<right;left++)value=block(left),this[left]=value;else for(this.length;left<right;left++)this[left]=obj;return this},TMP_Array_fill_51.$$arity=-1),Opal.defn(self,"$first",TMP_Array_first_52=function(count){return null==count?0===this.length?nil:this[0]:((count=Opal.const_get_relative($nesting,"Opal").$coerce_to(count,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"negative array size"),this.slice(0,count))},TMP_Array_first_52.$$arity=-1),Opal.defn(self,"$flatten",TMP_Array_flatten_53=function(level){var self=this;return void 0!==level&&(level=Opal.const_get_relative($nesting,"Opal").$coerce_to(level,Opal.const_get_relative($nesting,"Integer"),"to_int")),toArraySubclass(function _flatten(array,level){var i,length,item,ary,result=[];for(i=0,length=(array=array.$to_a()).length;i<length;i++)if(item=array[i],Opal.const_get_relative($nesting,"Opal")["$respond_to?"](item,"to_ary"))if((ary=item.$to_ary())!==nil)switch(ary.$$is_array||self.$raise(Opal.const_get_relative($nesting,"TypeError")),ary===self&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError")),level){case void 0:result=result.concat(_flatten(ary));break;case 0:result.push(ary);break;default:result.push.apply(result,_flatten(ary,level-1))}else result.push(item);else result.push(item);return result}(self,level),self.$class())},TMP_Array_flatten_53.$$arity=-1),Opal.defn(self,"$flatten!",TMP_Array_flatten$B_54=function(level){var flattened=this.$flatten(level);if(this.length==flattened.length){for(var i=0,length=this.length;i<length&&this[i]===flattened[i];i++);if(i==length)return nil}return this.$replace(flattened),this},TMP_Array_flatten$B_54.$$arity=-1),Opal.defn(self,"$hash",TMP_Array_hash_55=function(){var item,i,key,top=void 0===Opal.hash_ids,result=["A"],hash_id=this.$object_id();try{if(top&&(Opal.hash_ids=Object.create(null)),Opal.hash_ids[hash_id])return"self";for(key in Opal.hash_ids)if(item=Opal.hash_ids[key],this["$eql?"](item))return"self";for(Opal.hash_ids[hash_id]=this,i=0;i<this.length;i++)item=this[i],result.push(item.$hash());return result.join(",")}finally{top&&(Opal.hash_ids=void 0)}},TMP_Array_hash_55.$$arity=0),Opal.defn(self,"$include?",TMP_Array_include$q_56=function(member){for(var i=0,length=this.length;i<length;i++)if(this[i]["$=="](member))return!0;return!1},TMP_Array_include$q_56.$$arity=1),Opal.defn(self,"$index",TMP_Array_index_57=function(object){var i,length,value,$iter=TMP_Array_index_57.$$p,block=$iter||nil;if($iter&&(TMP_Array_index_57.$$p=null),null!=object&&block!==nil&&this.$warn("warning: given block not used"),null!=object){for(i=0,length=this.length;i<length;i++)if(this[i]["$=="](object))return i}else{if(block===nil)return this.$enum_for("index");for(i=0,length=this.length;i<length;i++)if(!1!==(value=block(this[i]))&&value!==nil)return i}return nil},TMP_Array_index_57.$$arity=-1),Opal.defn(self,"$insert",TMP_Array_insert_58=function(index,$a_rest){var objects,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),objects=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)objects[$arg_idx-1]=arguments[$arg_idx];if(index=Opal.const_get_relative($nesting,"Opal").$coerce_to(index,Opal.const_get_relative($nesting,"Integer"),"to_int"),0<objects.length){if(index<0&&(index+=this.length+1)<0&&this.$raise(Opal.const_get_relative($nesting,"IndexError"),index+" is out of bounds"),index>this.length)for(var i=this.length;i<index;i++)this.push(nil);this.splice.apply(this,[index,0].concat(objects))}return this},TMP_Array_insert_58.$$arity=-2),Opal.defn(self,"$inspect",TMP_Array_inspect_59=function(){for(var result=[],id=this.$__id__(),i=0,length=this.length;i<length;i++){var item=this["$[]"](i);item.$__id__()===id?result.push("[...]"):result.push(item.$inspect())}return"["+result.join(", ")+"]"},TMP_Array_inspect_59.$$arity=0),Opal.defn(self,"$join",TMP_Array_join_60=function(sep){if(null==$gvars[","]&&($gvars[","]=nil),null==sep&&(sep=nil),$truthy(0===this.length))return"";$truthy(sep===nil)&&(sep=$gvars[","]);var i,length,item,tmp,result=[];for(i=0,length=this.length;i<length;i++)item=this[i],Opal.const_get_relative($nesting,"Opal")["$respond_to?"](item,"to_str")&&(tmp=item.$to_str())!==nil?result.push(tmp.$to_s()):Opal.const_get_relative($nesting,"Opal")["$respond_to?"](item,"to_ary")&&((tmp=item.$to_ary())===this&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError")),tmp!==nil)?result.push(tmp.$join(sep)):Opal.const_get_relative($nesting,"Opal")["$respond_to?"](item,"to_s")&&(tmp=item.$to_s())!==nil?result.push(tmp):this.$raise(Opal.const_get_relative($nesting,"NoMethodError").$new(Opal.inspect(item)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return sep===nil?result.join(""):result.join(Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](sep,Opal.const_get_relative($nesting,"String"),"to_str").$to_s())},TMP_Array_join_60.$$arity=-1),Opal.defn(self,"$keep_if",TMP_Array_keep_if_61=function(){var TMP_62,$iter=TMP_Array_keep_if_61.$$p,block=$iter||nil;if($iter&&(TMP_Array_keep_if_61.$$p=null),block===nil)return $send(this,"enum_for",["keep_if"],((TMP_62=function(){return(TMP_62.$$s||this).$size()}).$$s=this,TMP_62.$$arity=0,TMP_62));for(var value,i=0,length=this.length;i<length;i++)!1!==(value=block(this[i]))&&value!==nil||(this.splice(i,1),length--,i--);return this},TMP_Array_keep_if_61.$$arity=0),Opal.defn(self,"$last",TMP_Array_last_63=function(count){return null==count?0===this.length?nil:this[this.length-1]:((count=Opal.const_get_relative($nesting,"Opal").$coerce_to(count,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"negative array size"),count>this.length&&(count=this.length),this.slice(this.length-count,this.length))},TMP_Array_last_63.$$arity=-1),Opal.defn(self,"$length",TMP_Array_length_64=function(){return this.length},TMP_Array_length_64.$$arity=0),Opal.alias(self,"map","collect"),Opal.alias(self,"map!","collect!"),Opal.defn(self,"$permutation",TMP_Array_permutation_65=function(num){var TMP_66,permute,offensive,output,self=this,$iter=TMP_Array_permutation_65.$$p,block=$iter||nil,perm=nil,used=nil;if($iter&&(TMP_Array_permutation_65.$$p=null),block===nil)return $send(self,"enum_for",["permutation",num],((TMP_66=function(){var self=TMP_66.$$s||this;return function(from,how_many){for(var count=0<=how_many?1:0;how_many;)count*=from,from--,how_many--;return count}(self.length,void 0===num?self.length:num)}).$$s=self,TMP_66.$$arity=0,TMP_66));if((num=void 0===num?self.length:Opal.const_get_relative($nesting,"Opal").$coerce_to(num,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0||self.length<num);else if(0===num)Opal.yield1(block,[]);else if(1===num)for(var i=0;i<self.length;i++)Opal.yield1(block,[self[i]]);else perm=Opal.const_get_relative($nesting,"Array").$new(num),used=Opal.const_get_relative($nesting,"Array").$new(self.length,!1),permute=function(num,perm,index,used,blk){self=this;for(var i=0;i<self.length;i++)if(used["$[]"](i)["$!"]())if(perm[index]=i,index<num-1)used[i]=!0,permute.call(self,num,perm,index+1,used,blk),used[i]=!1;else{output=[];for(var j=0;j<perm.length;j++)output.push(self[perm[j]]);Opal.yield1(blk,output)}},block!==nil?(offensive=self.slice(),permute.call(offensive,num,perm,0,used,block)):permute.call(self,num,perm,0,used,block);return self},TMP_Array_permutation_65.$$arity=-1),Opal.defn(self,"$repeated_permutation",TMP_Array_repeated_permutation_67=function(n){var TMP_68,num,$iter=TMP_Array_repeated_permutation_67.$$p,$yield=$iter||nil;if($iter&&(TMP_Array_repeated_permutation_67.$$p=null),num=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](n,Opal.const_get_relative($nesting,"Integer"),"to_int"),$yield===nil)return $send(this,"enum_for",["repeated_permutation",num],((TMP_68=function(){var lhs,rhs,self=TMP_68.$$s||this;return $truthy((rhs=0,"number"==typeof(lhs=num)&&"number"==typeof rhs?rhs<=lhs:lhs["$>="](rhs)))?self.$size()["$**"](num):0}).$$s=this,TMP_68.$$arity=0,TMP_68));return function iterate(max,buffer,self){if(buffer.length!=max)for(var i=0;i<self.length;i++)buffer.push(self[i]),iterate(max,buffer,self),buffer.pop();else{var copy=buffer.slice();Opal.yield1($yield,copy)}}(num,[],this.slice()),this},TMP_Array_repeated_permutation_67.$$arity=1),Opal.defn(self,"$pop",TMP_Array_pop_69=function(count){return $truthy(void 0===count)?$truthy(0===this.length)?nil:this.pop():(count=Opal.const_get_relative($nesting,"Opal").$coerce_to(count,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy(count<0)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"negative array size"),$truthy(0===this.length)?[]:$truthy(count>this.length)?this.splice(0,this.length):this.splice(this.length-count,this.length))},TMP_Array_pop_69.$$arity=-1),Opal.defn(self,"$product",TMP_Array_product_70=function($a_rest){var args,$iter=TMP_Array_product_70.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Array_product_70.$$p=null);var i,m,subarray,len,result=block!==nil?null:[],n=args.length+1,counters=new Array(n),lengths=new Array(n),arrays=new Array(n),resultlen=1;for(arrays[0]=this,i=1;i<n;i++)arrays[i]=Opal.const_get_relative($nesting,"Opal").$coerce_to(args[i-1],Opal.const_get_relative($nesting,"Array"),"to_ary");for(i=0;i<n;i++){if(0===(len=arrays[i].length))return result||this;2147483647<(resultlen*=len)&&this.$raise(Opal.const_get_relative($nesting,"RangeError"),"too big to product"),lengths[i]=len,counters[i]=0}outer_loop:for(;;){for(subarray=[],i=0;i<n;i++)subarray.push(arrays[i][counters[i]]);for(result?result.push(subarray):Opal.yield1(block,subarray),counters[m=n-1]++;counters[m]===lengths[m];){if(counters[m]=0,--m<0)break outer_loop;counters[m]++}}return result||this},TMP_Array_product_70.$$arity=-1),Opal.defn(self,"$push",TMP_Array_push_71=function($a_rest){var objects,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),objects=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)objects[$arg_idx-0]=arguments[$arg_idx];for(var i=0,length=objects.length;i<length;i++)this.push(objects[i]);return this},TMP_Array_push_71.$$arity=-1),Opal.defn(self,"$rassoc",TMP_Array_rassoc_72=function(object){for(var item,i=0,length=this.length;i<length;i++)if((item=this[i]).length&&void 0!==item[1]&&item[1]["$=="](object))return item;return nil},TMP_Array_rassoc_72.$$arity=1),Opal.defn(self,"$reject",TMP_Array_reject_73=function(){var TMP_74,$iter=TMP_Array_reject_73.$$p,block=$iter||nil;if($iter&&(TMP_Array_reject_73.$$p=null),block===nil)return $send(this,"enum_for",["reject"],((TMP_74=function(){return(TMP_74.$$s||this).$size()}).$$s=this,TMP_74.$$arity=0,TMP_74));for(var value,result=[],i=0,length=this.length;i<length;i++)!1!==(value=block(this[i]))&&value!==nil||result.push(this[i]);return result},TMP_Array_reject_73.$$arity=0),Opal.defn(self,"$reject!",TMP_Array_reject$B_75=function(){var TMP_76,original,$iter=TMP_Array_reject$B_75.$$p,block=$iter||nil;return $iter&&(TMP_Array_reject$B_75.$$p=null),block===nil?$send(this,"enum_for",["reject!"],((TMP_76=function(){return(TMP_76.$$s||this).$size()}).$$s=this,TMP_76.$$arity=0,TMP_76)):(original=this.$length(),$send(this,"delete_if",[],block.$to_proc()),this.$length()["$=="](original)?nil:this)},TMP_Array_reject$B_75.$$arity=0),Opal.defn(self,"$replace",TMP_Array_replace_77=function(other){return other=$truthy(Opal.const_get_relative($nesting,"Array")["$==="](other))?other.$to_a():Opal.const_get_relative($nesting,"Opal").$coerce_to(other,Opal.const_get_relative($nesting,"Array"),"to_ary").$to_a(),this.splice(0,this.length),this.push.apply(this,other),this},TMP_Array_replace_77.$$arity=1),Opal.defn(self,"$reverse",TMP_Array_reverse_78=function(){return this.slice(0).reverse()},TMP_Array_reverse_78.$$arity=0),Opal.defn(self,"$reverse!",TMP_Array_reverse$B_79=function(){return this.reverse()},TMP_Array_reverse$B_79.$$arity=0),Opal.defn(self,"$reverse_each",TMP_Array_reverse_each_80=function(){var TMP_81,$iter=TMP_Array_reverse_each_80.$$p,block=$iter||nil;return $iter&&(TMP_Array_reverse_each_80.$$p=null),block===nil?$send(this,"enum_for",["reverse_each"],((TMP_81=function(){return(TMP_81.$$s||this).$size()}).$$s=this,TMP_81.$$arity=0,TMP_81)):($send(this.$reverse(),"each",[],block.$to_proc()),this)},TMP_Array_reverse_each_80.$$arity=0),Opal.defn(self,"$rindex",TMP_Array_rindex_82=function(object){var i,value,$iter=TMP_Array_rindex_82.$$p,block=$iter||nil;if($iter&&(TMP_Array_rindex_82.$$p=null),null!=object&&block!==nil&&this.$warn("warning: given block not used"),null!=object){for(i=this.length-1;0<=i&&!(i>=this.length);i--)if(this[i]["$=="](object))return i}else if(block!==nil){for(i=this.length-1;0<=i&&!(i>=this.length);i--)if(!1!==(value=block(this[i]))&&value!==nil)return i}else if(null==object)return this.$enum_for("rindex");return nil},TMP_Array_rindex_82.$$arity=-1),Opal.defn(self,"$rotate",TMP_Array_rotate_83=function(n){var ary,idx,firstPart,lastPart;return null==n&&(n=1),n=Opal.const_get_relative($nesting,"Opal").$coerce_to(n,Opal.const_get_relative($nesting,"Integer"),"to_int"),1===this.length?this.slice():0===this.length?[]:(idx=n%(ary=this.slice()).length,firstPart=ary.slice(idx),lastPart=ary.slice(0,idx),firstPart.concat(lastPart))},TMP_Array_rotate_83.$$arity=-1),Opal.defn(self,"$rotate!",TMP_Array_rotate$B_84=function(cnt){var ary;return null==cnt&&(cnt=1),0===this.length||1===this.length?this:(cnt=Opal.const_get_relative($nesting,"Opal").$coerce_to(cnt,Opal.const_get_relative($nesting,"Integer"),"to_int"),ary=this.$rotate(cnt),this.$replace(ary))},TMP_Array_rotate$B_84.$$arity=-1),function($base,$super,$parent_nesting){function $SampleRandom(){}var TMP_SampleRandom_initialize_85,TMP_SampleRandom_rand_86,self=$SampleRandom=$klass($base,null,"SampleRandom",$SampleRandom),def=self.$$proto,$nesting=[self].concat($parent_nesting);def.rng=nil,Opal.defn(self,"$initialize",TMP_SampleRandom_initialize_85=function(rng){return this.rng=rng},TMP_SampleRandom_initialize_85.$$arity=1),Opal.defn(self,"$rand",TMP_SampleRandom_rand_86=function(size){var random;return random=Opal.const_get_relative($nesting,"Opal").$coerce_to(this.rng.$rand(size),Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy(random<0)&&this.$raise(Opal.const_get_relative($nesting,"RangeError"),"random value must be >= 0"),$truthy(random<size)||this.$raise(Opal.const_get_relative($nesting,"RangeError"),"random value must be less than Array size"),random},TMP_SampleRandom_rand_86.$$arity=1)}($nesting[0],0,$nesting),Opal.defn(self,"$sample",TMP_Array_sample_87=function(count,options){var $a,abandon,spin,result,i,j,k,targetIndex,oldValue,o=nil,rng=nil;if($truthy(void 0===count))return this.$at(Opal.const_get_relative($nesting,"Kernel").$rand(this.length));if($truthy(void 0===options)?count=$truthy(o=Opal.const_get_relative($nesting,"Opal")["$coerce_to?"](count,Opal.const_get_relative($nesting,"Hash"),"to_hash"))?(options=o,nil):(options=nil,Opal.const_get_relative($nesting,"Opal").$coerce_to(count,Opal.const_get_relative($nesting,"Integer"),"to_int")):(count=Opal.const_get_relative($nesting,"Opal").$coerce_to(count,Opal.const_get_relative($nesting,"Integer"),"to_int"),options=Opal.const_get_relative($nesting,"Opal").$coerce_to(options,Opal.const_get_relative($nesting,"Hash"),"to_hash")),$truthy($truthy($a=count)?count<0:$a)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"count must be greater than 0"),$truthy(options)&&(rng=options["$[]"]("random")),rng=$truthy($truthy($a=rng)?rng["$respond_to?"]("rand"):$a)?Opal.const_get_relative($nesting,"SampleRandom").$new(rng):Opal.const_get_relative($nesting,"Kernel"),!$truthy(count))return this[rng.$rand(this.length)];switch(count>this.length&&(count=this.length),count){case 0:return[];case 1:return[this[rng.$rand(this.length)]];case 2:return(i=rng.$rand(this.length))===(j=rng.$rand(this.length))&&(j=0===i?i+1:i-1),[this[i],this[j]];default:if(3<this.length/count){for(abandon=!1,spin=0,i=1,(result=Opal.const_get_relative($nesting,"Array").$new(count))[0]=rng.$rand(this.length);i<count;){for(k=rng.$rand(this.length),j=0;j<i;){for(;k===result[j];){if(100<++spin){abandon=!0;break}k=rng.$rand(this.length)}if(abandon)break;j++}if(abandon)break;result[i]=k,i++}if(!abandon){for(i=0;i<count;)result[i]=this[result[i]],i++;return result}}result=this.slice();for(var c=0;c<count;c++)targetIndex=rng.$rand(this.length),oldValue=result[c],result[c]=result[targetIndex],result[targetIndex]=oldValue;return count===this.length?result:result["$[]"](0,count)}},TMP_Array_sample_87.$$arity=-1),Opal.defn(self,"$select",TMP_Array_select_88=function(){var TMP_89,$iter=TMP_Array_select_88.$$p,block=$iter||nil;if($iter&&(TMP_Array_select_88.$$p=null),block===nil)return $send(this,"enum_for",["select"],((TMP_89=function(){return(TMP_89.$$s||this).$size()}).$$s=this,TMP_89.$$arity=0,TMP_89));for(var item,value,result=[],i=0,length=this.length;i<length;i++)item=this[i],!1!==(value=Opal.yield1(block,item))&&value!==nil&&result.push(item);return result},TMP_Array_select_88.$$arity=0),Opal.defn(self,"$select!",TMP_Array_select$B_90=function(){var TMP_91,$iter=TMP_Array_select$B_90.$$p,block=$iter||nil;if($iter&&(TMP_Array_select$B_90.$$p=null),block===nil)return $send(this,"enum_for",["select!"],((TMP_91=function(){return(TMP_91.$$s||this).$size()}).$$s=this,TMP_91.$$arity=0,TMP_91));var original=this.length;return $send(this,"keep_if",[],block.$to_proc()),this.length===original?nil:this},TMP_Array_select$B_90.$$arity=0),Opal.defn(self,"$shift",TMP_Array_shift_92=function(count){return $truthy(void 0===count)?$truthy(0===this.length)?nil:this.shift():(count=Opal.const_get_relative($nesting,"Opal").$coerce_to(count,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy(count<0)&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"negative array size"),$truthy(0===this.length)?[]:this.splice(0,count))},TMP_Array_shift_92.$$arity=-1),Opal.alias(self,"size","length"),Opal.defn(self,"$shuffle",TMP_Array_shuffle_93=function(rng){return this.$dup().$to_a()["$shuffle!"](rng)},TMP_Array_shuffle_93.$$arity=-1),Opal.defn(self,"$shuffle!",TMP_Array_shuffle$B_94=function(rng){var randgen,j,tmp,i=this.length;for(void 0!==rng&&(rng=Opal.const_get_relative($nesting,"Opal")["$coerce_to?"](rng,Opal.const_get_relative($nesting,"Hash"),"to_hash"))!==nil&&(rng=rng["$[]"]("random"))!==nil&&rng["$respond_to?"]("rand")&&(randgen=rng);i;)randgen?((j=randgen.$rand(i).$to_int())<0&&this.$raise(Opal.const_get_relative($nesting,"RangeError"),"random number too small "+j),i<=j&&this.$raise(Opal.const_get_relative($nesting,"RangeError"),"random number too big "+j)):j=this.$rand(i),tmp=this[--i],this[i]=this[j],this[j]=tmp;return this},TMP_Array_shuffle$B_94.$$arity=-1),Opal.alias(self,"slice","[]"),Opal.defn(self,"$slice!",TMP_Array_slice$B_95=function(index,length){var result=nil,range=nil,range_start=nil,range_end=nil,start=nil;if(result=nil,$truthy(void 0===length))if($truthy(Opal.const_get_relative($nesting,"Range")["$==="](index))){range=index,result=this["$[]"](range),range_start=Opal.const_get_relative($nesting,"Opal").$coerce_to(range.$begin(),Opal.const_get_relative($nesting,"Integer"),"to_int"),range_end=Opal.const_get_relative($nesting,"Opal").$coerce_to(range.$end(),Opal.const_get_relative($nesting,"Integer"),"to_int"),range_start<0&&(range_start+=this.length),range_end<0?range_end+=this.length:range_end>=this.length&&(range_end=this.length-1,range.excl&&(range_end+=1));var range_length=range_end-range_start;range.excl?range_end-=1:range_length+=1,range_start<this.length&&0<=range_start&&range_end<this.length&&0<=range_end&&0<range_length&&this.splice(range_start,range_length)}else{if((start=Opal.const_get_relative($nesting,"Opal").$coerce_to(index,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0&&(start+=this.length),start<0||start>=this.length)return nil;result=this[start],0===start?this.shift():this.splice(start,1)}else{if(start=Opal.const_get_relative($nesting,"Opal").$coerce_to(index,Opal.const_get_relative($nesting,"Integer"),"to_int"),(length=Opal.const_get_relative($nesting,"Opal").$coerce_to(length,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0)return nil;result=this["$[]"](start,length),start<0&&(start+=this.length),start+length>this.length&&(length=this.length-start),start<this.length&&0<=start&&this.splice(start,length)}return result},TMP_Array_slice$B_95.$$arity=-2),Opal.defn(self,"$sort",TMP_Array_sort_96=function(){var self=this,$iter=TMP_Array_sort_96.$$p,block=$iter||nil;return $iter&&(TMP_Array_sort_96.$$p=null),$truthy(1<self.length)?(block===nil&&(block=function(a,b){return a["$<=>"](b)}),self.slice().sort(function(x,y){var lhs,rhs,ret=block(x,y);return ret===nil&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison of "+x.$inspect()+" with "+y.$inspect()+" failed"),$rb_gt(ret,0)?1:(rhs=0,("number"==typeof(lhs=ret)&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs))?-1:0)})):self},TMP_Array_sort_96.$$arity=0),Opal.defn(self,"$sort!",TMP_Array_sort$B_97=function(){var result,$iter=TMP_Array_sort$B_97.$$p,block=$iter||nil;$iter&&(TMP_Array_sort$B_97.$$p=null),result=block!==nil?$send(this.slice(),"sort",[],block.$to_proc()):this.slice().$sort();for(var i=this.length=0,length=result.length;i<length;i++)this.push(result[i]);return this},TMP_Array_sort$B_97.$$arity=0),Opal.defn(self,"$sort_by!",TMP_Array_sort_by$B_98=function(){var TMP_99,$iter=TMP_Array_sort_by$B_98.$$p,block=$iter||nil;return $iter&&(TMP_Array_sort_by$B_98.$$p=null),block===nil?$send(this,"enum_for",["sort_by!"],((TMP_99=function(){return(TMP_99.$$s||this).$size()}).$$s=this,TMP_99.$$arity=0,TMP_99)):this.$replace($send(this,"sort_by",[],block.$to_proc()))},TMP_Array_sort_by$B_98.$$arity=0),Opal.defn(self,"$take",TMP_Array_take_100=function(count){return count<0&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError")),this.slice(0,count)},TMP_Array_take_100.$$arity=1),Opal.defn(self,"$take_while",TMP_Array_take_while_101=function(){var $iter=TMP_Array_take_while_101.$$p,block=$iter||nil;$iter&&(TMP_Array_take_while_101.$$p=null);for(var item,value,result=[],i=0,length=this.length;i<length;i++){if(!1===(value=block(item=this[i]))||value===nil)return result;result.push(item)}return result},TMP_Array_take_while_101.$$arity=0),Opal.defn(self,"$to_a",TMP_Array_to_a_102=function(){return this},TMP_Array_to_a_102.$$arity=0),Opal.alias(self,"to_ary","to_a"),Opal.defn(self,"$to_h",TMP_Array_to_h_103=function(){var i,ary,key,val,len=this.length,hash=$hash2([],{});for(i=0;i<len;i++)(ary=Opal.const_get_relative($nesting,"Opal")["$coerce_to?"](this[i],Opal.const_get_relative($nesting,"Array"),"to_ary")).$$is_array||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"wrong element type "+ary.$class()+" at "+i+" (expected array)"),2!==ary.length&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong array length at "+i+" (expected 2, was "+ary.$length()+")"),key=ary[0],val=ary[1],Opal.hash_put(hash,key,val);return hash},TMP_Array_to_h_103.$$arity=0),Opal.alias(self,"to_s","inspect"),Opal.defn(self,"$transpose",TMP_Array_transpose_106=function(){var TMP_104,result=nil,max=nil;return $truthy(this["$empty?"]())?[]:(result=[],max=nil,$send(this,"each",[],((TMP_104=function(row){var $a,TMP_105,self=TMP_104.$$s||this;return null==row&&(row=nil),row=$truthy(Opal.const_get_relative($nesting,"Array")["$==="](row))?row.$to_a():Opal.const_get_relative($nesting,"Opal").$coerce_to(row,Opal.const_get_relative($nesting,"Array"),"to_ary").$to_a(),max=$truthy($a=max)?$a:row.length,$truthy(row.length["$!="](max))&&self.$raise(Opal.const_get_relative($nesting,"IndexError"),"element size differs ("+row.length+" should be "+max+")"),$send(row.length,"times",[],((TMP_105=function(i){TMP_105.$$s;var $b,lhs,rhs,$writer=nil;return null==i&&(i=nil),($truthy($b=result["$[]"](i))?$b:($writer=[i,[]],$send(result,"[]=",Opal.to_a($writer)),$writer[(lhs=$writer.length,rhs=1,"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs))]))["$<<"](row.$at(i))}).$$s=self,TMP_105.$$arity=1,TMP_105))}).$$s=this,TMP_104.$$arity=1,TMP_104)),result)},TMP_Array_transpose_106.$$arity=0),Opal.defn(self,"$uniq",TMP_Array_uniq_107=function(){var $iter=TMP_Array_uniq_107.$$p,block=$iter||nil;$iter&&(TMP_Array_uniq_107.$$p=null);var i,length,item,key,hash=$hash2([],{});if(block===nil)for(i=0,length=this.length;i<length;i++)item=this[i],void 0===Opal.hash_get(hash,item)&&Opal.hash_put(hash,item,item);else for(i=0,length=this.length;i<length;i++)item=this[i],key=Opal.yield1(block,item),void 0===Opal.hash_get(hash,key)&&Opal.hash_put(hash,key,item);return toArraySubclass(hash.$values(),this.$class())},TMP_Array_uniq_107.$$arity=0),Opal.defn(self,"$uniq!",TMP_Array_uniq$B_108=function(){var $iter=TMP_Array_uniq$B_108.$$p,block=$iter||nil;$iter&&(TMP_Array_uniq$B_108.$$p=null);var i,length,item,key,original_length=this.length,hash=$hash2([],{});for(i=0,length=original_length;i<length;i++)item=this[i],key=block===nil?item:Opal.yield1(block,item),void 0!==Opal.hash_get(hash,key)?(this.splice(i,1),length--,i--):Opal.hash_put(hash,key,item);return this.length===original_length?nil:this},TMP_Array_uniq$B_108.$$arity=0),Opal.defn(self,"$unshift",TMP_Array_unshift_109=function($a_rest){var objects,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),objects=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)objects[$arg_idx-0]=arguments[$arg_idx];for(var i=objects.length-1;0<=i;i--)this.unshift(objects[i]);return this},TMP_Array_unshift_109.$$arity=-1),Opal.defn(self,"$values_at",TMP_Array_values_at_112=function($a_rest){var TMP_110,args,out=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return out=[],$send(args,"each",[],((TMP_110=function(elem){var TMP_111,self=TMP_110.$$s||this,finish=nil,start=nil,i=nil;return null==elem&&(elem=nil),$truthy(elem["$kind_of?"](Opal.const_get_relative($nesting,"Range")))?(finish=Opal.const_get_relative($nesting,"Opal").$coerce_to(elem.$last(),Opal.const_get_relative($nesting,"Integer"),"to_int"),(start=Opal.const_get_relative($nesting,"Opal").$coerce_to(elem.$first(),Opal.const_get_relative($nesting,"Integer"),"to_int"))<0?(start+=self.length,nil):(finish<0&&(finish+=self.length),elem["$exclude_end?"]()&&finish--,finish<start?nil:$send(start,"upto",[finish],((TMP_111=function(i){var self=TMP_111.$$s||this;return null==i&&(i=nil),out["$<<"](self.$at(i))}).$$s=self,TMP_111.$$arity=1,TMP_111)))):(i=Opal.const_get_relative($nesting,"Opal").$coerce_to(elem,Opal.const_get_relative($nesting,"Integer"),"to_int"),out["$<<"](self.$at(i)))}).$$s=this,TMP_110.$$arity=1,TMP_110)),out},TMP_Array_values_at_112.$$arity=-1),Opal.defn(self,"$zip",TMP_Array_zip_113=function($a_rest){var $b,others,$iter=TMP_Array_zip_113.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),others=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)others[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Array_zip_113.$$p=null);var part,o,i,j,jj,result=[],size=this.length;for(j=0,jj=others.length;j<jj;j++)(o=others[j]).$$is_array||(o.$$is_enumerator?o.$size()===1/0?others[j]=o.$take(size):others[j]=o.$to_a():others[j]=($truthy($b=Opal.const_get_relative($nesting,"Opal")["$coerce_to?"](o,Opal.const_get_relative($nesting,"Array"),"to_ary"))?$b:Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](o,Opal.const_get_relative($nesting,"Enumerator"),"each")).$to_a());for(i=0;i<size;i++){for(part=[this[i]],j=0,jj=others.length;j<jj;j++)null==(o=others[j][i])&&(o=nil),part[j+1]=o;result[i]=part}if(block===nil)return result;for(i=0;i<size;i++)block(result[i]);return nil},TMP_Array_zip_113.$$arity=-1),Opal.defs(self,"$inherited",TMP_Array_inherited_114=function(klass){klass.$$proto.$to_a=function(){return this.slice(0,this.length)}},TMP_Array_inherited_114.$$arity=1),Opal.defn(self,"$instance_variables",TMP_Array_instance_variables_115=function(){var TMP_116,$zuper_ii,$iter=TMP_Array_instance_variables_115.$$p,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_Array_instance_variables_115.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $send($send(this,Opal.find_super_dispatcher(this,"instance_variables",TMP_Array_instance_variables_115,!1),$zuper,$iter),"reject",[],((TMP_116=function(ivar){var $a;TMP_116.$$s;return null==ivar&&(ivar=nil),$truthy($a=/^@\d+$/.test(ivar))?$a:ivar["$=="]("@length")}).$$s=this,TMP_116.$$arity=1,TMP_116))},TMP_Array_instance_variables_115.$$arity=0),Opal.const_get_relative($nesting,"Opal").$pristine(self,"allocate","copy_instance_variables","initialize_dup")}($nesting[0],Array,$nesting)},Opal.modules["corelib/hash"]=function(Opal){function $rb_ge(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<=lhs:lhs["$>="](rhs)}function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$send=Opal.send,$hash2=Opal.hash2,$truthy=Opal.truthy;return Opal.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$compare_by_identity","$lambda?","$abs","$arity","$call","$enum_for","$size","$respond_to?","$class","$dig","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$alias_method","$proc"]),self.$require("corelib/enumerable"),function($base,$super,$parent_nesting){function $Hash(){}var TMP_Hash_$$_1,TMP_Hash_allocate_2,TMP_Hash_try_convert_3,TMP_Hash_initialize_4,TMP_Hash_$eq$eq_5,TMP_Hash_$gt$eq_7,TMP_Hash_$gt_8,TMP_Hash_$lt_9,TMP_Hash_$lt$eq_10,TMP_Hash_$$_11,TMP_Hash_$$$eq_12,TMP_Hash_assoc_13,TMP_Hash_clear_14,TMP_Hash_clone_15,TMP_Hash_compact_16,TMP_Hash_compact$B_17,TMP_Hash_compare_by_identity_18,TMP_Hash_compare_by_identity$q_19,TMP_Hash_default_20,TMP_Hash_default$eq_21,TMP_Hash_default_proc_22,TMP_Hash_default_proc$eq_23,TMP_Hash_delete_24,TMP_Hash_delete_if_25,TMP_Hash_dig_27,TMP_Hash_each_28,TMP_Hash_each_key_30,TMP_Hash_each_value_32,TMP_Hash_empty$q_34,TMP_Hash_fetch_35,TMP_Hash_fetch_values_36,TMP_Hash_flatten_38,TMP_Hash_has_key$q_39,TMP_Hash_has_value$q_40,TMP_Hash_hash_41,TMP_Hash_index_42,TMP_Hash_indexes_43,TMP_Hash_inspect_44,TMP_Hash_invert_45,TMP_Hash_keep_if_46,TMP_Hash_keys_48,TMP_Hash_length_49,TMP_Hash_merge_50,TMP_Hash_merge$B_51,TMP_Hash_rassoc_52,TMP_Hash_rehash_53,TMP_Hash_reject_54,TMP_Hash_reject$B_56,TMP_Hash_replace_58,TMP_Hash_select_59,TMP_Hash_select$B_61,TMP_Hash_shift_63,TMP_Hash_to_a_64,TMP_Hash_to_h_65,TMP_Hash_to_hash_66,TMP_Hash_to_proc_68,TMP_Hash_transform_values_69,TMP_Hash_transform_values$B_71,TMP_Hash_values_73,inspect_ids,self=$Hash=$klass($base,null,"Hash",$Hash),def=self.$$proto,$nesting=[self].concat($parent_nesting);return self.$include(Opal.const_get_relative($nesting,"Enumerable")),def.$$is_hash=!0,Opal.defs(self,"$[]",TMP_Hash_$$_1=function($a_rest){var argv,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),argv=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)argv[$arg_idx-0]=arguments[$arg_idx];var hash,i,argc=argv.length;if(1===argc){if((hash=Opal.const_get_relative($nesting,"Opal")["$coerce_to?"](argv["$[]"](0),Opal.const_get_relative($nesting,"Hash"),"to_hash"))!==nil)return this.$allocate()["$merge!"](hash);for((argv=Opal.const_get_relative($nesting,"Opal")["$coerce_to?"](argv["$[]"](0),Opal.const_get_relative($nesting,"Array"),"to_ary"))===nil&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"odd number of arguments for Hash"),argc=argv.length,hash=this.$allocate(),i=0;i<argc;i++)if(argv[i].$$is_array)switch(argv[i].length){case 1:hash.$store(argv[i][0],nil);break;case 2:hash.$store(argv[i][0],argv[i][1]);break;default:this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"invalid number of elements ("+argv[i].length+" for 1..2)")}return hash}for(argc%2!=0&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"odd number of arguments for Hash"),hash=this.$allocate(),i=0;i<argc;i+=2)hash.$store(argv[i],argv[i+1]);return hash},TMP_Hash_$$_1.$$arity=-1),Opal.defs(self,"$allocate",TMP_Hash_allocate_2=function(){var hash=new this.$$alloc;return Opal.hash_init(hash),hash.$$none=nil,hash.$$proc=nil,hash},TMP_Hash_allocate_2.$$arity=0),Opal.defs(self,"$try_convert",TMP_Hash_try_convert_3=function(obj){return Opal.const_get_relative($nesting,"Opal")["$coerce_to?"](obj,Opal.const_get_relative($nesting,"Hash"),"to_hash")},TMP_Hash_try_convert_3.$$arity=1),Opal.defn(self,"$initialize",TMP_Hash_initialize_4=function(defaults){var $iter=TMP_Hash_initialize_4.$$p,block=$iter||nil;return $iter&&(TMP_Hash_initialize_4.$$p=null),void 0!==defaults&&block!==nil&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments (1 for 0)"),this.$$none=void 0===defaults?nil:defaults,this.$$proc=block,this},TMP_Hash_initialize_4.$$arity=-1),Opal.defn(self,"$==",TMP_Hash_$eq$eq_5=function(other){if(this===other)return!0;if(!other.$$is_hash)return!1;if(this.$$keys.length!==other.$$keys.length)return!1;for(var key,value,other_value,i=0,keys=this.$$keys,length=keys.length;i<length;i++)if(void 0===(other_value=(key=keys[i]).$$is_string?(value=this.$$smap[key],other.$$smap[key]):(value=key.value,Opal.hash_get(other,key.key)))||!value["$eql?"](other_value))return!1;return!0},TMP_Hash_$eq$eq_5.$$arity=1),Opal.defn(self,"$>=",TMP_Hash_$gt$eq_7=function(other){var TMP_6,result=nil;return other=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](other,Opal.const_get_relative($nesting,"Hash"),"to_hash"),!(this.$$keys.length<other.$$keys.length)&&(result=!0,$send(other,"each",[],((TMP_6=function(other_key,other_val){var val,self=TMP_6.$$s||this;null==other_key&&(other_key=nil),null==other_val&&(other_val=nil),null!=(val=self.$fetch(other_key,null))&&val===other_val||(result=!1)}).$$s=this,TMP_6.$$arity=2,TMP_6)),result)},TMP_Hash_$gt$eq_7.$$arity=1),Opal.defn(self,"$>",TMP_Hash_$gt_8=function(other){return other=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](other,Opal.const_get_relative($nesting,"Hash"),"to_hash"),!(this.$$keys.length<=other.$$keys.length)&&$rb_ge(this,other)},TMP_Hash_$gt_8.$$arity=1),Opal.defn(self,"$<",TMP_Hash_$lt_9=function(other){var lhs,rhs;return other=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](other,Opal.const_get_relative($nesting,"Hash"),"to_hash"),rhs=this,"number"==typeof(lhs=other)&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)},TMP_Hash_$lt_9.$$arity=1),Opal.defn(self,"$<=",TMP_Hash_$lt$eq_10=function(other){return $rb_ge(other=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](other,Opal.const_get_relative($nesting,"Hash"),"to_hash"),this)},TMP_Hash_$lt$eq_10.$$arity=1),Opal.defn(self,"$[]",TMP_Hash_$$_11=function(key){var value=Opal.hash_get(this,key);return void 0!==value?value:this.$default(key)},TMP_Hash_$$_11.$$arity=1),Opal.defn(self,"$[]=",TMP_Hash_$$$eq_12=function(key,value){return Opal.hash_put(this,key,value),value},TMP_Hash_$$$eq_12.$$arity=2),Opal.defn(self,"$assoc",TMP_Hash_assoc_13=function(object){for(var key,i=0,keys=this.$$keys,length=keys.length;i<length;i++)if((key=keys[i]).$$is_string){if(key["$=="](object))return[key,this.$$smap[key]]}else if(key.key["$=="](object))return[key.key,key.value];return nil},TMP_Hash_assoc_13.$$arity=1),Opal.defn(self,"$clear",TMP_Hash_clear_14=function(){return Opal.hash_init(this),this},TMP_Hash_clear_14.$$arity=0),Opal.defn(self,"$clone",TMP_Hash_clone_15=function(){var hash=new this.$$class.$$alloc;return Opal.hash_init(hash),Opal.hash_clone(this,hash),hash},TMP_Hash_clone_15.$$arity=0),Opal.defn(self,"$compact",TMP_Hash_compact_16=function(){for(var key,value,hash=Opal.hash(),i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),value!==nil&&Opal.hash_put(hash,key,value);return hash},TMP_Hash_compact_16.$$arity=0),Opal.defn(self,"$compact!",TMP_Hash_compact$B_17=function(){for(var key,value,changes_were_made=!1,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),value===nil&&void 0!==Opal.hash_delete(this,key)&&(changes_were_made=!0,length--,i--);return changes_were_made?this:nil},TMP_Hash_compact$B_17.$$arity=0),Opal.defn(self,"$compare_by_identity",TMP_Hash_compare_by_identity_18=function(){var i,ii,key,identity_hash,keys=this.$$keys;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;for(identity_hash=$hash2([],{}).$compare_by_identity(),i=0,ii=keys.length;i<ii;i++)(key=keys[i]).$$is_string||(key=key.key),Opal.hash_put(identity_hash,key,Opal.hash_get(this,key));return this.$$by_identity=!0,this.$$map=identity_hash.$$map,this.$$smap=identity_hash.$$smap,this},TMP_Hash_compare_by_identity_18.$$arity=0),Opal.defn(self,"$compare_by_identity?",TMP_Hash_compare_by_identity$q_19=function(){return!0===this.$$by_identity},TMP_Hash_compare_by_identity$q_19.$$arity=0),Opal.defn(self,"$default",TMP_Hash_default_20=function(key){return void 0!==key&&this.$$proc!==nil&&void 0!==this.$$proc?this.$$proc.$call(this,key):void 0===this.$$none?nil:this.$$none},TMP_Hash_default_20.$$arity=-1),Opal.defn(self,"$default=",TMP_Hash_default$eq_21=function(object){return this.$$proc=nil,this.$$none=object},TMP_Hash_default$eq_21.$$arity=1),Opal.defn(self,"$default_proc",TMP_Hash_default_proc_22=function(){return void 0!==this.$$proc?this.$$proc:nil},TMP_Hash_default_proc_22.$$arity=0),Opal.defn(self,"$default_proc=",TMP_Hash_default_proc$eq_23=function(default_proc){var proc=default_proc;return proc!==nil&&(proc=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](proc,Opal.const_get_relative($nesting,"Proc"),"to_proc"))["$lambda?"]()&&2!==proc.$arity().$abs()&&this.$raise(Opal.const_get_relative($nesting,"TypeError"),"default_proc takes two arguments"),this.$$none=nil,this.$$proc=proc,default_proc},TMP_Hash_default_proc$eq_23.$$arity=1),Opal.defn(self,"$delete",TMP_Hash_delete_24=function(key){var $iter=TMP_Hash_delete_24.$$p,block=$iter||nil;$iter&&(TMP_Hash_delete_24.$$p=null);var value=Opal.hash_delete(this,key);return void 0!==value?value:block!==nil?block.$call(key):nil},TMP_Hash_delete_24.$$arity=1),Opal.defn(self,"$delete_if",TMP_Hash_delete_if_25=function(){var TMP_26,$iter=TMP_Hash_delete_if_25.$$p,block=$iter||nil;if($iter&&(TMP_Hash_delete_if_25.$$p=null),!$truthy(block))return $send(this,"enum_for",["delete_if"],((TMP_26=function(){return(TMP_26.$$s||this).$size()}).$$s=this,TMP_26.$$arity=0,TMP_26));for(var key,value,obj,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),!1!==(obj=block(key,value))&&obj!==nil&&void 0!==Opal.hash_delete(this,key)&&(length--,i--);return this},TMP_Hash_delete_if_25.$$arity=0),Opal.alias(self,"dup","clone"),Opal.defn(self,"$dig",TMP_Hash_dig_27=function(key,$a_rest){var keys,item=nil,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),keys=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)keys[$arg_idx-1]=arguments[$arg_idx];return(item=this["$[]"](key))===nil||0===keys.length?item:($truthy(item["$respond_to?"]("dig"))||this.$raise(Opal.const_get_relative($nesting,"TypeError"),item.$class()+" does not have #dig method"),$send(item,"dig",Opal.to_a(keys)))},TMP_Hash_dig_27.$$arity=-2),Opal.defn(self,"$each",TMP_Hash_each_28=function(){var TMP_29,$iter=TMP_Hash_each_28.$$p,block=$iter||nil;if($iter&&(TMP_Hash_each_28.$$p=null),!$truthy(block))return $send(this,"enum_for",["each"],((TMP_29=function(){return(TMP_29.$$s||this).$size()}).$$s=this,TMP_29.$$arity=0,TMP_29));for(var key,value,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),Opal.yield1(block,[key,value]);return this},TMP_Hash_each_28.$$arity=0),Opal.defn(self,"$each_key",TMP_Hash_each_key_30=function(){var TMP_31,$iter=TMP_Hash_each_key_30.$$p,block=$iter||nil;if($iter&&(TMP_Hash_each_key_30.$$p=null),!$truthy(block))return $send(this,"enum_for",["each_key"],((TMP_31=function(){return(TMP_31.$$s||this).$size()}).$$s=this,TMP_31.$$arity=0,TMP_31));for(var key,i=0,keys=this.$$keys,length=keys.length;i<length;i++)block((key=keys[i]).$$is_string?key:key.key);return this},TMP_Hash_each_key_30.$$arity=0),Opal.alias(self,"each_pair","each"),Opal.defn(self,"$each_value",TMP_Hash_each_value_32=function(){var TMP_33,$iter=TMP_Hash_each_value_32.$$p,block=$iter||nil;if($iter&&(TMP_Hash_each_value_32.$$p=null),!$truthy(block))return $send(this,"enum_for",["each_value"],((TMP_33=function(){return(TMP_33.$$s||this).$size()}).$$s=this,TMP_33.$$arity=0,TMP_33));for(var key,i=0,keys=this.$$keys,length=keys.length;i<length;i++)block((key=keys[i]).$$is_string?this.$$smap[key]:key.value);return this},TMP_Hash_each_value_32.$$arity=0),Opal.defn(self,"$empty?",TMP_Hash_empty$q_34=function(){return 0===this.$$keys.length},TMP_Hash_empty$q_34.$$arity=0),Opal.alias(self,"eql?","=="),Opal.defn(self,"$fetch",TMP_Hash_fetch_35=function(key,defaults){var $iter=TMP_Hash_fetch_35.$$p,block=$iter||nil;$iter&&(TMP_Hash_fetch_35.$$p=null);var value=Opal.hash_get(this,key);return void 0!==value?value:block!==nil?block(key):void 0!==defaults?defaults:this.$raise(Opal.const_get_relative($nesting,"KeyError"),"key not found: "+key.$inspect())},TMP_Hash_fetch_35.$$arity=-2),Opal.defn(self,"$fetch_values",TMP_Hash_fetch_values_36=function($a_rest){var TMP_37,keys,$iter=TMP_Hash_fetch_values_36.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),keys=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)keys[$arg_idx-0]=arguments[$arg_idx];return $iter&&(TMP_Hash_fetch_values_36.$$p=null),$send(keys,"map",[],((TMP_37=function(key){var self=TMP_37.$$s||this;return null==key&&(key=nil),$send(self,"fetch",[key],block.$to_proc())}).$$s=this,TMP_37.$$arity=1,TMP_37))},TMP_Hash_fetch_values_36.$$arity=-1),Opal.defn(self,"$flatten",TMP_Hash_flatten_38=function(level){null==level&&(level=1),level=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](level,Opal.const_get_relative($nesting,"Integer"),"to_int");for(var key,value,result=[],i=0,keys=this.$$keys,length=keys.length;i<length;i++)if((key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),result.push(key),value.$$is_array){if(1===level){result.push(value);continue}result=result.concat(value.$flatten(level-2))}else result.push(value);return result},TMP_Hash_flatten_38.$$arity=-1),Opal.defn(self,"$has_key?",TMP_Hash_has_key$q_39=function(key){return void 0!==Opal.hash_get(this,key)},TMP_Hash_has_key$q_39.$$arity=1),Opal.defn(self,"$has_value?",TMP_Hash_has_value$q_40=function(value){for(var key,i=0,keys=this.$$keys,length=keys.length;i<length;i++)if(((key=keys[i]).$$is_string?this.$$smap[key]:key.value)["$=="](value))return!0;return!1},TMP_Hash_has_value$q_40.$$arity=1),Opal.defn(self,"$hash",TMP_Hash_hash_41=function(){var key,item,top=void 0===Opal.hash_ids,hash_id=this.$object_id(),result=["Hash"];try{if(top&&(Opal.hash_ids=Object.create(null)),Opal[hash_id])return"self";for(key in Opal.hash_ids)if(item=Opal.hash_ids[key],this["$eql?"](item))return"self";Opal.hash_ids[hash_id]=this;for(var i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?result.push([key,this.$$smap[key].$hash()]):result.push([key.key_hash,key.value.$hash()]);return result.sort().join()}finally{top&&(Opal.hash_ids=void 0)}},TMP_Hash_hash_41.$$arity=0),Opal.alias(self,"include?","has_key?"),Opal.defn(self,"$index",TMP_Hash_index_42=function(object){for(var key,value,i=0,keys=this.$$keys,length=keys.length;i<length;i++)if((key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),value["$=="](object))return key;return nil},TMP_Hash_index_42.$$arity=1),Opal.defn(self,"$indexes",TMP_Hash_indexes_43=function($a_rest){var args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];for(var key,value,result=[],i=0,length=args.length;i<length;i++)key=args[i],void 0!==(value=Opal.hash_get(this,key))?result.push(value):result.push(this.$default());return result},TMP_Hash_indexes_43.$$arity=-1),Opal.alias(self,"indices","indexes"),Opal.defn(self,"$inspect",TMP_Hash_inspect_44=function(){var top=void 0===inspect_ids,hash_id=this.$object_id(),result=[];try{if(top&&(inspect_ids={}),inspect_ids.hasOwnProperty(hash_id))return"{...}";inspect_ids[hash_id]=!0;for(var key,value,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),result.push(key.$inspect()+"=>"+value.$inspect());return"{"+result.join(", ")+"}"}finally{top&&(inspect_ids=void 0)}},TMP_Hash_inspect_44.$$arity=0),Opal.defn(self,"$invert",TMP_Hash_invert_45=function(){for(var key,value,hash=Opal.hash(),i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),Opal.hash_put(hash,value,key);return hash},TMP_Hash_invert_45.$$arity=0),Opal.defn(self,"$keep_if",TMP_Hash_keep_if_46=function(){var TMP_47,$iter=TMP_Hash_keep_if_46.$$p,block=$iter||nil;if($iter&&(TMP_Hash_keep_if_46.$$p=null),!$truthy(block))return $send(this,"enum_for",["keep_if"],((TMP_47=function(){return(TMP_47.$$s||this).$size()}).$$s=this,TMP_47.$$arity=0,TMP_47));for(var key,value,obj,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),!1!==(obj=block(key,value))&&obj!==nil||void 0!==Opal.hash_delete(this,key)&&(length--,i--);return this},TMP_Hash_keep_if_46.$$arity=0),Opal.alias(self,"key","index"),Opal.alias(self,"key?","has_key?"),Opal.defn(self,"$keys",TMP_Hash_keys_48=function(){for(var key,result=[],i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?result.push(key):result.push(key.key);return result},TMP_Hash_keys_48.$$arity=0),Opal.defn(self,"$length",TMP_Hash_length_49=function(){return this.$$keys.length},TMP_Hash_length_49.$$arity=0),Opal.alias(self,"member?","has_key?"),Opal.defn(self,"$merge",TMP_Hash_merge_50=function(other){var $iter=TMP_Hash_merge_50.$$p,block=$iter||nil;return $iter&&(TMP_Hash_merge_50.$$p=null),$send(this.$dup(),"merge!",[other],block.$to_proc())},TMP_Hash_merge_50.$$arity=1),Opal.defn(self,"$merge!",TMP_Hash_merge$B_51=function(other){var $iter=TMP_Hash_merge$B_51.$$p,block=$iter||nil;$iter&&(TMP_Hash_merge$B_51.$$p=null),other.$$is_hash||(other=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](other,Opal.const_get_relative($nesting,"Hash"),"to_hash"));var i,key,value,other_value,other_keys=other.$$keys,length=other_keys.length;if(block===nil){for(i=0;i<length;i++)(key=other_keys[i]).$$is_string?other_value=other.$$smap[key]:(other_value=key.value,key=key.key),Opal.hash_put(this,key,other_value);return this}for(i=0;i<length;i++)(key=other_keys[i]).$$is_string?other_value=other.$$smap[key]:(other_value=key.value,key=key.key),void 0!==(value=Opal.hash_get(this,key))?Opal.hash_put(this,key,block(key,value,other_value)):Opal.hash_put(this,key,other_value);return this},TMP_Hash_merge$B_51.$$arity=1),Opal.defn(self,"$rassoc",TMP_Hash_rassoc_52=function(object){for(var key,value,i=0,keys=this.$$keys,length=keys.length;i<length;i++)if((key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),value["$=="](object))return[key,value];return nil},TMP_Hash_rassoc_52.$$arity=1),Opal.defn(self,"$rehash",TMP_Hash_rehash_53=function(){return Opal.hash_rehash(this),this},TMP_Hash_rehash_53.$$arity=0),Opal.defn(self,"$reject",TMP_Hash_reject_54=function(){var TMP_55,$iter=TMP_Hash_reject_54.$$p,block=$iter||nil;if($iter&&(TMP_Hash_reject_54.$$p=null),!$truthy(block))return $send(this,"enum_for",["reject"],((TMP_55=function(){return(TMP_55.$$s||this).$size()}).$$s=this,TMP_55.$$arity=0,TMP_55));for(var key,value,obj,hash=Opal.hash(),i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),!1!==(obj=block(key,value))&&obj!==nil||Opal.hash_put(hash,key,value);return hash},TMP_Hash_reject_54.$$arity=0),Opal.defn(self,"$reject!",TMP_Hash_reject$B_56=function(){var TMP_57,$iter=TMP_Hash_reject$B_56.$$p,block=$iter||nil;if($iter&&(TMP_Hash_reject$B_56.$$p=null),!$truthy(block))return $send(this,"enum_for",["reject!"],((TMP_57=function(){return(TMP_57.$$s||this).$size()}).$$s=this,TMP_57.$$arity=0,TMP_57));for(var key,value,obj,changes_were_made=!1,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),!1!==(obj=block(key,value))&&obj!==nil&&void 0!==Opal.hash_delete(this,key)&&(changes_were_made=!0,length--,i--);return changes_were_made?this:nil},TMP_Hash_reject$B_56.$$arity=0),Opal.defn(self,"$replace",TMP_Hash_replace_58=function(other){var $writer=nil;other=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](other,Opal.const_get_relative($nesting,"Hash"),"to_hash"),Opal.hash_init(this);for(var key,other_value,i=0,other_keys=other.$$keys,length=other_keys.length;i<length;i++)(key=other_keys[i]).$$is_string?other_value=other.$$smap[key]:(other_value=key.value,key=key.key),Opal.hash_put(this,key,other_value);return $truthy(other.$default_proc())?($writer=[other.$default_proc()],$send(this,"default_proc=",Opal.to_a($writer))):($writer=[other.$default()],$send(this,"default=",Opal.to_a($writer))),$writer[$rb_minus($writer.length,1)],this},TMP_Hash_replace_58.$$arity=1),Opal.defn(self,"$select",TMP_Hash_select_59=function(){var TMP_60,$iter=TMP_Hash_select_59.$$p,block=$iter||nil;if($iter&&(TMP_Hash_select_59.$$p=null),!$truthy(block))return $send(this,"enum_for",["select"],((TMP_60=function(){return(TMP_60.$$s||this).$size()}).$$s=this,TMP_60.$$arity=0,TMP_60));for(var key,value,obj,hash=Opal.hash(),i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),!1!==(obj=block(key,value))&&obj!==nil&&Opal.hash_put(hash,key,value);return hash},TMP_Hash_select_59.$$arity=0),Opal.defn(self,"$select!",TMP_Hash_select$B_61=function(){var TMP_62,$iter=TMP_Hash_select$B_61.$$p,block=$iter||nil;if($iter&&(TMP_Hash_select$B_61.$$p=null),!$truthy(block))return $send(this,"enum_for",["select!"],((TMP_62=function(){return(TMP_62.$$s||this).$size()}).$$s=this,TMP_62.$$arity=0,TMP_62));for(var key,value,obj,result=nil,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),!1!==(obj=block(key,value))&&obj!==nil||(void 0!==Opal.hash_delete(this,key)&&(length--,i--),result=this);return result},TMP_Hash_select$B_61.$$arity=0),Opal.defn(self,"$shift",TMP_Hash_shift_63=function(){var key,keys=this.$$keys;return 0<keys.length?[key=(key=keys[0]).$$is_string?key:key.key,Opal.hash_delete(this,key)]:this.$default(nil)},TMP_Hash_shift_63.$$arity=0),Opal.alias(self,"size","length"),self.$alias_method("store","[]="),Opal.defn(self,"$to_a",TMP_Hash_to_a_64=function(){for(var key,value,result=[],i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),result.push([key,value]);return result},TMP_Hash_to_a_64.$$arity=0),Opal.defn(self,"$to_h",TMP_Hash_to_h_65=function(){if(this.$$class===Opal.Hash)return this;var hash=new Opal.Hash.$$alloc;return Opal.hash_init(hash),Opal.hash_clone(this,hash),hash},TMP_Hash_to_h_65.$$arity=0),Opal.defn(self,"$to_hash",TMP_Hash_to_hash_66=function(){return this},TMP_Hash_to_hash_66.$$arity=0),Opal.defn(self,"$to_proc",TMP_Hash_to_proc_68=function(){var TMP_67;return $send(this,"proc",[],((TMP_67=function(key){var self=TMP_67.$$s||this;return null==key&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"no key given"),self["$[]"](key)}).$$s=this,TMP_67.$$arity=-1,TMP_67))},TMP_Hash_to_proc_68.$$arity=0),Opal.alias(self,"to_s","inspect"),Opal.defn(self,"$transform_values",TMP_Hash_transform_values_69=function(){var TMP_70,$iter=TMP_Hash_transform_values_69.$$p,block=$iter||nil;if($iter&&(TMP_Hash_transform_values_69.$$p=null),!$truthy(block))return $send(this,"enum_for",["transform_values"],((TMP_70=function(){return(TMP_70.$$s||this).$size()}).$$s=this,TMP_70.$$arity=0,TMP_70));for(var key,value,result=Opal.hash(),i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),value=Opal.yield1(block,value),Opal.hash_put(result,key,value);return result},TMP_Hash_transform_values_69.$$arity=0),Opal.defn(self,"$transform_values!",TMP_Hash_transform_values$B_71=function(){var TMP_72,$iter=TMP_Hash_transform_values$B_71.$$p,block=$iter||nil;if($iter&&(TMP_Hash_transform_values$B_71.$$p=null),!$truthy(block))return $send(this,"enum_for",["transform_values!"],((TMP_72=function(){return(TMP_72.$$s||this).$size()}).$$s=this,TMP_72.$$arity=0,TMP_72));for(var key,value,i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?value=this.$$smap[key]:(value=key.value,key=key.key),value=Opal.yield1(block,value),Opal.hash_put(this,key,value);return this},TMP_Hash_transform_values$B_71.$$arity=0),Opal.alias(self,"update","merge!"),Opal.alias(self,"value?","has_value?"),Opal.alias(self,"values_at","indexes"),Opal.defn(self,"$values",TMP_Hash_values_73=function(){for(var key,result=[],i=0,keys=this.$$keys,length=keys.length;i<length;i++)(key=keys[i]).$$is_string?result.push(this.$$smap[key]):result.push(key.value);return result},TMP_Hash_values_73.$$arity=0),nil&&"values"}($nesting[0],0,$nesting)},Opal.modules["corelib/number"]=function(Opal){function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}function $rb_divide(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)}function $rb_times(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs*rhs:lhs["$*"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$truthy=Opal.truthy,$send=Opal.send,$hash2=Opal.hash2;return Opal.add_stubs(["$require","$bridge","$raise","$name","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$-@","$size","$<=","$>=","$<=>","$compare","$empty?"]),self.$require("corelib/numeric"),function($base,$super,$parent_nesting){function $Number(){}var TMP_Number_coerce_2,TMP_Number___id___3,TMP_Number_$_4,TMP_Number_$_5,TMP_Number_$_6,TMP_Number_$_7,TMP_Number_$_8,TMP_Number_$_9,TMP_Number_$_10,TMP_Number_$_11,TMP_Number_$lt_12,TMP_Number_$lt$eq_13,TMP_Number_$gt_14,TMP_Number_$gt$eq_15,TMP_Number_$lt$eq$gt_16,TMP_Number_$lt$lt_17,TMP_Number_$gt$gt_18,TMP_Number_$$_19,TMP_Number_$$_20,TMP_Number_$$_21,TMP_Number_$_22,TMP_Number_$$_23,TMP_Number_$eq$eq$eq_24,TMP_Number_$eq$eq_25,TMP_Number_abs_26,TMP_Number_abs2_27,TMP_Number_angle_28,TMP_Number_bit_length_29,TMP_Number_ceil_30,TMP_Number_chr_31,TMP_Number_denominator_32,TMP_Number_downto_33,TMP_Number_equal$q_35,TMP_Number_even$q_36,TMP_Number_floor_37,TMP_Number_gcd_38,TMP_Number_gcdlcm_39,TMP_Number_integer$q_40,TMP_Number_is_a$q_41,TMP_Number_instance_of$q_42,TMP_Number_lcm_43,TMP_Number_next_44,TMP_Number_nonzero$q_45,TMP_Number_numerator_46,TMP_Number_odd$q_47,TMP_Number_ord_48,TMP_Number_pred_49,TMP_Number_quo_50,TMP_Number_rationalize_51,TMP_Number_round_52,TMP_Number_step_53,TMP_Number_times_55,TMP_Number_to_f_57,TMP_Number_to_i_58,TMP_Number_to_r_59,TMP_Number_to_s_60,TMP_Number_divmod_61,TMP_Number_upto_62,TMP_Number_zero$q_64,TMP_Number_size_65,TMP_Number_nan$q_66,TMP_Number_finite$q_67,TMP_Number_infinite$q_68,TMP_Number_positive$q_69,TMP_Number_negative$q_70,self=$Number=$klass($base,$super,"Number",$Number),$nesting=(self.$$proto,[self].concat($parent_nesting));Opal.const_get_relative($nesting,"Opal").$bridge(self,Number),Number.prototype.$$is_number=!0,self.$$is_number_class=!0,function(self,$parent_nesting){self.$$proto;var TMP_allocate_1,$nesting=[self].concat($parent_nesting);Opal.defn(self,"$allocate",TMP_allocate_1=function(){return this.$raise(Opal.const_get_relative($nesting,"TypeError"),"allocator undefined for "+this.$name())},TMP_allocate_1.$$arity=0),Opal.udef(self,"$new")}(Opal.get_singleton_class(self),$nesting),Opal.defn(self,"$coerce",TMP_Number_coerce_2=function(other){if(other===nil)this.$raise(Opal.const_get_relative($nesting,"TypeError"),"can't convert "+other.$class()+" into Float");else{if(other.$$is_string)return[this.$Float(other),this];if(other["$respond_to?"]("to_f"))return[Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](other,Opal.const_get_relative($nesting,"Float"),"to_f"),this];if(other.$$is_number)return[other,this];this.$raise(Opal.const_get_relative($nesting,"TypeError"),"can't convert "+other.$class()+" into Float")}},TMP_Number_coerce_2.$$arity=1),Opal.defn(self,"$__id__",TMP_Number___id___3=function(){return 2*this+1},TMP_Number___id___3.$$arity=0),Opal.alias(self,"object_id","__id__"),Opal.defn(self,"$+",TMP_Number_$_4=function(other){return other.$$is_number?this+other:this.$__coerced__("+",other)},TMP_Number_$_4.$$arity=1),Opal.defn(self,"$-",TMP_Number_$_5=function(other){return other.$$is_number?this-other:this.$__coerced__("-",other)},TMP_Number_$_5.$$arity=1),Opal.defn(self,"$*",TMP_Number_$_6=function(other){return other.$$is_number?this*other:this.$__coerced__("*",other)},TMP_Number_$_6.$$arity=1),Opal.defn(self,"$/",TMP_Number_$_7=function(other){return other.$$is_number?this/other:this.$__coerced__("/",other)},TMP_Number_$_7.$$arity=1),Opal.alias(self,"fdiv","/"),Opal.defn(self,"$%",TMP_Number_$_8=function(other){return other.$$is_number?other==-1/0?other:0!=other?other<0||this<0?(this%other+other)%other:this%other:void this.$raise(Opal.const_get_relative($nesting,"ZeroDivisionError"),"divided by 0"):this.$__coerced__("%",other)},TMP_Number_$_8.$$arity=1),Opal.defn(self,"$&",TMP_Number_$_9=function(other){return other.$$is_number?this&other:this.$__coerced__("&",other)},TMP_Number_$_9.$$arity=1),Opal.defn(self,"$|",TMP_Number_$_10=function(other){return other.$$is_number?this|other:this.$__coerced__("|",other)},TMP_Number_$_10.$$arity=1),Opal.defn(self,"$^",TMP_Number_$_11=function(other){return other.$$is_number?this^other:this.$__coerced__("^",other)},TMP_Number_$_11.$$arity=1),Opal.defn(self,"$<",TMP_Number_$lt_12=function(other){return other.$$is_number?this<other:this.$__coerced__("<",other)},TMP_Number_$lt_12.$$arity=1),Opal.defn(self,"$<=",TMP_Number_$lt$eq_13=function(other){return other.$$is_number?this<=other:this.$__coerced__("<=",other)},TMP_Number_$lt$eq_13.$$arity=1),Opal.defn(self,"$>",TMP_Number_$gt_14=function(other){return other.$$is_number?other<this:this.$__coerced__(">",other)},TMP_Number_$gt_14.$$arity=1),Opal.defn(self,"$>=",TMP_Number_$gt$eq_15=function(other){return other.$$is_number?other<=this:this.$__coerced__(">=",other)},TMP_Number_$gt$eq_15.$$arity=1);Opal.defn(self,"$<=>",TMP_Number_$lt$eq$gt_16=function(other){try{return function(self,other){return other.$$is_number?isNaN(self)||isNaN(other)?nil:other<self?1:self<other?-1:0:self.$__coerced__("<=>",other)}(this,other)}catch($err){if(!Opal.rescue($err,[Opal.const_get_relative($nesting,"ArgumentError")]))throw $err;try{return nil}finally{Opal.pop_exception()}}},TMP_Number_$lt$eq$gt_16.$$arity=1),Opal.defn(self,"$<<",TMP_Number_$lt$lt_17=function(count){return 0<(count=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](count,Opal.const_get_relative($nesting,"Integer"),"to_int"))?this<<count:this>>-count},TMP_Number_$lt$lt_17.$$arity=1),Opal.defn(self,"$>>",TMP_Number_$gt$gt_18=function(count){return 0<(count=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](count,Opal.const_get_relative($nesting,"Integer"),"to_int"))?this>>count:this<<-count},TMP_Number_$gt$gt_18.$$arity=1),Opal.defn(self,"$[]",TMP_Number_$$_19=function(bit){return(bit=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](bit,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0?0:32<=bit?this<0?1:0:this>>bit&1},TMP_Number_$$_19.$$arity=1),Opal.defn(self,"$+@",TMP_Number_$$_20=function(){return+this},TMP_Number_$$_20.$$arity=0),Opal.defn(self,"$-@",TMP_Number_$$_21=function(){return-this},TMP_Number_$$_21.$$arity=0),Opal.defn(self,"$~",TMP_Number_$_22=function(){return~this},TMP_Number_$_22.$$arity=0),Opal.defn(self,"$**",TMP_Number_$$_23=function(other){var $a,$b;return $truthy(Opal.const_get_relative($nesting,"Integer")["$==="](other))?$truthy($truthy($a=Opal.const_get_relative($nesting,"Integer")["$==="](this)["$!"]())?$a:$rb_gt(other,0))?Math.pow(this,other):Opal.const_get_relative($nesting,"Rational").$new(this,1)["$**"](other):$truthy(($a=$rb_lt(this,0))?$truthy($b=Opal.const_get_relative($nesting,"Float")["$==="](other))?$b:Opal.const_get_relative($nesting,"Rational")["$==="](other):$rb_lt(this,0))?Opal.const_get_relative($nesting,"Complex").$new(this,0)["$**"](other.$to_f()):$truthy(null!=other.$$is_number)?Math.pow(this,other):this.$__coerced__("**",other)},TMP_Number_$$_23.$$arity=1),Opal.defn(self,"$===",TMP_Number_$eq$eq$eq_24=function(other){return other.$$is_number?this.valueOf()===other.valueOf():!!other["$respond_to?"]("==")&&other["$=="](this)},TMP_Number_$eq$eq$eq_24.$$arity=1),Opal.defn(self,"$==",TMP_Number_$eq$eq_25=function(other){return other.$$is_number?this.valueOf()===other.valueOf():!!other["$respond_to?"]("==")&&other["$=="](this)},TMP_Number_$eq$eq_25.$$arity=1),Opal.defn(self,"$abs",TMP_Number_abs_26=function(){return Math.abs(this)},TMP_Number_abs_26.$$arity=0),Opal.defn(self,"$abs2",TMP_Number_abs2_27=function(){return Math.abs(this*this)},TMP_Number_abs2_27.$$arity=0),Opal.defn(self,"$angle",TMP_Number_angle_28=function(){return $truthy(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:this<0?Math.PI:0},TMP_Number_angle_28.$$arity=0),Opal.alias(self,"arg","angle"),Opal.alias(self,"phase","angle"),Opal.defn(self,"$bit_length",TMP_Number_bit_length_29=function(){if($truthy(Opal.const_get_relative($nesting,"Integer")["$==="](this))||this.$raise(Opal.const_get_relative($nesting,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length")),0===this||-1===this)return 0;for(var result=0,value=this<0?~this:this;0!=value;)result+=1,value>>>=1;return result},TMP_Number_bit_length_29.$$arity=0),Opal.defn(self,"$ceil",TMP_Number_ceil_30=function(){return Math.ceil(this)},TMP_Number_ceil_30.$$arity=0),Opal.defn(self,"$chr",TMP_Number_chr_31=function(encoding){return String.fromCharCode(this)},TMP_Number_chr_31.$$arity=-1),Opal.defn(self,"$denominator",TMP_Number_denominator_32=function(){var $a,$zuper_ii,$iter=TMP_Number_denominator_32.$$p,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_Number_denominator_32.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $truthy($truthy($a=this["$nan?"]())?$a:this["$infinite?"]())?1:$send(this,Opal.find_super_dispatcher(this,"denominator",TMP_Number_denominator_32,!1),$zuper,$iter)},TMP_Number_denominator_32.$$arity=0),Opal.defn(self,"$downto",TMP_Number_downto_33=function(stop){var TMP_34,$iter=TMP_Number_downto_33.$$p,block=$iter||nil;if($iter&&(TMP_Number_downto_33.$$p=null),block===nil)return $send(this,"enum_for",["downto",stop],((TMP_34=function(){var self=TMP_34.$$s||this;return $truthy(Opal.const_get_relative($nesting,"Numeric")["$==="](stop))||self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison of "+self.$class()+" with "+stop.$class()+" failed"),$truthy($rb_gt(stop,self))?0:$rb_plus($rb_minus(self,stop),1)}).$$s=this,TMP_34.$$arity=0,TMP_34));stop.$$is_number||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison of "+this.$class()+" with "+stop.$class()+" failed");for(var i=this;stop<=i;i--)block(i);return this},TMP_Number_downto_33.$$arity=1),Opal.alias(self,"eql?","=="),Opal.defn(self,"$equal?",TMP_Number_equal$q_35=function(other){var $a;return $truthy($a=this["$=="](other))?$a:isNaN(this)&&isNaN(other)},TMP_Number_equal$q_35.$$arity=1),Opal.defn(self,"$even?",TMP_Number_even$q_36=function(){return this%2==0},TMP_Number_even$q_36.$$arity=0),Opal.defn(self,"$floor",TMP_Number_floor_37=function(){return Math.floor(this)},TMP_Number_floor_37.$$arity=0),Opal.defn(self,"$gcd",TMP_Number_gcd_38=function(other){$truthy(Opal.const_get_relative($nesting,"Integer")["$==="](other))||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"not an integer");for(var min=Math.abs(this),max=Math.abs(other);0<min;){var tmp=min;min=max%min,max=tmp}return max},TMP_Number_gcd_38.$$arity=1),Opal.defn(self,"$gcdlcm",TMP_Number_gcdlcm_39=function(other){return[this.$gcd(),this.$lcm()]},TMP_Number_gcdlcm_39.$$arity=1),Opal.defn(self,"$integer?",TMP_Number_integer$q_40=function(){return this%1==0},TMP_Number_integer$q_40.$$arity=0),Opal.defn(self,"$is_a?",TMP_Number_is_a$q_41=function(klass){var $zuper_ii,$iter=TMP_Number_is_a$q_41.$$p,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_Number_is_a$q_41.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return!!$truthy(klass["$=="](Opal.const_get_relative($nesting,"Fixnum"))?Opal.const_get_relative($nesting,"Integer")["$==="](this):klass["$=="](Opal.const_get_relative($nesting,"Fixnum")))||(!!$truthy(klass["$=="](Opal.const_get_relative($nesting,"Integer"))?Opal.const_get_relative($nesting,"Integer")["$==="](this):klass["$=="](Opal.const_get_relative($nesting,"Integer")))||(!!$truthy(klass["$=="](Opal.const_get_relative($nesting,"Float"))?Opal.const_get_relative($nesting,"Float")["$==="](this):klass["$=="](Opal.const_get_relative($nesting,"Float")))||$send(this,Opal.find_super_dispatcher(this,"is_a?",TMP_Number_is_a$q_41,!1),$zuper,$iter)))},TMP_Number_is_a$q_41.$$arity=1),Opal.alias(self,"kind_of?","is_a?"),Opal.defn(self,"$instance_of?",TMP_Number_instance_of$q_42=function(klass){var $zuper_ii,$iter=TMP_Number_instance_of$q_42.$$p,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_Number_instance_of$q_42.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return!!$truthy(klass["$=="](Opal.const_get_relative($nesting,"Fixnum"))?Opal.const_get_relative($nesting,"Integer")["$==="](this):klass["$=="](Opal.const_get_relative($nesting,"Fixnum")))||(!!$truthy(klass["$=="](Opal.const_get_relative($nesting,"Integer"))?Opal.const_get_relative($nesting,"Integer")["$==="](this):klass["$=="](Opal.const_get_relative($nesting,"Integer")))||(!!$truthy(klass["$=="](Opal.const_get_relative($nesting,"Float"))?Opal.const_get_relative($nesting,"Float")["$==="](this):klass["$=="](Opal.const_get_relative($nesting,"Float")))||$send(this,Opal.find_super_dispatcher(this,"instance_of?",TMP_Number_instance_of$q_42,!1),$zuper,$iter)))},TMP_Number_instance_of$q_42.$$arity=1),Opal.defn(self,"$lcm",TMP_Number_lcm_43=function(other){return $truthy(Opal.const_get_relative($nesting,"Integer")["$==="](other))||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"not an integer"),0==this||0==other?0:Math.abs(this*other/this.$gcd(other))},TMP_Number_lcm_43.$$arity=1),Opal.alias(self,"magnitude","abs"),Opal.alias(self,"modulo","%"),Opal.defn(self,"$next",TMP_Number_next_44=function(){return this+1},TMP_Number_next_44.$$arity=0),Opal.defn(self,"$nonzero?",TMP_Number_nonzero$q_45=function(){return 0==this?nil:this},TMP_Number_nonzero$q_45.$$arity=0),Opal.defn(self,"$numerator",TMP_Number_numerator_46=function(){var $a,$zuper_ii,$iter=TMP_Number_numerator_46.$$p,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_Number_numerator_46.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $truthy($truthy($a=this["$nan?"]())?$a:this["$infinite?"]())?this:$send(this,Opal.find_super_dispatcher(this,"numerator",TMP_Number_numerator_46,!1),$zuper,$iter)},TMP_Number_numerator_46.$$arity=0),Opal.defn(self,"$odd?",TMP_Number_odd$q_47=function(){return this%2!=0},TMP_Number_odd$q_47.$$arity=0),Opal.defn(self,"$ord",TMP_Number_ord_48=function(){return this},TMP_Number_ord_48.$$arity=0),Opal.defn(self,"$pred",TMP_Number_pred_49=function(){return this-1},TMP_Number_pred_49.$$arity=0),Opal.defn(self,"$quo",TMP_Number_quo_50=function(other){var $zuper_ii,$iter=TMP_Number_quo_50.$$p,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_Number_quo_50.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $truthy(Opal.const_get_relative($nesting,"Integer")["$==="](this))?$send(this,Opal.find_super_dispatcher(this,"quo",TMP_Number_quo_50,!1),$zuper,$iter):$rb_divide(this,other)},TMP_Number_quo_50.$$arity=1),Opal.defn(self,"$rationalize",TMP_Number_rationalize_51=function(eps){var $a,$b,f=nil,n=nil;return 1<arguments.length&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),$truthy(Opal.const_get_relative($nesting,"Integer")["$==="](this))?Opal.const_get_relative($nesting,"Rational").$new(this,1):$truthy(this["$infinite?"]())?this.$raise(Opal.const_get_relative($nesting,"FloatDomainError"),"Infinity"):$truthy(this["$nan?"]())?this.$raise(Opal.const_get_relative($nesting,"FloatDomainError"),"NaN"):$truthy(null==eps)?($b=Opal.const_get_relative($nesting,"Math").$frexp(this),f=null==($a=Opal.to_ary($b))[0]?nil:$a[0],n=null==$a[1]?nil:$a[1],f=Opal.const_get_relative($nesting,"Math").$ldexp(f,Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"MANT_DIG")).$to_i(),n=$rb_minus(n,Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"MANT_DIG")),Opal.const_get_relative($nesting,"Rational").$new($rb_times(2,f),1["$<<"]($rb_minus(1,n))).$rationalize(Opal.const_get_relative($nesting,"Rational").$new(1,1["$<<"]($rb_minus(1,n))))):this.$to_r().$rationalize(eps)},TMP_Number_rationalize_51.$$arity=-1),Opal.defn(self,"$round",TMP_Number_round_52=function(ndigits){var $a,$b,lhs,rhs,exp=nil;if($truthy(Opal.const_get_relative($nesting,"Integer")["$==="](this))){if($truthy(null==ndigits))return this;if($truthy($truthy($a=Opal.const_get_relative($nesting,"Float")["$==="](ndigits))?ndigits["$infinite?"]():$a)&&this.$raise(Opal.const_get_relative($nesting,"RangeError"),"Infinity"),ndigits=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](ndigits,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy($rb_lt(ndigits,Opal.const_get_qualified(Opal.const_get_relative($nesting,"Integer"),"MIN")))&&this.$raise(Opal.const_get_relative($nesting,"RangeError"),"out of bounds"),$truthy(0<=ndigits))return this;if(.415241*(ndigits=ndigits["$-@"]())-.125>this.$size())return 0;var f=Math.pow(10,ndigits),x=Math.floor((Math.abs(x)+f/2)/f)*f;return this<0?-x:x}if($truthy($truthy($a=this["$nan?"]())?null==ndigits:$a)&&this.$raise(Opal.const_get_relative($nesting,"FloatDomainError"),"NaN"),ndigits=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](ndigits||0,Opal.const_get_relative($nesting,"Integer"),"to_int"),$truthy((rhs=0,"number"==typeof(lhs=ndigits)&&"number"==typeof rhs?lhs<=rhs:lhs["$<="](rhs))))$truthy(this["$nan?"]())?this.$raise(Opal.const_get_relative($nesting,"RangeError"),"NaN"):$truthy(this["$infinite?"]())&&this.$raise(Opal.const_get_relative($nesting,"FloatDomainError"),"Infinity");else{if(ndigits["$=="](0))return Math.round(this);if($truthy($truthy($a=this["$nan?"]())?$a:this["$infinite?"]()))return this}return $b=Opal.const_get_relative($nesting,"Math").$frexp(this),null==($a=Opal.to_ary($b))[0]?nil:$a[0],exp=null==$a[1]?nil:$a[1],$truthy(function(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<=lhs:lhs["$>="](rhs)}(ndigits,$rb_minus($rb_plus(Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"DIG"),2),$truthy($rb_gt(exp,0))?$rb_divide(exp,4):$rb_minus($rb_divide(exp,3),1))))?this:$truthy($rb_lt(ndigits,($truthy($rb_gt(exp,0))?$rb_plus($rb_divide(exp,3),1):$rb_divide(exp,4))["$-@"]()))?0:Math.round(this*Math.pow(10,ndigits))/Math.pow(10,ndigits)},TMP_Number_round_52.$$arity=-1),Opal.defn(self,"$step",TMP_Number_step_53=function($limit,$step,$kwargs){var TMP_54,$post_args,to,by,limit,step,self=this,$iter=TMP_Number_step_53.$$p,block=$iter||nil,positional_args=nil,keyword_args=nil;if($post_args=Opal.slice.call(arguments,0,arguments.length),null==($kwargs=Opal.extract_kwargs($post_args))||!$kwargs.$$is_hash){if(null!=$kwargs)throw Opal.ArgumentError.$new("expected kwargs");$kwargs=$hash2([],{})}function validateParameters(){void 0!==to&&(limit=to),void 0===limit&&(limit=nil),step===nil&&self.$raise(Opal.const_get_relative($nesting,"TypeError"),"step must be numeric"),0===step&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"step can't be 0"),void 0!==by&&(step=by),step!==nil&&null!=step||(step=1);var sign=step["$<=>"](0);sign===nil&&self.$raise(Opal.const_get_relative($nesting,"TypeError"),"0 can't be coerced into "+step.$class()),limit!==nil&&null!=limit||(limit=0<sign?Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"INFINITY"):Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"INFINITY")["$-@"]()),Opal.const_get_relative($nesting,"Opal").$compare(self,limit)}function stepFloatSize(){if(0<step&&limit<self||step<0&&self<limit)return 0;if(step===1/0||step===-1/0)return 1;var abs=Math.abs,floor=Math.floor,err=(abs(self)+abs(limit)+abs(limit-self))/abs(step)*Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"EPSILON");return err===1/0||err===-1/0?0:(.5<err&&(err=.5),floor((limit-self)/step+err)+1)}function stepSize(){if(validateParameters(),0===step)return 1/0;if(step%1!=0)return stepFloatSize();if(0<step&&limit<self||step<0&&self<limit)return 0;var ceil=Math.ceil,abs=Math.abs;return ceil((abs(self-limit)+1)/abs(step))}if(to=$kwargs.$$smap.to,by=$kwargs.$$smap.by,0<$post_args.length&&(limit=$post_args.splice(0,1)[0]),0<$post_args.length&&(step=$post_args.splice(0,1)[0]),$iter&&(TMP_Number_step_53.$$p=null),void 0!==limit&&void 0!==to&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"to is given twice"),void 0!==step&&void 0!==by&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"step is given twice"),block===nil)return positional_args=[],keyword_args=$hash2([],{}),void 0!==limit&&positional_args.push(limit),void 0!==step&&positional_args.push(step),void 0!==to&&Opal.hash_put(keyword_args,"to",to),void 0!==by&&Opal.hash_put(keyword_args,"by",by),keyword_args["$empty?"]()||positional_args.push(keyword_args),$send(self,"enum_for",["step"].concat(Opal.to_a(positional_args)),((TMP_54=function(){TMP_54.$$s;return stepSize()}).$$s=self,TMP_54.$$arity=0,TMP_54));if(validateParameters(),0===step)for(;;)block(self);if(self%1!=0||limit%1!=0||step%1!=0){var n=stepFloatSize();if(0<n)if(step===1/0||step===-1/0)block(self);else{var d,i=0;if(0<step)for(;i<n;)limit<(d=i*step+self)&&(d=limit),block(d),i+=1;else for(;i<n;)(d=i*step+self)<limit&&(d=limit),block(d),i+=1}}else{var value=self;if(0<step)for(;value<=limit;)block(value),value+=step;else for(;limit<=value;)block(value),value+=step}return self},TMP_Number_step_53.$$arity=-1),Opal.alias(self,"succ","next"),Opal.defn(self,"$times",TMP_Number_times_55=function(){var TMP_56,$iter=TMP_Number_times_55.$$p,block=$iter||nil;if($iter&&(TMP_Number_times_55.$$p=null),!$truthy(block))return $send(this,"enum_for",["times"],((TMP_56=function(){return TMP_56.$$s||this}).$$s=this,TMP_56.$$arity=0,TMP_56));for(var i=0;i<this;i++)block(i);return this},TMP_Number_times_55.$$arity=0),Opal.defn(self,"$to_f",TMP_Number_to_f_57=function(){return this},TMP_Number_to_f_57.$$arity=0),Opal.defn(self,"$to_i",TMP_Number_to_i_58=function(){return parseInt(this,10)},TMP_Number_to_i_58.$$arity=0),Opal.alias(self,"to_int","to_i"),Opal.defn(self,"$to_r",TMP_Number_to_r_59=function(){var $a,$b,f=nil,e=nil;return $truthy(Opal.const_get_relative($nesting,"Integer")["$==="](this))?Opal.const_get_relative($nesting,"Rational").$new(this,1):($b=Opal.const_get_relative($nesting,"Math").$frexp(this),f=null==($a=Opal.to_ary($b))[0]?nil:$a[0],e=null==$a[1]?nil:$a[1],f=Opal.const_get_relative($nesting,"Math").$ldexp(f,Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"MANT_DIG")).$to_i(),e=$rb_minus(e,Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"MANT_DIG")),$rb_times(f,Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"RADIX")["$**"](e)).$to_r())},TMP_Number_to_r_59.$$arity=0),Opal.defn(self,"$to_s",TMP_Number_to_s_60=function(base){var $a;return null==base&&(base=10),$truthy($truthy($a=$rb_lt(base,2))?$a:$rb_gt(base,36))&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"base must be between 2 and 36"),this.toString(base)},TMP_Number_to_s_60.$$arity=-1),Opal.alias(self,"truncate","to_i"),Opal.alias(self,"inspect","to_s"),Opal.defn(self,"$divmod",TMP_Number_divmod_61=function(other){var $a,$zuper_ii,$iter=TMP_Number_divmod_61.$$p,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_Number_divmod_61.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $truthy($truthy($a=this["$nan?"]())?$a:other["$nan?"]())?this.$raise(Opal.const_get_relative($nesting,"FloatDomainError"),"NaN"):$truthy(this["$infinite?"]())?this.$raise(Opal.const_get_relative($nesting,"FloatDomainError"),"Infinity"):$send(this,Opal.find_super_dispatcher(this,"divmod",TMP_Number_divmod_61,!1),$zuper,$iter)},TMP_Number_divmod_61.$$arity=1),Opal.defn(self,"$upto",TMP_Number_upto_62=function(stop){var TMP_63,$iter=TMP_Number_upto_62.$$p,block=$iter||nil;if($iter&&(TMP_Number_upto_62.$$p=null),block===nil)return $send(this,"enum_for",["upto",stop],((TMP_63=function(){var self=TMP_63.$$s||this;return $truthy(Opal.const_get_relative($nesting,"Numeric")["$==="](stop))||self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison of "+self.$class()+" with "+stop.$class()+" failed"),$truthy($rb_lt(stop,self))?0:$rb_plus($rb_minus(stop,self),1)}).$$s=this,TMP_63.$$arity=0,TMP_63));stop.$$is_number||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"comparison of "+this.$class()+" with "+stop.$class()+" failed");for(var i=this;i<=stop;i++)block(i);return this},TMP_Number_upto_62.$$arity=1),Opal.defn(self,"$zero?",TMP_Number_zero$q_64=function(){return 0==this},TMP_Number_zero$q_64.$$arity=0),Opal.defn(self,"$size",TMP_Number_size_65=function(){return 4},TMP_Number_size_65.$$arity=0),Opal.defn(self,"$nan?",TMP_Number_nan$q_66=function(){return isNaN(this)},TMP_Number_nan$q_66.$$arity=0),Opal.defn(self,"$finite?",TMP_Number_finite$q_67=function(){return this!=1/0&&this!=-1/0&&!isNaN(this)},TMP_Number_finite$q_67.$$arity=0),Opal.defn(self,"$infinite?",TMP_Number_infinite$q_68=function(){return this==1/0?1:this==-1/0?-1:nil},TMP_Number_infinite$q_68.$$arity=0),Opal.defn(self,"$positive?",TMP_Number_positive$q_69=function(){return 0!=this&&(this==1/0||0<1/this)},TMP_Number_positive$q_69.$$arity=0),Opal.defn(self,"$negative?",TMP_Number_negative$q_70=function(){return this==-1/0||1/this<0},TMP_Number_negative$q_70.$$arity=0)}($nesting[0],Opal.const_get_relative($nesting,"Numeric"),$nesting),Opal.const_set($nesting[0],"Fixnum",Opal.const_get_relative($nesting,"Number")),function($base,$super,$parent_nesting){function $Integer(){}var self=$Integer=$klass($base,$super,"Integer",$Integer),$nesting=(self.$$proto,[self].concat($parent_nesting));self.$$is_number_class=!0,function(self,$parent_nesting){self.$$proto;var TMP_allocate_71,TMP_$eq$eq$eq_72,$nesting=[self].concat($parent_nesting);Opal.defn(self,"$allocate",TMP_allocate_71=function(){return this.$raise(Opal.const_get_relative($nesting,"TypeError"),"allocator undefined for "+this.$name())},TMP_allocate_71.$$arity=0),Opal.udef(self,"$new"),Opal.defn(self,"$===",TMP_$eq$eq$eq_72=function(other){return!!other.$$is_number&&other%1==0},TMP_$eq$eq$eq_72.$$arity=1)}(Opal.get_singleton_class(self),$nesting),Opal.const_set($nesting[0],"MAX",Math.pow(2,30)-1),Opal.const_set($nesting[0],"MIN",-Math.pow(2,30))}($nesting[0],Opal.const_get_relative($nesting,"Numeric"),$nesting),function($base,$super,$parent_nesting){function $Float(){}var self=$Float=$klass($base,$super,"Float",$Float),$nesting=(self.$$proto,[self].concat($parent_nesting));return self.$$is_number_class=!0,function(self,$parent_nesting){self.$$proto;var TMP_allocate_73,TMP_$eq$eq$eq_74,$nesting=[self].concat($parent_nesting);Opal.defn(self,"$allocate",TMP_allocate_73=function(){return this.$raise(Opal.const_get_relative($nesting,"TypeError"),"allocator undefined for "+this.$name())},TMP_allocate_73.$$arity=0),Opal.udef(self,"$new"),Opal.defn(self,"$===",TMP_$eq$eq$eq_74=function(other){return!!other.$$is_number},TMP_$eq$eq$eq_74.$$arity=1)}(Opal.get_singleton_class(self),$nesting),Opal.const_set($nesting[0],"INFINITY",1/0),Opal.const_set($nesting[0],"MAX",Number.MAX_VALUE),Opal.const_set($nesting[0],"MIN",Number.MIN_VALUE),Opal.const_set($nesting[0],"NAN",NaN),Opal.const_set($nesting[0],"DIG",15),Opal.const_set($nesting[0],"MANT_DIG",53),Opal.const_set($nesting[0],"RADIX",2),Opal.const_set($nesting[0],"EPSILON",Number.EPSILON||2220446049250313e-31)}($nesting[0],Opal.const_get_relative($nesting,"Numeric"),$nesting)},Opal.modules["corelib/range"]=function(Opal){function $rb_le(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<=rhs:lhs["$<="](rhs)}function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}function $rb_gt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)}function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$truthy=Opal.truthy,$send=Opal.send;return Opal.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),self.$require("corelib/enumerable"),function($base,$super,$parent_nesting){function $Range(){}var TMP_Range_initialize_1,TMP_Range_$eq$eq_2,TMP_Range_$eq$eq$eq_3,TMP_Range_cover$q_4,TMP_Range_each_5,TMP_Range_eql$q_6,TMP_Range_exclude_end$q_7,TMP_Range_first_8,TMP_Range_last_9,TMP_Range_max_10,TMP_Range_min_11,TMP_Range_size_12,TMP_Range_step_13,TMP_Range_bsearch_17,TMP_Range_to_s_18,TMP_Range_inspect_19,TMP_Range_marshal_load_20,TMP_Range_hash_21,self=$Range=$klass($base,null,"Range",$Range),def=self.$$proto,$nesting=[self].concat($parent_nesting);return def.begin=def.end=def.excl=nil,self.$include(Opal.const_get_relative($nesting,"Enumerable")),def.$$is_range=!0,self.$attr_reader("begin","end"),Opal.defn(self,"$initialize",TMP_Range_initialize_1=function(first,last,exclude){return null==exclude&&(exclude=!1),$truthy(this.begin)&&this.$raise(Opal.const_get_relative($nesting,"NameError"),"'initialize' called twice"),$truthy(first["$<=>"](last))||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"bad value for range"),this.begin=first,this.end=last,this.excl=exclude},TMP_Range_initialize_1.$$arity=-3),Opal.defn(self,"$==",TMP_Range_$eq$eq_2=function(other){return!!other.$$is_range&&(this.excl===other.excl&&this.begin==other.begin&&this.end==other.end)},TMP_Range_$eq$eq_2.$$arity=1),Opal.defn(self,"$===",TMP_Range_$eq$eq$eq_3=function(value){return this["$include?"](value)},TMP_Range_$eq$eq$eq_3.$$arity=1),Opal.defn(self,"$cover?",TMP_Range_cover$q_4=function(value){var $a,beg_cmp,end_cmp;return beg_cmp=this.begin["$<=>"](value),!!$truthy($truthy($a=beg_cmp)?$rb_le(beg_cmp,0):$a)&&(end_cmp=value["$<=>"](this.end),$truthy(this.excl)?$truthy($a=end_cmp)?$rb_lt(end_cmp,0):$a:$truthy($a=end_cmp)?$rb_le(end_cmp,0):$a)},TMP_Range_cover$q_4.$$arity=1),Opal.defn(self,"$each",TMP_Range_each_5=function(){var $a,last,i,limit,self=this,$iter=TMP_Range_each_5.$$p,block=$iter||nil,current=nil;if($iter&&(TMP_Range_each_5.$$p=null),block===nil)return self.$enum_for("each");if(self.begin.$$is_number&&self.end.$$is_number){for(self.begin%1==0&&self.end%1==0||self.$raise(Opal.const_get_relative($nesting,"TypeError"),"can't iterate from Float"),i=self.begin,limit=self.end+($truthy(self.excl)?0:1);i<limit;i++)block(i);return self}if(self.begin.$$is_string&&self.end.$$is_string)return $send(self.begin,"upto",[self.end,self.excl],block.$to_proc()),self;for(current=self.begin,last=self.end,$truthy(current["$respond_to?"]("succ"))||self.$raise(Opal.const_get_relative($nesting,"TypeError"),"can't iterate from "+current.$class());$truthy($rb_lt(current["$<=>"](last),0));)Opal.yield1(block,current),current=current.$succ();return $truthy($truthy($a=self.excl["$!"]())?current["$=="](last):$a)&&Opal.yield1(block,current),self},TMP_Range_each_5.$$arity=0),Opal.defn(self,"$eql?",TMP_Range_eql$q_6=function(other){var $a,$b;return!!$truthy(Opal.const_get_relative($nesting,"Range")["$==="](other))&&($truthy($a=$truthy($b=this.excl["$==="](other["$exclude_end?"]()))?this.begin["$eql?"](other.$begin()):$b)?this.end["$eql?"](other.$end()):$a)},TMP_Range_eql$q_6.$$arity=1),Opal.defn(self,"$exclude_end?",TMP_Range_exclude_end$q_7=function(){return this.excl},TMP_Range_exclude_end$q_7.$$arity=0),Opal.defn(self,"$first",TMP_Range_first_8=function(n){var $zuper_ii,$iter=TMP_Range_first_8.$$p,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_Range_first_8.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $truthy(null==n)?this.begin:$send(this,Opal.find_super_dispatcher(this,"first",TMP_Range_first_8,!1),$zuper,$iter)},TMP_Range_first_8.$$arity=-1),Opal.alias(self,"include?","cover?"),Opal.defn(self,"$last",TMP_Range_last_9=function(n){return $truthy(null==n)?this.end:this.$to_a().$last(n)},TMP_Range_last_9.$$arity=-1),Opal.defn(self,"$max",TMP_Range_max_10=function(){var $a,$zuper_ii,$iter=TMP_Range_max_10.$$p,$yield=$iter||nil,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_Range_max_10.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $yield!==nil?$send(this,Opal.find_super_dispatcher(this,"max",TMP_Range_max_10,!1),$zuper,$iter):$truthy($rb_gt(this.begin,this.end))?nil:$truthy($truthy($a=this.excl)?this.begin["$=="](this.end):$a)?nil:this.excl?this.end-1:this.end},TMP_Range_max_10.$$arity=0),Opal.alias(self,"member?","cover?"),Opal.defn(self,"$min",TMP_Range_min_11=function(){var $a,$zuper_ii,$iter=TMP_Range_min_11.$$p,$yield=$iter||nil,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_Range_min_11.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $yield!==nil?$send(this,Opal.find_super_dispatcher(this,"min",TMP_Range_min_11,!1),$zuper,$iter):$truthy($rb_gt(this.begin,this.end))?nil:$truthy($truthy($a=this.excl)?this.begin["$=="](this.end):$a)?nil:this.begin},TMP_Range_min_11.$$arity=0),Opal.defn(self,"$size",TMP_Range_size_12=function(){var $a,lhs,rhs,_begin=nil,_end=nil,infinity=nil;return _begin=this.begin,_end=this.end,$truthy(this.excl)&&(rhs=1,_end="number"==typeof(lhs=_end)&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)),$truthy($truthy($a=Opal.const_get_relative($nesting,"Numeric")["$==="](_begin))?Opal.const_get_relative($nesting,"Numeric")["$==="](_end):$a)?$truthy($rb_lt(_end,_begin))?0:(infinity=Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"INFINITY"),$truthy($truthy($a=infinity["$=="](_begin.$abs()))?$a:_end.$abs()["$=="](infinity))?infinity:(Math.abs(_end-_begin)+1).$to_i()):nil},TMP_Range_size_12.$$arity=0),Opal.defn(self,"$step",TMP_Range_step_13=function(n){var TMP_14,TMP_15,TMP_16,self=this,$iter=TMP_Range_step_13.$$p,$yield=$iter||nil,i=nil;function coerceStepSize(){n.$$is_number||(n=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](n,Opal.const_get_relative($nesting,"Integer"),"to_int")),n<0?self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"step can't be negative"):0===n&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"step can't be 0")}function enumeratorSize(){if(!self.begin["$respond_to?"]("succ"))return nil;if(self.begin.$$is_string&&self.end.$$is_string)return nil;if(n%1==0)return(lhs=self.$size(),rhs=n,"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)).$ceil();var size,lhs,rhs,begin=self.begin,end=self.end,abs=Math.abs,floor=Math.floor,err=(abs(begin)+abs(end)+abs(end-begin))/abs(n)*Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"EPSILON");return.5<err&&(err=.5),self.excl?(size=floor((end-begin)/n-err))*n+begin<end&&size++:size=floor((end-begin)/n+err)+1,size}return null==n&&(n=1),$iter&&(TMP_Range_step_13.$$p=null),$yield===nil?$send(self,"enum_for",["step",n],((TMP_14=function(){TMP_14.$$s;return coerceStepSize(),enumeratorSize()}).$$s=self,TMP_14.$$arity=0,TMP_14)):(coerceStepSize(),$truthy(self.begin.$$is_number&&self.end.$$is_number)?(i=0,function(){var $brk=Opal.new_brk();try{$send(self,"loop",[],((TMP_15=function(){var current,lhs,rhs,self=TMP_15.$$s||this;return null==self.begin&&(self.begin=nil),null==self.excl&&(self.excl=nil),null==self.end&&(self.end=nil),current=$rb_plus(self.begin,(rhs=n,"number"==typeof(lhs=i)&&"number"==typeof rhs?lhs*rhs:lhs["$*"](rhs))),$truthy(self.excl)?$truthy(function(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<=lhs:lhs["$>="](rhs)}(current,self.end))&&Opal.brk(nil,$brk):$truthy($rb_gt(current,self.end))&&Opal.brk(nil,$brk),Opal.yield1($yield,current),i=$rb_plus(i,1)}).$$s=self,TMP_15.$$brk=$brk,TMP_15.$$arity=0,TMP_15))}catch(err){if(err===$brk)return err.$v;throw err}}()):(self.begin.$$is_string&&self.end.$$is_string&&n%1!=0&&self.$raise(Opal.const_get_relative($nesting,"TypeError"),"no implicit conversion to float from string"),$send(self,"each_with_index",[],((TMP_16=function(value,idx){TMP_16.$$s;return null==value&&(value=nil),null==idx&&(idx=nil),idx["$%"](n)["$=="](0)?Opal.yield1($yield,value):nil}).$$s=self,TMP_16.$$arity=2,TMP_16))),self)},TMP_Range_step_13.$$arity=-1),Opal.defn(self,"$bsearch",TMP_Range_bsearch_17=function(){var $iter=TMP_Range_bsearch_17.$$p,block=$iter||nil;return $iter&&(TMP_Range_bsearch_17.$$p=null),block===nil?this.$enum_for("bsearch"):($truthy(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"can't do binary search for "+this.begin.$class()),$send(this.$to_a(),"bsearch",[],block.$to_proc()))},TMP_Range_bsearch_17.$$arity=0),Opal.defn(self,"$to_s",TMP_Range_to_s_18=function(){var self=this;return self.begin+($truthy(self.excl)?"...":"..")+self.end},TMP_Range_to_s_18.$$arity=0),Opal.defn(self,"$inspect",TMP_Range_inspect_19=function(){var self=this;return self.begin.$inspect()+($truthy(self.excl)?"...":"..")+self.end.$inspect()},TMP_Range_inspect_19.$$arity=0),Opal.defn(self,"$marshal_load",TMP_Range_marshal_load_20=function(args){return this.begin=args["$[]"]("begin"),this.end=args["$[]"]("end"),this.excl=args["$[]"]("excl")},TMP_Range_marshal_load_20.$$arity=1),Opal.defn(self,"$hash",TMP_Range_hash_21=function(){return[this.begin,this.end,this.excl].$hash()},TMP_Range_hash_21.$$arity=0),nil&&"hash"}($nesting[0],0,$nesting)},Opal.modules["corelib/proc"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$slice=(Opal.breaker,Opal.slice),$klass=Opal.klass,$truthy=Opal.truthy;return Opal.add_stubs(["$raise","$coerce_to!"]),function($base,$super,$parent_nesting){function $Proc(){}var TMP_Proc_new_1,TMP_Proc_call_2,TMP_Proc_to_proc_3,TMP_Proc_lambda$q_4,TMP_Proc_arity_5,TMP_Proc_source_location_6,TMP_Proc_binding_7,TMP_Proc_parameters_8,TMP_Proc_curry_9,TMP_Proc_dup_10,self=$Proc=$klass($base,$super,"Proc",$Proc),def=self.$$proto,$nesting=[self].concat($parent_nesting);return def.$$is_proc=!0,def.$$is_lambda=!1,Opal.defs(self,"$new",TMP_Proc_new_1=function(){var $iter=TMP_Proc_new_1.$$p,block=$iter||nil;return $iter&&(TMP_Proc_new_1.$$p=null),$truthy(block)||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"tried to create a Proc object without a block"),block},TMP_Proc_new_1.$$arity=0),Opal.defn(self,"$call",TMP_Proc_call_2=function($a_rest){var args,$iter=TMP_Proc_call_2.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Proc_call_2.$$p=null),block!==nil&&(this.$$p=block);var result,$brk=this.$$brk;if($brk)try{result=this.$$is_lambda?this.apply(null,args):Opal.yieldX(this,args)}catch(err){if(err===$brk)return $brk.$v;throw err}else result=this.$$is_lambda?this.apply(null,args):Opal.yieldX(this,args);return result},TMP_Proc_call_2.$$arity=-1),Opal.alias(self,"[]","call"),Opal.alias(self,"===","call"),Opal.alias(self,"yield","call"),Opal.defn(self,"$to_proc",TMP_Proc_to_proc_3=function(){return this},TMP_Proc_to_proc_3.$$arity=0),Opal.defn(self,"$lambda?",TMP_Proc_lambda$q_4=function(){return!!this.$$is_lambda},TMP_Proc_lambda$q_4.$$arity=0),Opal.defn(self,"$arity",TMP_Proc_arity_5=function(){return this.$$is_curried?-1:this.$$arity},TMP_Proc_arity_5.$$arity=0),Opal.defn(self,"$source_location",TMP_Proc_source_location_6=function(){return this.$$is_curried,nil},TMP_Proc_source_location_6.$$arity=0),Opal.defn(self,"$binding",TMP_Proc_binding_7=function(){return this.$$is_curried&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"Can't create Binding"),nil},TMP_Proc_binding_7.$$arity=0),Opal.defn(self,"$parameters",TMP_Proc_parameters_8=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var i,length,result=[];for(i=0,length=this.$$parameters.length;i<length;i++){var parameter=this.$$parameters[i];"req"===parameter[0]&&(parameter=["opt",parameter[1]]),result.push(parameter)}return result}return[]},TMP_Proc_parameters_8.$$arity=0),Opal.defn(self,"$curry",TMP_Proc_curry_9=function(arity){var self=this;function curried(){var result,args=$slice.call(arguments),length=args.length;return arity<length&&self.$$is_lambda&&!self.$$is_curried&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments ("+length+" for "+arity+")"),arity<=length?self.$call.apply(self,args):((result=function(){return curried.apply(null,args.concat($slice.call(arguments)))}).$$is_lambda=self.$$is_lambda,result.$$is_curried=!0,result)}return void 0===arity?arity=self.length:(arity=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](arity,Opal.const_get_relative($nesting,"Integer"),"to_int"),self.$$is_lambda&&arity!==self.length&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments ("+arity+" for "+self.length+")")),curried.$$is_lambda=self.$$is_lambda,curried.$$is_curried=!0,curried},TMP_Proc_curry_9.$$arity=-1),Opal.defn(self,"$dup",TMP_Proc_dup_10=function(){var original_proc=this.$$original_proc||this,proc=function(){return original_proc.apply(this,arguments)};for(var prop in this)this.hasOwnProperty(prop)&&(proc[prop]=this[prop]);return proc},TMP_Proc_dup_10.$$arity=0),Opal.alias(self,"clone","dup")}($nesting[0],Function,$nesting)},Opal.modules["corelib/method"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$truthy=Opal.truthy;return Opal.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function($base,$super,$parent_nesting){function $Method(){}var TMP_Method_initialize_1,TMP_Method_arity_2,TMP_Method_parameters_3,TMP_Method_source_location_4,TMP_Method_comments_5,TMP_Method_call_6,TMP_Method_unbind_7,TMP_Method_to_proc_8,TMP_Method_inspect_9,self=$Method=$klass($base,null,"Method",$Method),def=self.$$proto,$nesting=[self].concat($parent_nesting);def.method=def.receiver=def.owner=def.name=nil,self.$attr_reader("owner","receiver","name"),Opal.defn(self,"$initialize",TMP_Method_initialize_1=function(receiver,owner,method,name){return this.receiver=receiver,this.owner=owner,this.name=name,this.method=method},TMP_Method_initialize_1.$$arity=4),Opal.defn(self,"$arity",TMP_Method_arity_2=function(){return this.method.$arity()},TMP_Method_arity_2.$$arity=0),Opal.defn(self,"$parameters",TMP_Method_parameters_3=function(){return this.method.$$parameters},TMP_Method_parameters_3.$$arity=0),Opal.defn(self,"$source_location",TMP_Method_source_location_4=function(){var $a;return $truthy($a=this.method.$$source_location)?$a:["(eval)",0]},TMP_Method_source_location_4.$$arity=0),Opal.defn(self,"$comments",TMP_Method_comments_5=function(){var $a;return $truthy($a=this.method.$$comments)?$a:[]},TMP_Method_comments_5.$$arity=0),Opal.defn(self,"$call",TMP_Method_call_6=function($a_rest){var args,$iter=TMP_Method_call_6.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return $iter&&(TMP_Method_call_6.$$p=null),this.method.$$p=block,this.method.apply(this.receiver,args)},TMP_Method_call_6.$$arity=-1),Opal.alias(self,"[]","call"),Opal.defn(self,"$unbind",TMP_Method_unbind_7=function(){return Opal.const_get_relative($nesting,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},TMP_Method_unbind_7.$$arity=0),Opal.defn(self,"$to_proc",TMP_Method_to_proc_8=function(){var proc=this.$call.bind(this);return proc.$$unbound=this.method,proc.$$is_lambda=!0,proc},TMP_Method_to_proc_8.$$arity=0),Opal.defn(self,"$inspect",TMP_Method_inspect_9=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},TMP_Method_inspect_9.$$arity=0)}($nesting[0],0,$nesting),function($base,$super,$parent_nesting){function $UnboundMethod(){}var TMP_UnboundMethod_initialize_10,TMP_UnboundMethod_arity_11,TMP_UnboundMethod_parameters_12,TMP_UnboundMethod_source_location_13,TMP_UnboundMethod_comments_14,TMP_UnboundMethod_bind_15,TMP_UnboundMethod_inspect_16,self=$UnboundMethod=$klass($base,null,"UnboundMethod",$UnboundMethod),def=self.$$proto,$nesting=[self].concat($parent_nesting);return def.method=def.owner=def.name=def.source=nil,self.$attr_reader("source","owner","name"),Opal.defn(self,"$initialize",TMP_UnboundMethod_initialize_10=function(source,owner,method,name){return this.source=source,this.owner=owner,this.method=method,this.name=name},TMP_UnboundMethod_initialize_10.$$arity=4),Opal.defn(self,"$arity",TMP_UnboundMethod_arity_11=function(){return this.method.$arity()},TMP_UnboundMethod_arity_11.$$arity=0),Opal.defn(self,"$parameters",TMP_UnboundMethod_parameters_12=function(){return this.method.$$parameters},TMP_UnboundMethod_parameters_12.$$arity=0),Opal.defn(self,"$source_location",TMP_UnboundMethod_source_location_13=function(){var $a;return $truthy($a=this.method.$$source_location)?$a:["(eval)",0]},TMP_UnboundMethod_source_location_13.$$arity=0),Opal.defn(self,"$comments",TMP_UnboundMethod_comments_14=function(){var $a;return $truthy($a=this.method.$$comments)?$a:[]},TMP_UnboundMethod_comments_14.$$arity=0),Opal.defn(self,"$bind",TMP_UnboundMethod_bind_15=function(object){if(this.owner.$$is_module||Opal.is_a(object,this.owner))return Opal.const_get_relative($nesting,"Method").$new(object,this.owner,this.method,this.name);this.$raise(Opal.const_get_relative($nesting,"TypeError"),"can't bind singleton method to a different class (expected "+object+".kind_of?("+this.owner+" to be true)")},TMP_UnboundMethod_bind_15.$$arity=1),Opal.defn(self,"$inspect",TMP_UnboundMethod_inspect_16=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},TMP_UnboundMethod_inspect_16.$$arity=0),nil&&"inspect"}($nesting[0],0,$nesting)},Opal.modules["corelib/variables"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$gvars=(Opal.breaker,Opal.slice,Opal.gvars),$hash2=Opal.hash2;return Opal.add_stubs(["$new"]),$gvars["&"]=$gvars["~"]=$gvars["`"]=$gvars["'"]=nil,$gvars.LOADED_FEATURES=$gvars['"']=Opal.loaded_features,$gvars.LOAD_PATH=$gvars[":"]=[],$gvars["/"]="\n",$gvars[","]=nil,Opal.const_set($nesting[0],"ARGV",[]),Opal.const_set($nesting[0],"ARGF",Opal.const_get_relative($nesting,"Object").$new()),Opal.const_set($nesting[0],"ENV",$hash2([],{})),$gvars.VERBOSE=!1,$gvars.DEBUG=!1,$gvars.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$module=(Opal.breaker,Opal.slice,Opal.module);return Opal.add_stubs(["$==","$new"]),function($base,$parent_nesting){var self=$module($base,"Opal"),$nesting=(self.$$proto,[self].concat($parent_nesting));Opal.const_set($nesting[0],"REGEXP_START",Opal.const_get_relative($nesting,"RUBY_ENGINE")["$=="]("opal")?"^":nil),Opal.const_set($nesting[0],"REGEXP_END",Opal.const_get_relative($nesting,"RUBY_ENGINE")["$=="]("opal")?"$":nil),Opal.const_set($nesting[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),Opal.const_set($nesting[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),Opal.const_set($nesting[0],"INLINE_IDENTIFIER_REGEXP",Opal.const_get_relative($nesting,"Regexp").$new("[^"+Opal.const_get_relative($nesting,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+Opal.const_get_relative($nesting,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),Opal.const_set($nesting[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),Opal.const_set($nesting[0],"CONST_NAME_REGEXP",Opal.const_get_relative($nesting,"Regexp").$new(Opal.const_get_relative($nesting,"REGEXP_START")+"(::)?[A-Z][^"+Opal.const_get_relative($nesting,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+Opal.const_get_relative($nesting,"REGEXP_END")))}($nesting[0],$nesting)},Opal.modules["opal/mini"]=function(Opal){var self=Opal.top;Opal.nil,Opal.breaker,Opal.slice;return Opal.add_stubs(["$require"]),self.$require("opal/base"),self.$require("corelib/nil"),self.$require("corelib/boolean"),self.$require("corelib/string"),self.$require("corelib/comparable"),self.$require("corelib/enumerable"),self.$require("corelib/enumerator"),self.$require("corelib/array"),self.$require("corelib/hash"),self.$require("corelib/number"),self.$require("corelib/range"),self.$require("corelib/proc"),self.$require("corelib/method"),self.$require("corelib/regexp"),self.$require("corelib/variables"),self.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$send=Opal.send,$truthy=Opal.truthy,$gvars=Opal.gvars;return Opal.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$to_s","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),self.$require("corelib/string"),function($base,$super,$parent_nesting){function $String(){}var TMP_String_inherited_1,self=$String=$klass($base,null,"String",$String),$nesting=(self.$$proto,[self].concat($parent_nesting));Opal.defs(self,"$inherited",TMP_String_inherited_1=function(klass){var replace;replace=Opal.const_get_relative($nesting,"Class").$new(Opal.const_get_qualified(Opal.const_get_relative($nesting,"String"),"Wrapper")),klass.$$proto=replace.$$proto,(klass.$$proto.$$class=klass).$$alloc=replace.$$alloc,klass.$$parent=Opal.const_get_qualified(Opal.const_get_relative($nesting,"String"),"Wrapper"),klass.$allocate=replace.$allocate,klass.$new=replace.$new},TMP_String_inherited_1.$$arity=1)}($nesting[0],0,$nesting),function($base,$super,$parent_nesting){function $Wrapper(){}var TMP_Wrapper_allocate_2,TMP_Wrapper_new_3,TMP_Wrapper_$$_4,TMP_Wrapper_initialize_5,TMP_Wrapper_method_missing_6,TMP_Wrapper_initialize_copy_7,TMP_Wrapper_respond_to$q_8,TMP_Wrapper_$eq$eq_9,TMP_Wrapper_to_s_10,TMP_Wrapper_inspect_11,TMP_Wrapper_$_12,TMP_Wrapper_$_13,TMP_Wrapper_split_15,TMP_Wrapper_replace_16,TMP_Wrapper_each_line_17,TMP_Wrapper_lines_19,TMP_Wrapper_$_20,TMP_Wrapper_instance_variables_21,self=$Wrapper=$klass($base,null,"Wrapper",$Wrapper),def=self.$$proto;[self].concat($parent_nesting);return def.literal=nil,def.$$is_string=!0,Opal.defs(self,"$allocate",TMP_Wrapper_allocate_2=function(string){var $iter=TMP_Wrapper_allocate_2.$$p,obj=nil;return null==string&&(string=""),$iter&&(TMP_Wrapper_allocate_2.$$p=null),(obj=$send(this,Opal.find_super_dispatcher(this,"allocate",TMP_Wrapper_allocate_2,!1,$Wrapper),[],null)).literal=string,obj},TMP_Wrapper_allocate_2.$$arity=-1),Opal.defs(self,"$new",TMP_Wrapper_new_3=function($a_rest){var args,obj,$iter=TMP_Wrapper_new_3.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return $iter&&(TMP_Wrapper_new_3.$$p=null),obj=this.$allocate(),$send(obj,"initialize",Opal.to_a(args),block.$to_proc()),obj},TMP_Wrapper_new_3.$$arity=-1),Opal.defs(self,"$[]",TMP_Wrapper_$$_4=function($a_rest){var objects,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),objects=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)objects[$arg_idx-0]=arguments[$arg_idx];return this.$allocate(objects)},TMP_Wrapper_$$_4.$$arity=-1),Opal.defn(self,"$initialize",TMP_Wrapper_initialize_5=function(string){return null==string&&(string=""),this.literal=string},TMP_Wrapper_initialize_5.$$arity=-1),Opal.defn(self,"$method_missing",TMP_Wrapper_method_missing_6=function($a_rest){var args,result,$iter=TMP_Wrapper_method_missing_6.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return $iter&&(TMP_Wrapper_method_missing_6.$$p=null),result=$send(this.literal,"__send__",Opal.to_a(args),block.$to_proc()),$truthy(null!=result.$$is_string)?$truthy(result==this.literal)?this:this.$class().$allocate(result):result},TMP_Wrapper_method_missing_6.$$arity=-1),Opal.defn(self,"$initialize_copy",TMP_Wrapper_initialize_copy_7=function(other){return this.literal=other.literal.$clone()},TMP_Wrapper_initialize_copy_7.$$arity=1),Opal.defn(self,"$respond_to?",TMP_Wrapper_respond_to$q_8=function(name,$a_rest){var $b,$zuper_ii,$iter=TMP_Wrapper_respond_to$q_8.$$p,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_Wrapper_respond_to$q_8.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return $truthy($b=$send(this,Opal.find_super_dispatcher(this,"respond_to?",TMP_Wrapper_respond_to$q_8,!1),$zuper,$iter))?$b:this.literal["$respond_to?"](name)},TMP_Wrapper_respond_to$q_8.$$arity=-2),Opal.defn(self,"$==",TMP_Wrapper_$eq$eq_9=function(other){return this.literal["$=="](other)},TMP_Wrapper_$eq$eq_9.$$arity=1),Opal.alias(self,"eql?","=="),Opal.alias(self,"===","=="),Opal.defn(self,"$to_s",TMP_Wrapper_to_s_10=function(){return this.literal.$to_s()},TMP_Wrapper_to_s_10.$$arity=0),Opal.alias(self,"to_str","to_s"),Opal.defn(self,"$inspect",TMP_Wrapper_inspect_11=function(){return this.literal.$inspect()},TMP_Wrapper_inspect_11.$$arity=0),Opal.defn(self,"$+",TMP_Wrapper_$_12=function(other){var lhs,rhs;return lhs=this.literal,rhs=other,"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)},TMP_Wrapper_$_12.$$arity=1),Opal.defn(self,"$*",TMP_Wrapper_$_13=function(other){var lhs,rhs,result=(lhs=this.literal,rhs=other,"number"==typeof lhs&&"number"==typeof rhs?lhs*rhs:lhs["$*"](rhs));return result.$$is_string?this.$class().$allocate(result):result},TMP_Wrapper_$_13.$$arity=1),Opal.defn(self,"$split",TMP_Wrapper_split_15=function(pattern,limit){var TMP_14;return $send(this.literal.$split(pattern,limit),"map",[],((TMP_14=function(str){var self=TMP_14.$$s||this;return null==str&&(str=nil),self.$class().$allocate(str)}).$$s=this,TMP_14.$$arity=1,TMP_14))},TMP_Wrapper_split_15.$$arity=-1),Opal.defn(self,"$replace",TMP_Wrapper_replace_16=function(string){return this.literal=string},TMP_Wrapper_replace_16.$$arity=1),Opal.defn(self,"$each_line",TMP_Wrapper_each_line_17=function(separator){var TMP_18,$iter=TMP_Wrapper_each_line_17.$$p,$yield=$iter||nil;return null==$gvars["/"]&&($gvars["/"]=nil),null==separator&&(separator=$gvars["/"]),$iter&&(TMP_Wrapper_each_line_17.$$p=null),$yield===nil?this.$enum_for("each_line",separator):$send(this.literal,"each_line",[separator],((TMP_18=function(str){var self=TMP_18.$$s||this;return null==str&&(str=nil),Opal.yield1($yield,self.$class().$allocate(str))}).$$s=this,TMP_18.$$arity=1,TMP_18))},TMP_Wrapper_each_line_17.$$arity=-1),Opal.defn(self,"$lines",TMP_Wrapper_lines_19=function(separator){var $iter=TMP_Wrapper_lines_19.$$p,block=$iter||nil,e=nil;return null==$gvars["/"]&&($gvars["/"]=nil),null==separator&&(separator=$gvars["/"]),$iter&&(TMP_Wrapper_lines_19.$$p=null),e=$send(this,"each_line",[separator],block.$to_proc()),$truthy(block)?this:e.$to_a()},TMP_Wrapper_lines_19.$$arity=-1),Opal.defn(self,"$%",TMP_Wrapper_$_20=function(data){return this.literal["$%"](data)},TMP_Wrapper_$_20.$$arity=1),Opal.defn(self,"$instance_variables",TMP_Wrapper_instance_variables_21=function(){var $zuper_ii,lhs,rhs,$iter=TMP_Wrapper_instance_variables_21.$$p,$zuper=nil,$zuper_i=nil;for($iter&&(TMP_Wrapper_instance_variables_21.$$p=null),$zuper_i=0,$zuper_ii=arguments.length,$zuper=new Array($zuper_ii);$zuper_i<$zuper_ii;$zuper_i++)$zuper[$zuper_i]=arguments[$zuper_i];return lhs=$send(this,Opal.find_super_dispatcher(this,"instance_variables",TMP_Wrapper_instance_variables_21,!1),$zuper,$iter),rhs=["@literal"],"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)},TMP_Wrapper_instance_variables_21.$$arity=0),nil&&"instance_variables"}(Opal.const_get_relative($nesting,"String"),0,$nesting)},Opal.modules["corelib/string/encoding"]=function(Opal){var TMP_12,TMP_15,TMP_18,TMP_21,TMP_24,self=Opal.top,$nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$truthy=Opal.truthy,$send=Opal.send,$hash2=Opal.hash2;return Opal.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$==","$default_external","$upcase","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$getbyte"]),self.$require("corelib/string"),function($base,$super,$parent_nesting){function $Encoding(){}var TMP_Encoding_register_1,TMP_Encoding_find_3,TMP_Encoding_initialize_4,TMP_Encoding_ascii_compatible$q_5,TMP_Encoding_dummy$q_6,TMP_Encoding_to_s_7,TMP_Encoding_inspect_8,TMP_Encoding_each_byte_9,TMP_Encoding_getbyte_10,TMP_Encoding_bytesize_11,self=$Encoding=$klass($base,null,"Encoding",$Encoding),def=self.$$proto,$nesting=[self].concat($parent_nesting);def.ascii=def.dummy=def.name=nil,self.$$register={},Opal.defs(self,"$register",TMP_Encoding_register_1=function(name,options){var $a,TMP_2,encoding,lhs,rhs,$iter=TMP_Encoding_register_1.$$p,block=$iter||nil,names=nil,register=nil;return null==options&&(options=$hash2([],{})),$iter&&(TMP_Encoding_register_1.$$p=null),lhs=[name],rhs=$truthy($a=options["$[]"]("aliases"))?$a:[],names="number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs),encoding=$send(Opal.const_get_relative($nesting,"Class"),"new",[this],block.$to_proc()).$new(name,names,!!$truthy($a=options["$[]"]("ascii"))&&$a,!!$truthy($a=options["$[]"]("dummy"))&&$a),register=this.$$register,$send(names,"each",[],((TMP_2=function(name){var self=TMP_2.$$s||this;return null==name&&(name=nil),self.$const_set(name.$sub("-","_"),encoding),register["$$"+name]=encoding}).$$s=this,TMP_2.$$arity=1,TMP_2))},TMP_Encoding_register_1.$$arity=-2),Opal.defs(self,"$find",TMP_Encoding_find_3=function(name){var $a,register,encoding;return name["$=="]("default_external")?this.$default_external():(register=this.$$register,encoding=$truthy($a=register["$$"+name])?$a:register["$$"+name.$upcase()],$truthy(encoding)||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"unknown encoding name - "+name),encoding)},TMP_Encoding_find_3.$$arity=1),function(self,$parent_nesting){self.$$proto,[self].concat($parent_nesting);self.$attr_accessor("default_external")}(Opal.get_singleton_class(self),$nesting),self.$attr_reader("name","names"),Opal.defn(self,"$initialize",TMP_Encoding_initialize_4=function(name,names,ascii,dummy){return this.name=name,this.names=names,this.ascii=ascii,this.dummy=dummy},TMP_Encoding_initialize_4.$$arity=4),Opal.defn(self,"$ascii_compatible?",TMP_Encoding_ascii_compatible$q_5=function(){return this.ascii},TMP_Encoding_ascii_compatible$q_5.$$arity=0),Opal.defn(self,"$dummy?",TMP_Encoding_dummy$q_6=function(){return this.dummy},TMP_Encoding_dummy$q_6.$$arity=0),Opal.defn(self,"$to_s",TMP_Encoding_to_s_7=function(){return this.name},TMP_Encoding_to_s_7.$$arity=0),Opal.defn(self,"$inspect",TMP_Encoding_inspect_8=function(){var self=this;return"#<Encoding:"+self.name+($truthy(self.dummy)?" (dummy)":nil)+">"},TMP_Encoding_inspect_8.$$arity=0),Opal.defn(self,"$each_byte",TMP_Encoding_each_byte_9=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"))},TMP_Encoding_each_byte_9.$$arity=-1),Opal.defn(self,"$getbyte",TMP_Encoding_getbyte_10=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"))},TMP_Encoding_getbyte_10.$$arity=-1),Opal.defn(self,"$bytesize",TMP_Encoding_bytesize_11=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"))},TMP_Encoding_bytesize_11.$$arity=-1),function($base,$super,$parent_nesting){function $EncodingError(){}var self=$EncodingError=$klass($base,$super,"EncodingError",$EncodingError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"StandardError"),$nesting),function($base,$super,$parent_nesting){function $CompatibilityError(){}var self=$CompatibilityError=$klass($base,$super,"CompatibilityError",$CompatibilityError);self.$$proto,[self].concat($parent_nesting)}($nesting[0],Opal.const_get_relative($nesting,"EncodingError"),$nesting)}($nesting[0],0,$nesting),$send(Opal.const_get_relative($nesting,"Encoding"),"register",["UTF-8",$hash2(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],((TMP_12=function(){var TMP_each_byte_13,TMP_bytesize_14,self=TMP_12.$$s||this;return Opal.def(self,"$each_byte",TMP_each_byte_13=function(string){var $iter=TMP_each_byte_13.$$p,block=$iter||nil;$iter&&(TMP_each_byte_13.$$p=null);for(var i=0,length=string.length;i<length;i++){var code=string.charCodeAt(i);if(code<=127)Opal.yield1(block,code);else for(var encoded=encodeURIComponent(string.charAt(i)).substr(1).split("%"),j=0,encoded_length=encoded.length;j<encoded_length;j++)Opal.yield1(block,parseInt(encoded[j],16))}},TMP_each_byte_13.$$arity=1),Opal.def(self,"$bytesize",TMP_bytesize_14=function(string){return string.$bytes().$length()},TMP_bytesize_14.$$arity=1),nil&&"bytesize"}).$$s=self,TMP_12.$$arity=0,TMP_12)),$send(Opal.const_get_relative($nesting,"Encoding"),"register",["UTF-16LE"],((TMP_15=function(){var TMP_each_byte_16,TMP_bytesize_17,self=TMP_15.$$s||this;return Opal.def(self,"$each_byte",TMP_each_byte_16=function(string){var $iter=TMP_each_byte_16.$$p,block=$iter||nil;$iter&&(TMP_each_byte_16.$$p=null);for(var i=0,length=string.length;i<length;i++){var code=string.charCodeAt(i);Opal.yield1(block,255&code),Opal.yield1(block,code>>8)}},TMP_each_byte_16.$$arity=1),Opal.def(self,"$bytesize",TMP_bytesize_17=function(string){return string.$bytes().$length()},TMP_bytesize_17.$$arity=1),nil&&"bytesize"}).$$s=self,TMP_15.$$arity=0,TMP_15)),$send(Opal.const_get_relative($nesting,"Encoding"),"register",["UTF-16BE"],((TMP_18=function(){var TMP_each_byte_19,TMP_bytesize_20,self=TMP_18.$$s||this;return Opal.def(self,"$each_byte",TMP_each_byte_19=function(string){var $iter=TMP_each_byte_19.$$p,block=$iter||nil;$iter&&(TMP_each_byte_19.$$p=null);for(var i=0,length=string.length;i<length;i++){var code=string.charCodeAt(i);Opal.yield1(block,code>>8),Opal.yield1(block,255&code)}},TMP_each_byte_19.$$arity=1),Opal.def(self,"$bytesize",TMP_bytesize_20=function(string){return string.$bytes().$length()},TMP_bytesize_20.$$arity=1),nil&&"bytesize"}).$$s=self,TMP_18.$$arity=0,TMP_18)),$send(Opal.const_get_relative($nesting,"Encoding"),"register",["UTF-32LE"],((TMP_21=function(){var TMP_each_byte_22,TMP_bytesize_23,self=TMP_21.$$s||this;return Opal.def(self,"$each_byte",TMP_each_byte_22=function(string){var $iter=TMP_each_byte_22.$$p,block=$iter||nil;$iter&&(TMP_each_byte_22.$$p=null);for(var i=0,length=string.length;i<length;i++){var code=string.charCodeAt(i);Opal.yield1(block,255&code),Opal.yield1(block,code>>8)}},TMP_each_byte_22.$$arity=1),Opal.def(self,"$bytesize",TMP_bytesize_23=function(string){return string.$bytes().$length()},TMP_bytesize_23.$$arity=1),nil&&"bytesize"}).$$s=self,TMP_21.$$arity=0,TMP_21)),$send(Opal.const_get_relative($nesting,"Encoding"),"register",["ASCII-8BIT",$hash2(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],((TMP_24=function(){var TMP_each_byte_25,TMP_bytesize_26,self=TMP_24.$$s||this;return Opal.def(self,"$each_byte",TMP_each_byte_25=function(string){var $iter=TMP_each_byte_25.$$p,block=$iter||nil;$iter&&(TMP_each_byte_25.$$p=null);for(var i=0,length=string.length;i<length;i++){var code=string.charCodeAt(i);Opal.yield1(block,255&code),Opal.yield1(block,code>>8)}},TMP_each_byte_25.$$arity=1),Opal.def(self,"$bytesize",TMP_bytesize_26=function(string){return string.$bytes().$length()},TMP_bytesize_26.$$arity=1),nil&&"bytesize"}).$$s=self,TMP_24.$$arity=0,TMP_24)),function($base,$super,$parent_nesting){function $String(){}var TMP_String_bytes_27,TMP_String_bytesize_28,TMP_String_each_byte_29,TMP_String_encode_30,TMP_String_encoding_31,TMP_String_force_encoding_32,TMP_String_getbyte_33,TMP_String_valid_encoding$q_34,self=$String=$klass($base,null,"String",$String),def=self.$$proto,$nesting=[self].concat($parent_nesting);return def.encoding=nil,String.prototype.encoding=Opal.const_get_qualified(Opal.const_get_relative($nesting,"Encoding"),"UTF_16LE"),Opal.defn(self,"$bytes",TMP_String_bytes_27=function(){return this.$each_byte().$to_a()},TMP_String_bytes_27.$$arity=0),Opal.defn(self,"$bytesize",TMP_String_bytesize_28=function(){return this.encoding.$bytesize(this)},TMP_String_bytesize_28.$$arity=0),Opal.defn(self,"$each_byte",TMP_String_each_byte_29=function(){var $iter=TMP_String_each_byte_29.$$p,block=$iter||nil;return $iter&&(TMP_String_each_byte_29.$$p=null),block===nil?this.$enum_for("each_byte"):($send(this.encoding,"each_byte",[this],block.$to_proc()),this)},TMP_String_each_byte_29.$$arity=0),Opal.defn(self,"$encode",TMP_String_encode_30=function(encoding){return this.$dup().$force_encoding(encoding)},TMP_String_encode_30.$$arity=1),Opal.defn(self,"$encoding",TMP_String_encoding_31=function(){return this.encoding},TMP_String_encoding_31.$$arity=0),Opal.defn(self,"$force_encoding",TMP_String_force_encoding_32=function(encoding){return encoding===this.encoding?this:(encoding=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](encoding,Opal.const_get_relative($nesting,"String"),"to_s"),(encoding=Opal.const_get_relative($nesting,"Encoding").$find(encoding))===this.encoding||(this.encoding=encoding),this)},TMP_String_force_encoding_32.$$arity=1),Opal.defn(self,"$getbyte",TMP_String_getbyte_33=function(idx){return this.encoding.$getbyte(this,idx)},TMP_String_getbyte_33.$$arity=1),Opal.defn(self,"$valid_encoding?",TMP_String_valid_encoding$q_34=function(){return!0},TMP_String_valid_encoding$q_34.$$arity=0),nil&&"valid_encoding?"}($nesting[0],0,$nesting)},Opal.modules["corelib/math"]=function(Opal){Opal.top;var $nesting=[],$module=(Opal.nil,Opal.breaker,Opal.slice,Opal.module),$truthy=Opal.truthy;return Opal.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function($base,$parent_nesting){var TMP_Math_checked_1,TMP_Math_float$B_2,TMP_Math_integer$B_3,TMP_Math_acos_4,TMP_Math_acosh_5,TMP_Math_asin_6,TMP_Math_asinh_7,TMP_Math_atan_8,TMP_Math_atan2_9,TMP_Math_atanh_10,TMP_Math_cbrt_11,TMP_Math_cos_12,TMP_Math_cosh_13,TMP_Math_erf_14,TMP_Math_erfc_15,TMP_Math_exp_16,TMP_Math_frexp_17,TMP_Math_gamma_18,TMP_Math_hypot_19,TMP_Math_ldexp_20,TMP_Math_lgamma_21,TMP_Math_log_22,TMP_Math_log10_23,TMP_Math_log2_24,TMP_Math_sin_25,TMP_Math_sinh_26,TMP_Math_sqrt_27,TMP_Math_tan_28,TMP_Math_tanh_29,self=$module($base,"Math"),$nesting=(self.$$proto,[self].concat($parent_nesting));Opal.const_set($nesting[0],"E",Math.E),Opal.const_set($nesting[0],"PI",Math.PI),Opal.const_set($nesting[0],"DomainError",Opal.const_get_relative($nesting,"Class").$new(Opal.const_get_relative($nesting,"StandardError"))),Opal.defs(self,"$checked",TMP_Math_checked_1=function(method,$a_rest){var args,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];if(isNaN(args[0])||2==args.length&&isNaN(args[1]))return NaN;var result=Math[method].apply(null,args);return isNaN(result)&&this.$raise(Opal.const_get_relative($nesting,"DomainError"),'Numerical argument is out of domain - "'+method+'"'),result},TMP_Math_checked_1.$$arity=-2),Opal.defs(self,"$float!",TMP_Math_float$B_2=function(value){var self=this;try{return self.$Float(value)}catch($err){if(!Opal.rescue($err,[Opal.const_get_relative($nesting,"ArgumentError")]))throw $err;try{return self.$raise(Opal.const_get_relative($nesting,"Opal").$type_error(value,Opal.const_get_relative($nesting,"Float")))}finally{Opal.pop_exception()}}},TMP_Math_float$B_2.$$arity=1),Opal.defs(self,"$integer!",TMP_Math_integer$B_3=function(value){var self=this;try{return self.$Integer(value)}catch($err){if(!Opal.rescue($err,[Opal.const_get_relative($nesting,"ArgumentError")]))throw $err;try{return self.$raise(Opal.const_get_relative($nesting,"Opal").$type_error(value,Opal.const_get_relative($nesting,"Integer")))}finally{Opal.pop_exception()}}},TMP_Math_integer$B_3.$$arity=1),self.$module_function(),Opal.defn(self,"$acos",TMP_Math_acos_4=function(x){return Opal.const_get_relative($nesting,"Math").$checked("acos",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_acos_4.$$arity=1),$truthy(void 0!==Math.acosh)||(Math.acosh=function(x){return Math.log(x+Math.sqrt(x*x-1))}),Opal.defn(self,"$acosh",TMP_Math_acosh_5=function(x){return Opal.const_get_relative($nesting,"Math").$checked("acosh",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_acosh_5.$$arity=1),Opal.defn(self,"$asin",TMP_Math_asin_6=function(x){return Opal.const_get_relative($nesting,"Math").$checked("asin",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_asin_6.$$arity=1),$truthy(void 0!==Math.asinh)||(Math.asinh=function(x){return Math.log(x+Math.sqrt(x*x+1))}),Opal.defn(self,"$asinh",TMP_Math_asinh_7=function(x){return Opal.const_get_relative($nesting,"Math").$checked("asinh",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_asinh_7.$$arity=1),Opal.defn(self,"$atan",TMP_Math_atan_8=function(x){return Opal.const_get_relative($nesting,"Math").$checked("atan",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_atan_8.$$arity=1),Opal.defn(self,"$atan2",TMP_Math_atan2_9=function(y,x){return Opal.const_get_relative($nesting,"Math").$checked("atan2",Opal.const_get_relative($nesting,"Math")["$float!"](y),Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_atan2_9.$$arity=2),$truthy(void 0!==Math.atanh)||(Math.atanh=function(x){return.5*Math.log((1+x)/(1-x))}),Opal.defn(self,"$atanh",TMP_Math_atanh_10=function(x){return Opal.const_get_relative($nesting,"Math").$checked("atanh",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_atanh_10.$$arity=1),$truthy(void 0!==Math.cbrt)||(Math.cbrt=function(x){if(0==x)return 0;if(x<0)return-Math.cbrt(-x);for(var r=x,ex=0;r<.125;)r*=8,ex--;for(;1<r;)r*=.125,ex++;for(r=(-.46946116*r+1.072302)*r+.3812513;ex<0;)r*=.5,ex++;for(;0<ex;)r*=2,ex--;return r=2/3*(r=2/3*(r=2/3*(r=2/3*r+1/3*x/(r*r))+1/3*x/(r*r))+1/3*x/(r*r))+1/3*x/(r*r)}),Opal.defn(self,"$cbrt",TMP_Math_cbrt_11=function(x){return Opal.const_get_relative($nesting,"Math").$checked("cbrt",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_cbrt_11.$$arity=1),Opal.defn(self,"$cos",TMP_Math_cos_12=function(x){return Opal.const_get_relative($nesting,"Math").$checked("cos",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_cos_12.$$arity=1),$truthy(void 0!==Math.cosh)||(Math.cosh=function(x){return(Math.exp(x)+Math.exp(-x))/2}),Opal.defn(self,"$cosh",TMP_Math_cosh_13=function(x){return Opal.const_get_relative($nesting,"Math").$checked("cosh",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_cosh_13.$$arity=1),$truthy(void 0!==Math.erf)||(Math.erf=function(x){var sign=1;x<0&&(sign=-1);var t=1/(1+.3275911*(x=Math.abs(x)));return sign*(1-((((1.061405429*t-1.453152027)*t+1.421413741)*t-.284496736)*t+.254829592)*t*Math.exp(-x*x))}),Opal.defn(self,"$erf",TMP_Math_erf_14=function(x){return Opal.const_get_relative($nesting,"Math").$checked("erf",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_erf_14.$$arity=1),$truthy(void 0!==Math.erfc)||(Math.erfc=function(x){var z=Math.abs(x),t=1/(.5*z+1),A10=-z*z-1.26551223+t*(t*(t*(t*(t*(t*(t*(t*(.17087277*t-.82215223)+1.48851587)-1.13520398)+.27886807)-.18628806)+.09678418)+.37409196)+1.00002368),a=t*Math.exp(A10);return x<0?2-a:a}),Opal.defn(self,"$erfc",TMP_Math_erfc_15=function(x){return Opal.const_get_relative($nesting,"Math").$checked("erfc",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_erfc_15.$$arity=1),Opal.defn(self,"$exp",TMP_Math_exp_16=function(x){return Opal.const_get_relative($nesting,"Math").$checked("exp",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_exp_16.$$arity=1),Opal.defn(self,"$frexp",TMP_Math_frexp_17=function(x){if(x=Opal.const_get_relative($nesting,"Math")["$float!"](x),isNaN(x))return[NaN,0];var ex=Math.floor(Math.log(Math.abs(x))/Math.log(2))+1;return[x/Math.pow(2,ex),ex]},TMP_Math_frexp_17.$$arity=1),Opal.defn(self,"$gamma",TMP_Math_gamma_18=function(n){var i,t,x,value,result,twoN,threeN,fourN,fiveN;n=Opal.const_get_relative($nesting,"Math")["$float!"](n);var lhs,rhs,P=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(n))return NaN;if(0===n&&1/n<0)return-1/0;if(-1!==n&&n!==-1/0||this.$raise(Opal.const_get_relative($nesting,"DomainError"),'Numerical argument is out of domain - "gamma"'),Opal.const_get_relative($nesting,"Integer")["$==="](n)){if(n<=0)return isFinite(n)?1/0:NaN;if(171<n)return 1/0;for(value=n-2,result=n-1;1<value;)result*=value,value--;return 0==result&&(result=1),result}if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*Opal.const_get_relative($nesting,"Math").$gamma((rhs=n,"number"==typeof(lhs=1)&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs))));if(171.35<=n)return 1/0;if(85<n)return fiveN=(fourN=(threeN=(twoN=n*n)*n)*n)*n,Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*twoN)-139/(51840*threeN)-571/(2488320*fourN)+163879/(209018880*fiveN)+5246819/(75246796800*fiveN*n));for(n-=1,x=P[0],i=1;i<P.length;++i)x+=P[i]/(n+i);return t=n+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(t,n+.5)*Math.exp(-t)*x},TMP_Math_gamma_18.$$arity=1),$truthy(void 0!==Math.hypot)||(Math.hypot=function(x,y){return Math.sqrt(x*x+y*y)}),Opal.defn(self,"$hypot",TMP_Math_hypot_19=function(x,y){return Opal.const_get_relative($nesting,"Math").$checked("hypot",Opal.const_get_relative($nesting,"Math")["$float!"](x),Opal.const_get_relative($nesting,"Math")["$float!"](y))},TMP_Math_hypot_19.$$arity=2),Opal.defn(self,"$ldexp",TMP_Math_ldexp_20=function(mantissa,exponent){return mantissa=Opal.const_get_relative($nesting,"Math")["$float!"](mantissa),exponent=Opal.const_get_relative($nesting,"Math")["$integer!"](exponent),isNaN(exponent)&&this.$raise(Opal.const_get_relative($nesting,"RangeError"),"float NaN out of range of integer"),mantissa*Math.pow(2,exponent)},TMP_Math_ldexp_20.$$arity=2),Opal.defn(self,"$lgamma",TMP_Math_lgamma_21=function(n){return-1==n?[1/0,1]:[Math.log(Math.abs(Opal.const_get_relative($nesting,"Math").$gamma(n))),Opal.const_get_relative($nesting,"Math").$gamma(n)<0?-1:1]},TMP_Math_lgamma_21.$$arity=1),Opal.defn(self,"$log",TMP_Math_log_22=function(x,base){var lhs,rhs;return $truthy(Opal.const_get_relative($nesting,"String")["$==="](x))&&this.$raise(Opal.const_get_relative($nesting,"Opal").$type_error(x,Opal.const_get_relative($nesting,"Float"))),$truthy(null==base)?Opal.const_get_relative($nesting,"Math").$checked("log",Opal.const_get_relative($nesting,"Math")["$float!"](x)):($truthy(Opal.const_get_relative($nesting,"String")["$==="](base))&&this.$raise(Opal.const_get_relative($nesting,"Opal").$type_error(base,Opal.const_get_relative($nesting,"Float"))),lhs=Opal.const_get_relative($nesting,"Math").$checked("log",Opal.const_get_relative($nesting,"Math")["$float!"](x)),rhs=Opal.const_get_relative($nesting,"Math").$checked("log",Opal.const_get_relative($nesting,"Math")["$float!"](base)),"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs))},TMP_Math_log_22.$$arity=-2),$truthy(void 0!==Math.log10)||(Math.log10=function(x){return Math.log(x)/Math.LN10}),Opal.defn(self,"$log10",TMP_Math_log10_23=function(x){return $truthy(Opal.const_get_relative($nesting,"String")["$==="](x))&&this.$raise(Opal.const_get_relative($nesting,"Opal").$type_error(x,Opal.const_get_relative($nesting,"Float"))),Opal.const_get_relative($nesting,"Math").$checked("log10",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_log10_23.$$arity=1),$truthy(void 0!==Math.log2)||(Math.log2=function(x){return Math.log(x)/Math.LN2}),Opal.defn(self,"$log2",TMP_Math_log2_24=function(x){return $truthy(Opal.const_get_relative($nesting,"String")["$==="](x))&&this.$raise(Opal.const_get_relative($nesting,"Opal").$type_error(x,Opal.const_get_relative($nesting,"Float"))),Opal.const_get_relative($nesting,"Math").$checked("log2",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_log2_24.$$arity=1),Opal.defn(self,"$sin",TMP_Math_sin_25=function(x){return Opal.const_get_relative($nesting,"Math").$checked("sin",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_sin_25.$$arity=1),$truthy(void 0!==Math.sinh)||(Math.sinh=function(x){return(Math.exp(x)-Math.exp(-x))/2}),Opal.defn(self,"$sinh",TMP_Math_sinh_26=function(x){return Opal.const_get_relative($nesting,"Math").$checked("sinh",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_sinh_26.$$arity=1),Opal.defn(self,"$sqrt",TMP_Math_sqrt_27=function(x){return Opal.const_get_relative($nesting,"Math").$checked("sqrt",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_sqrt_27.$$arity=1),Opal.defn(self,"$tan",TMP_Math_tan_28=function(x){return x=Opal.const_get_relative($nesting,"Math")["$float!"](x),$truthy(x["$infinite?"]())?Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"NAN"):Opal.const_get_relative($nesting,"Math").$checked("tan",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_tan_28.$$arity=1),$truthy(void 0!==Math.tanh)||(Math.tanh=function(x){return x==1/0?1:x==-1/0?-1:(Math.exp(x)-Math.exp(-x))/(Math.exp(x)+Math.exp(-x))}),Opal.defn(self,"$tanh",TMP_Math_tanh_29=function(x){return Opal.const_get_relative($nesting,"Math").$checked("tanh",Opal.const_get_relative($nesting,"Math")["$float!"](x))},TMP_Math_tanh_29.$$arity=1)}($nesting[0],$nesting)},Opal.modules["corelib/complex"]=function(Opal){function $rb_times(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs*rhs:lhs["$*"](rhs)}function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}function $rb_divide(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$truthy=Opal.truthy,$module=Opal.module;return Opal.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$to_s","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?","$infinite?"]),self.$require("corelib/numeric"),function($base,$super,$parent_nesting){function $Complex(){}var TMP_Complex_rect_1,TMP_Complex_polar_2,TMP_Complex_initialize_3,TMP_Complex_coerce_4,TMP_Complex_$eq$eq_5,TMP_Complex_$$_6,TMP_Complex_$_7,TMP_Complex_$_8,TMP_Complex_$_9,TMP_Complex_$_10,TMP_Complex_$$_11,TMP_Complex_abs_12,TMP_Complex_abs2_13,TMP_Complex_angle_14,TMP_Complex_conj_15,TMP_Complex_denominator_16,TMP_Complex_eql$q_17,TMP_Complex_fdiv_18,TMP_Complex_hash_19,TMP_Complex_inspect_20,TMP_Complex_numerator_21,TMP_Complex_polar_22,TMP_Complex_rationalize_23,TMP_Complex_real$q_24,TMP_Complex_rect_25,TMP_Complex_to_f_26,TMP_Complex_to_i_27,TMP_Complex_to_r_28,TMP_Complex_to_s_29,self=$Complex=$klass($base,$super,"Complex",$Complex),def=self.$$proto,$nesting=[self].concat($parent_nesting);def.real=def.imag=nil,Opal.defs(self,"$rect",TMP_Complex_rect_1=function(real,imag){var $a,$b,$c;return null==imag&&(imag=0),$truthy($truthy($a=$truthy($b=$truthy($c=Opal.const_get_relative($nesting,"Numeric")["$==="](real))?real["$real?"]():$c)?Opal.const_get_relative($nesting,"Numeric")["$==="](imag):$b)?imag["$real?"]():$a)||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"not a real"),this.$new(real,imag)},TMP_Complex_rect_1.$$arity=-2),function(self,$parent_nesting){self.$$proto,[self].concat($parent_nesting);Opal.alias(self,"rectangular","rect")}(Opal.get_singleton_class(self),$nesting),Opal.defs(self,"$polar",TMP_Complex_polar_2=function(r,theta){var $a,$b,$c;return null==theta&&(theta=0),$truthy($truthy($a=$truthy($b=$truthy($c=Opal.const_get_relative($nesting,"Numeric")["$==="](r))?r["$real?"]():$c)?Opal.const_get_relative($nesting,"Numeric")["$==="](theta):$b)?theta["$real?"]():$a)||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"not a real"),this.$new($rb_times(r,Opal.const_get_relative($nesting,"Math").$cos(theta)),$rb_times(r,Opal.const_get_relative($nesting,"Math").$sin(theta)))},TMP_Complex_polar_2.$$arity=-2),self.$attr_reader("real","imag"),Opal.defn(self,"$initialize",TMP_Complex_initialize_3=function(real,imag){return null==imag&&(imag=0),this.real=real,this.imag=imag},TMP_Complex_initialize_3.$$arity=-2),Opal.defn(self,"$coerce",TMP_Complex_coerce_4=function(other){var $a;return $truthy(Opal.const_get_relative($nesting,"Complex")["$==="](other))?[other,this]:$truthy($truthy($a=Opal.const_get_relative($nesting,"Numeric")["$==="](other))?other["$real?"]():$a)?[Opal.const_get_relative($nesting,"Complex").$new(other,0),this]:this.$raise(Opal.const_get_relative($nesting,"TypeError"),other.$class()+" can't be coerced into Complex")},TMP_Complex_coerce_4.$$arity=1),Opal.defn(self,"$==",TMP_Complex_$eq$eq_5=function(other){var $a;return $truthy(Opal.const_get_relative($nesting,"Complex")["$==="](other))?($a=this.real["$=="](other.$real()))?this.imag["$=="](other.$imag()):this.real["$=="](other.$real()):$truthy($truthy($a=Opal.const_get_relative($nesting,"Numeric")["$==="](other))?other["$real?"]():$a)?($a=this.real["$=="](other))?this.imag["$=="](0):this.real["$=="](other):other["$=="](this)},TMP_Complex_$eq$eq_5.$$arity=1),Opal.defn(self,"$-@",TMP_Complex_$$_6=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},TMP_Complex_$$_6.$$arity=0),Opal.defn(self,"$+",TMP_Complex_$_7=function(other){var $a;return $truthy(Opal.const_get_relative($nesting,"Complex")["$==="](other))?this.$Complex($rb_plus(this.real,other.$real()),$rb_plus(this.imag,other.$imag())):$truthy($truthy($a=Opal.const_get_relative($nesting,"Numeric")["$==="](other))?other["$real?"]():$a)?this.$Complex($rb_plus(this.real,other),this.imag):this.$__coerced__("+",other)},TMP_Complex_$_7.$$arity=1),Opal.defn(self,"$-",TMP_Complex_$_8=function(other){var $a;return $truthy(Opal.const_get_relative($nesting,"Complex")["$==="](other))?this.$Complex($rb_minus(this.real,other.$real()),$rb_minus(this.imag,other.$imag())):$truthy($truthy($a=Opal.const_get_relative($nesting,"Numeric")["$==="](other))?other["$real?"]():$a)?this.$Complex($rb_minus(this.real,other),this.imag):this.$__coerced__("-",other)},TMP_Complex_$_8.$$arity=1),Opal.defn(self,"$*",TMP_Complex_$_9=function(other){var $a;return $truthy(Opal.const_get_relative($nesting,"Complex")["$==="](other))?this.$Complex($rb_minus($rb_times(this.real,other.$real()),$rb_times(this.imag,other.$imag())),$rb_plus($rb_times(this.real,other.$imag()),$rb_times(this.imag,other.$real()))):$truthy($truthy($a=Opal.const_get_relative($nesting,"Numeric")["$==="](other))?other["$real?"]():$a)?this.$Complex($rb_times(this.real,other),$rb_times(this.imag,other)):this.$__coerced__("*",other)},TMP_Complex_$_9.$$arity=1),Opal.defn(self,"$/",TMP_Complex_$_10=function(other){var $a,$b,$c,$d;return $truthy(Opal.const_get_relative($nesting,"Complex")["$==="](other))?$truthy($truthy($a=$truthy($b=$truthy($c=$truthy($d=Opal.const_get_relative($nesting,"Number")["$==="](this.real))?this.real["$nan?"]():$d)?$c:$truthy($d=Opal.const_get_relative($nesting,"Number")["$==="](this.imag))?this.imag["$nan?"]():$d)?$b:$truthy($c=Opal.const_get_relative($nesting,"Number")["$==="](other.$real()))?other.$real()["$nan?"]():$c)?$a:$truthy($b=Opal.const_get_relative($nesting,"Number")["$==="](other.$imag()))?other.$imag()["$nan?"]():$b)?Opal.const_get_relative($nesting,"Complex").$new(Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"NAN"),Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"NAN")):$rb_divide($rb_times(this,other.$conj()),other.$abs2()):$truthy($truthy($a=Opal.const_get_relative($nesting,"Numeric")["$==="](other))?other["$real?"]():$a)?this.$Complex(this.real.$quo(other),this.imag.$quo(other)):this.$__coerced__("/",other)},TMP_Complex_$_10.$$arity=1),Opal.defn(self,"$**",TMP_Complex_$$_11=function(other){var $a,$b,$c,$d,lhs,rhs,r=nil,theta=nil,ore=nil,oim=nil,nr=nil,ntheta=nil,x=nil,z=nil,n=nil,div=nil;if(other["$=="](0))return Opal.const_get_relative($nesting,"Complex").$new(1,0);if($truthy(Opal.const_get_relative($nesting,"Complex")["$==="](other)))return $b=this.$polar(),r=null==($a=Opal.to_ary($b))[0]?nil:$a[0],theta=null==$a[1]?nil:$a[1],ore=other.$real(),oim=other.$imag(),nr=Opal.const_get_relative($nesting,"Math").$exp($rb_minus($rb_times(ore,Opal.const_get_relative($nesting,"Math").$log(r)),$rb_times(oim,theta))),ntheta=$rb_plus($rb_times(theta,ore),$rb_times(oim,Opal.const_get_relative($nesting,"Math").$log(r))),Opal.const_get_relative($nesting,"Complex").$polar(nr,ntheta);if($truthy(Opal.const_get_relative($nesting,"Integer")["$==="](other))){if($truthy((rhs=0,"number"==typeof(lhs=other)&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)))){for(z=x=this,n=$rb_minus(other,1);$truthy(n["$!="](0));){for(;$truthy(($d=n.$divmod(2),div=null==($c=Opal.to_ary($d))[0]?nil:$c[0],(null==$c[1]?nil:$c[1])["$=="](0)));)x=this.$Complex($rb_minus($rb_times(x.$real(),x.$real()),$rb_times(x.$imag(),x.$imag())),$rb_times($rb_times(2,x.$real()),x.$imag())),n=div;z=$rb_times(z,x),n=$rb_minus(n,1)}return z}return $rb_divide(Opal.const_get_relative($nesting,"Rational").$new(1,1),this)["$**"](other["$-@"]())}return $truthy($truthy($a=Opal.const_get_relative($nesting,"Float")["$==="](other))?$a:Opal.const_get_relative($nesting,"Rational")["$==="](other))?($b=this.$polar(),r=null==($a=Opal.to_ary($b))[0]?nil:$a[0],theta=null==$a[1]?nil:$a[1],Opal.const_get_relative($nesting,"Complex").$polar(r["$**"](other),$rb_times(theta,other))):this.$__coerced__("**",other)},TMP_Complex_$$_11.$$arity=1),Opal.defn(self,"$abs",TMP_Complex_abs_12=function(){return Opal.const_get_relative($nesting,"Math").$hypot(this.real,this.imag)},TMP_Complex_abs_12.$$arity=0),Opal.defn(self,"$abs2",TMP_Complex_abs2_13=function(){return $rb_plus($rb_times(this.real,this.real),$rb_times(this.imag,this.imag))},TMP_Complex_abs2_13.$$arity=0),Opal.defn(self,"$angle",TMP_Complex_angle_14=function(){return Opal.const_get_relative($nesting,"Math").$atan2(this.imag,this.real)},TMP_Complex_angle_14.$$arity=0),Opal.alias(self,"arg","angle"),Opal.defn(self,"$conj",TMP_Complex_conj_15=function(){return this.$Complex(this.real,this.imag["$-@"]())},TMP_Complex_conj_15.$$arity=0),Opal.alias(self,"conjugate","conj"),Opal.defn(self,"$denominator",TMP_Complex_denominator_16=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},TMP_Complex_denominator_16.$$arity=0),Opal.alias(self,"divide","/"),Opal.defn(self,"$eql?",TMP_Complex_eql$q_17=function(other){var $a,$b;return $truthy($a=$truthy($b=Opal.const_get_relative($nesting,"Complex")["$==="](other))?this.real.$class()["$=="](this.imag.$class()):$b)?this["$=="](other):$a},TMP_Complex_eql$q_17.$$arity=1),Opal.defn(self,"$fdiv",TMP_Complex_fdiv_18=function(other){return $truthy(Opal.const_get_relative($nesting,"Numeric")["$==="](other))||this.$raise(Opal.const_get_relative($nesting,"TypeError"),other.$class()+" can't be coerced into Complex"),$rb_divide(this,other)},TMP_Complex_fdiv_18.$$arity=1),Opal.defn(self,"$hash",TMP_Complex_hash_19=function(){return"Complex:"+this.real+":"+this.imag},TMP_Complex_hash_19.$$arity=0),Opal.alias(self,"imaginary","imag"),Opal.defn(self,"$inspect",TMP_Complex_inspect_20=function(){return"("+this.$to_s()+")"},TMP_Complex_inspect_20.$$arity=0),Opal.alias(self,"magnitude","abs"),Opal.udef(self,"$negative?"),Opal.defn(self,"$numerator",TMP_Complex_numerator_21=function(){var d;return d=this.$denominator(),this.$Complex($rb_times(this.real.$numerator(),$rb_divide(d,this.real.$denominator())),$rb_times(this.imag.$numerator(),$rb_divide(d,this.imag.$denominator())))},TMP_Complex_numerator_21.$$arity=0),Opal.alias(self,"phase","arg"),Opal.defn(self,"$polar",TMP_Complex_polar_22=function(){return[this.$abs(),this.$arg()]},TMP_Complex_polar_22.$$arity=0),Opal.udef(self,"$positive?"),Opal.alias(self,"quo","/"),Opal.defn(self,"$rationalize",TMP_Complex_rationalize_23=function(eps){return 1<arguments.length&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),$truthy(this.imag["$!="](0))&&this.$raise(Opal.const_get_relative($nesting,"RangeError"),"can't' convert "+this+" into Rational"),this.$real().$rationalize(eps)},TMP_Complex_rationalize_23.$$arity=-1),Opal.defn(self,"$real?",TMP_Complex_real$q_24=function(){return!1},TMP_Complex_real$q_24.$$arity=0),Opal.defn(self,"$rect",TMP_Complex_rect_25=function(){return[this.real,this.imag]},TMP_Complex_rect_25.$$arity=0),Opal.alias(self,"rectangular","rect"),Opal.defn(self,"$to_f",TMP_Complex_to_f_26=function(){return this.imag["$=="](0)||this.$raise(Opal.const_get_relative($nesting,"RangeError"),"can't convert "+this+" into Float"),this.real.$to_f()},TMP_Complex_to_f_26.$$arity=0),Opal.defn(self,"$to_i",TMP_Complex_to_i_27=function(){return this.imag["$=="](0)||this.$raise(Opal.const_get_relative($nesting,"RangeError"),"can't convert "+this+" into Integer"),this.real.$to_i()},TMP_Complex_to_i_27.$$arity=0),Opal.defn(self,"$to_r",TMP_Complex_to_r_28=function(){return this.imag["$=="](0)||this.$raise(Opal.const_get_relative($nesting,"RangeError"),"can't convert "+this+" into Rational"),this.real.$to_r()},TMP_Complex_to_r_28.$$arity=0),Opal.defn(self,"$to_s",TMP_Complex_to_s_29=function(){var $a,$b,$c,result=nil;return result=this.real.$inspect(),result=$rb_plus(result=$truthy($truthy($a=$truthy($b=$truthy($c=Opal.const_get_relative($nesting,"Number")["$==="](this.imag))?this.imag["$nan?"]():$c)?$b:this.imag["$positive?"]())?$a:this.imag["$zero?"]())?$rb_plus(result,"+"):$rb_plus(result,"-"),this.imag.$abs().$inspect()),$truthy($truthy($a=Opal.const_get_relative($nesting,"Number")["$==="](this.imag))?$truthy($b=this.imag["$nan?"]())?$b:this.imag["$infinite?"]():$a)&&(result=$rb_plus(result,"*")),$rb_plus(result,"i")},TMP_Complex_to_s_29.$$arity=0),Opal.const_set($nesting[0],"I",self.$new(0,1))}($nesting[0],Opal.const_get_relative($nesting,"Numeric"),$nesting),function($base,$parent_nesting){var TMP_Kernel_Complex_30,self=$module($base,"Kernel"),$nesting=(self.$$proto,[self].concat($parent_nesting));Opal.defn(self,"$Complex",TMP_Kernel_Complex_30=function(real,imag){return null==imag&&(imag=nil),$truthy(imag)?Opal.const_get_relative($nesting,"Complex").$new(real,imag):Opal.const_get_relative($nesting,"Complex").$new(real,0)},TMP_Kernel_Complex_30.$$arity=-2)}($nesting[0],$nesting)},Opal.modules["corelib/rational"]=function(Opal){function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}function $rb_divide(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)}function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}function $rb_times(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs*rhs:lhs["$*"](rhs)}function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$truthy=Opal.truthy,$module=Opal.module;return Opal.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$attr_reader","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$to_s","$<=","$truncate","$send","$convert"]),self.$require("corelib/numeric"),function($base,$super,$parent_nesting){function $Rational(){}var TMP_Rational_reduce_1,TMP_Rational_convert_2,TMP_Rational_initialize_3,TMP_Rational_numerator_4,TMP_Rational_denominator_5,TMP_Rational_coerce_6,TMP_Rational_$eq$eq_7,TMP_Rational_$lt$eq$gt_8,TMP_Rational_$_9,TMP_Rational_$_10,TMP_Rational_$_11,TMP_Rational_$_12,TMP_Rational_$$_13,TMP_Rational_abs_14,TMP_Rational_ceil_15,TMP_Rational_floor_16,TMP_Rational_hash_17,TMP_Rational_inspect_18,TMP_Rational_rationalize_19,TMP_Rational_round_20,TMP_Rational_to_f_21,TMP_Rational_to_i_22,TMP_Rational_to_r_23,TMP_Rational_to_s_24,TMP_Rational_truncate_25,TMP_Rational_with_precision_26,self=$Rational=$klass($base,$super,"Rational",$Rational),def=self.$$proto,$nesting=[self].concat($parent_nesting);def.num=def.den=nil,Opal.defs(self,"$reduce",TMP_Rational_reduce_1=function(num,den){var gcd;if(num=num.$to_i(),(den=den.$to_i())["$=="](0))this.$raise(Opal.const_get_relative($nesting,"ZeroDivisionError"),"divided by 0");else if($truthy($rb_lt(den,0)))num=num["$-@"](),den=den["$-@"]();else if(den["$=="](1))return this.$new(num,den);return gcd=num.$gcd(den),this.$new($rb_divide(num,gcd),$rb_divide(den,gcd))},TMP_Rational_reduce_1.$$arity=2),Opal.defs(self,"$convert",TMP_Rational_convert_2=function(num,den){var $a,$b;return $truthy($truthy($a=num["$nil?"]())?$a:den["$nil?"]())&&this.$raise(Opal.const_get_relative($nesting,"TypeError"),"cannot convert nil into Rational"),$truthy($truthy($a=Opal.const_get_relative($nesting,"Integer")["$==="](num))?Opal.const_get_relative($nesting,"Integer")["$==="](den):$a)?this.$reduce(num,den):($truthy($truthy($a=$truthy($b=Opal.const_get_relative($nesting,"Float")["$==="](num))?$b:Opal.const_get_relative($nesting,"String")["$==="](num))?$a:Opal.const_get_relative($nesting,"Complex")["$==="](num))&&(num=num.$to_r()),$truthy($truthy($a=$truthy($b=Opal.const_get_relative($nesting,"Float")["$==="](den))?$b:Opal.const_get_relative($nesting,"String")["$==="](den))?$a:Opal.const_get_relative($nesting,"Complex")["$==="](den))&&(den=den.$to_r()),$truthy($truthy($a=den["$equal?"](1))?Opal.const_get_relative($nesting,"Integer")["$==="](num)["$!"]():$a)?Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](num,Opal.const_get_relative($nesting,"Rational"),"to_r"):$truthy($truthy($a=Opal.const_get_relative($nesting,"Numeric")["$==="](num))?Opal.const_get_relative($nesting,"Numeric")["$==="](den):$a)?$rb_divide(num,den):this.$reduce(num,den))},TMP_Rational_convert_2.$$arity=2),self.$attr_reader("numerator","denominator"),Opal.defn(self,"$initialize",TMP_Rational_initialize_3=function(num,den){return this.num=num,this.den=den},TMP_Rational_initialize_3.$$arity=2),Opal.defn(self,"$numerator",TMP_Rational_numerator_4=function(){return this.num},TMP_Rational_numerator_4.$$arity=0),Opal.defn(self,"$denominator",TMP_Rational_denominator_5=function(){return this.den},TMP_Rational_denominator_5.$$arity=0),Opal.defn(self,"$coerce",TMP_Rational_coerce_6=function(other){var self=this,$case=nil;return $case=other,Opal.const_get_relative($nesting,"Rational")["$==="]($case)?[other,self]:Opal.const_get_relative($nesting,"Integer")["$==="]($case)?[other.$to_r(),self]:Opal.const_get_relative($nesting,"Float")["$==="]($case)?[other,self.$to_f()]:nil},TMP_Rational_coerce_6.$$arity=1),Opal.defn(self,"$==",TMP_Rational_$eq$eq_7=function(other){var self=this,$case=nil;return $case=other,Opal.const_get_relative($nesting,"Rational")["$==="]($case)?self.num["$=="](other.$numerator())?self.den["$=="](other.$denominator()):self.num["$=="](other.$numerator()):Opal.const_get_relative($nesting,"Integer")["$==="]($case)?self.num["$=="](other)?self.den["$=="](1):self.num["$=="](other):Opal.const_get_relative($nesting,"Float")["$==="]($case)?self.$to_f()["$=="](other):other["$=="](self)},TMP_Rational_$eq$eq_7.$$arity=1),Opal.defn(self,"$<=>",TMP_Rational_$lt$eq$gt_8=function(other){var self=this,$case=nil;return $case=other,Opal.const_get_relative($nesting,"Rational")["$==="]($case)?$rb_minus($rb_times(self.num,other.$denominator()),$rb_times(self.den,other.$numerator()))["$<=>"](0):Opal.const_get_relative($nesting,"Integer")["$==="]($case)?$rb_minus(self.num,$rb_times(self.den,other))["$<=>"](0):Opal.const_get_relative($nesting,"Float")["$==="]($case)?self.$to_f()["$<=>"](other):self.$__coerced__("<=>",other)},TMP_Rational_$lt$eq$gt_8.$$arity=1),Opal.defn(self,"$+",TMP_Rational_$_9=function(other){var self=this,$case=nil,num=nil,den=nil;return $case=other,Opal.const_get_relative($nesting,"Rational")["$==="]($case)?(num=$rb_plus($rb_times(self.num,other.$denominator()),$rb_times(self.den,other.$numerator())),den=$rb_times(self.den,other.$denominator()),self.$Rational(num,den)):Opal.const_get_relative($nesting,"Integer")["$==="]($case)?self.$Rational($rb_plus(self.num,$rb_times(other,self.den)),self.den):Opal.const_get_relative($nesting,"Float")["$==="]($case)?$rb_plus(self.$to_f(),other):self.$__coerced__("+",other)},TMP_Rational_$_9.$$arity=1),Opal.defn(self,"$-",TMP_Rational_$_10=function(other){var self=this,$case=nil,num=nil,den=nil;return $case=other,Opal.const_get_relative($nesting,"Rational")["$==="]($case)?(num=$rb_minus($rb_times(self.num,other.$denominator()),$rb_times(self.den,other.$numerator())),den=$rb_times(self.den,other.$denominator()),self.$Rational(num,den)):Opal.const_get_relative($nesting,"Integer")["$==="]($case)?self.$Rational($rb_minus(self.num,$rb_times(other,self.den)),self.den):Opal.const_get_relative($nesting,"Float")["$==="]($case)?$rb_minus(self.$to_f(),other):self.$__coerced__("-",other)},TMP_Rational_$_10.$$arity=1),Opal.defn(self,"$*",TMP_Rational_$_11=function(other){var self=this,$case=nil,num=nil,den=nil;return $case=other,Opal.const_get_relative($nesting,"Rational")["$==="]($case)?(num=$rb_times(self.num,other.$numerator()),den=$rb_times(self.den,other.$denominator()),self.$Rational(num,den)):Opal.const_get_relative($nesting,"Integer")["$==="]($case)?self.$Rational($rb_times(self.num,other),self.den):Opal.const_get_relative($nesting,"Float")["$==="]($case)?$rb_times(self.$to_f(),other):self.$__coerced__("*",other)},TMP_Rational_$_11.$$arity=1),Opal.defn(self,"$/",TMP_Rational_$_12=function(other){var self=this,$case=nil,num=nil,den=nil;return $case=other,Opal.const_get_relative($nesting,"Rational")["$==="]($case)?(num=$rb_times(self.num,other.$denominator()),den=$rb_times(self.den,other.$numerator()),self.$Rational(num,den)):Opal.const_get_relative($nesting,"Integer")["$==="]($case)?other["$=="](0)?$rb_divide(self.$to_f(),0):self.$Rational(self.num,$rb_times(self.den,other)):Opal.const_get_relative($nesting,"Float")["$==="]($case)?$rb_divide(self.$to_f(),other):self.$__coerced__("/",other)},TMP_Rational_$_12.$$arity=1),Opal.defn(self,"$**",TMP_Rational_$$_13=function(other){var lhs,rhs,self=this,$case=nil;return $case=other,Opal.const_get_relative($nesting,"Integer")["$==="]($case)?$truthy(self["$=="](0)?$rb_lt(other,0):self["$=="](0))?Opal.const_get_qualified(Opal.const_get_relative($nesting,"Float"),"INFINITY"):$truthy((rhs=0,"number"==typeof(lhs=other)&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)))?self.$Rational(self.num["$**"](other),self.den["$**"](other)):$truthy($rb_lt(other,0))?self.$Rational(self.den["$**"](other["$-@"]()),self.num["$**"](other["$-@"]())):self.$Rational(1,1):Opal.const_get_relative($nesting,"Float")["$==="]($case)?self.$to_f()["$**"](other):Opal.const_get_relative($nesting,"Rational")["$==="]($case)?other["$=="](0)?self.$Rational(1,1):other.$denominator()["$=="](1)?$truthy($rb_lt(other,0))?self.$Rational(self.den["$**"](other.$numerator().$abs()),self.num["$**"](other.$numerator().$abs())):self.$Rational(self.num["$**"](other.$numerator()),self.den["$**"](other.$numerator())):$truthy(self["$=="](0)?$rb_lt(other,0):self["$=="](0))?self.$raise(Opal.const_get_relative($nesting,"ZeroDivisionError"),"divided by 0"):self.$to_f()["$**"](other):self.$__coerced__("**",other)},TMP_Rational_$$_13.$$arity=1),Opal.defn(self,"$abs",TMP_Rational_abs_14=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},TMP_Rational_abs_14.$$arity=0),Opal.defn(self,"$ceil",TMP_Rational_ceil_15=function(precision){return null==precision&&(precision=0),precision["$=="](0)?$rb_divide(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",precision)},TMP_Rational_ceil_15.$$arity=-1),Opal.alias(self,"divide","/"),Opal.defn(self,"$floor",TMP_Rational_floor_16=function(precision){return null==precision&&(precision=0),precision["$=="](0)?$rb_divide(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",precision)},TMP_Rational_floor_16.$$arity=-1),Opal.defn(self,"$hash",TMP_Rational_hash_17=function(){return"Rational:"+this.num+":"+this.den},TMP_Rational_hash_17.$$arity=0),Opal.defn(self,"$inspect",TMP_Rational_inspect_18=function(){return"("+this.$to_s()+")"},TMP_Rational_inspect_18.$$arity=0),Opal.alias(self,"quo","/"),Opal.defn(self,"$rationalize",TMP_Rational_rationalize_19=function(eps){if(1<arguments.length&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==eps)return this;for(var p2,q2,c,k,t,lhs,rhs,e=eps.$abs(),a=$rb_minus(this,e),b=$rb_plus(this,e),p0=0,p1=1,q0=1,q1=0;c=a.$ceil(),rhs=b,!("number"==typeof(lhs=c)&&"number"==typeof rhs?lhs<=rhs:lhs["$<="](rhs));)p2=(k=c-1)*p1+p0,q2=k*q1+q0,t=$rb_divide(1,$rb_minus(b,k)),b=$rb_divide(1,$rb_minus(a,k)),a=t,p0=p1,q0=q1,p1=p2,q1=q2;return this.$Rational(c*p1+p0,c*q1+q0)},TMP_Rational_rationalize_19.$$arity=-1),Opal.defn(self,"$round",TMP_Rational_round_20=function(precision){var approx=nil;return null==precision&&(precision=0),precision["$=="](0)?this.num["$=="](0)?0:this.den["$=="](1)?this.num:(approx=$rb_divide($rb_plus($rb_times(this.num.$abs(),2),this.den),$rb_times(this.den,2)).$truncate(),$truthy($rb_lt(this.num,0))?approx["$-@"]():approx):this.$with_precision("round",precision)},TMP_Rational_round_20.$$arity=-1),Opal.defn(self,"$to_f",TMP_Rational_to_f_21=function(){return $rb_divide(this.num,this.den)},TMP_Rational_to_f_21.$$arity=0),Opal.defn(self,"$to_i",TMP_Rational_to_i_22=function(){return this.$truncate()},TMP_Rational_to_i_22.$$arity=0),Opal.defn(self,"$to_r",TMP_Rational_to_r_23=function(){return this},TMP_Rational_to_r_23.$$arity=0),Opal.defn(self,"$to_s",TMP_Rational_to_s_24=function(){return this.num+"/"+this.den},TMP_Rational_to_s_24.$$arity=0),Opal.defn(self,"$truncate",TMP_Rational_truncate_25=function(precision){return null==precision&&(precision=0),precision["$=="](0)?$truthy($rb_lt(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",precision)},TMP_Rational_truncate_25.$$arity=-1),Opal.defn(self,"$with_precision",TMP_Rational_with_precision_26=function(method,precision){var p,s=nil;return $truthy(Opal.const_get_relative($nesting,"Integer")["$==="](precision))||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"not an Integer"),s=$rb_times(this,p=10["$**"](precision)),$truthy($rb_lt(precision,1))?$rb_divide(s.$send(method),p).$to_i():this.$Rational(s.$send(method),p)},TMP_Rational_with_precision_26.$$arity=2)}($nesting[0],Opal.const_get_relative($nesting,"Numeric"),$nesting),function($base,$parent_nesting){var TMP_Kernel_Rational_27,self=$module($base,"Kernel"),$nesting=(self.$$proto,[self].concat($parent_nesting));Opal.defn(self,"$Rational",TMP_Kernel_Rational_27=function(numerator,denominator){return null==denominator&&(denominator=1),Opal.const_get_relative($nesting,"Rational").$convert(numerator,denominator)},TMP_Kernel_Rational_27.$$arity=-2)}($nesting[0],$nesting)},Opal.modules["corelib/time"]=function(Opal){function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}function $rb_divide(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs/rhs:lhs["$/"](rhs)}function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}function $rb_le(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<=rhs:lhs["$<="](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$slice=(Opal.breaker,Opal.slice),$klass=Opal.klass,$truthy=Opal.truthy,$range=Opal.range;return Opal.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),self.$require("corelib/comparable"),function($base,$super,$parent_nesting){function $Time(){}var TMP_Time_at_1,TMP_Time_new_2,TMP_Time_local_3,TMP_Time_gm_4,TMP_Time_now_5,TMP_Time_$_6,TMP_Time_$_7,TMP_Time_$lt$eq$gt_8,TMP_Time_$eq$eq_9,TMP_Time_asctime_10,TMP_Time_day_11,TMP_Time_yday_12,TMP_Time_isdst_13,TMP_Time_dup_14,TMP_Time_eql$q_15,TMP_Time_friday$q_16,TMP_Time_hash_17,TMP_Time_hour_18,TMP_Time_inspect_19,TMP_Time_min_20,TMP_Time_mon_21,TMP_Time_monday$q_22,TMP_Time_saturday$q_23,TMP_Time_sec_24,TMP_Time_succ_25,TMP_Time_usec_26,TMP_Time_zone_27,TMP_Time_getgm_28,TMP_Time_gmtime_29,TMP_Time_gmt$q_30,TMP_Time_gmt_offset_31,TMP_Time_strftime_32,TMP_Time_sunday$q_33,TMP_Time_thursday$q_34,TMP_Time_to_a_35,TMP_Time_to_f_36,TMP_Time_to_i_37,TMP_Time_tuesday$q_38,TMP_Time_wday_39,TMP_Time_wednesday$q_40,TMP_Time_year_41,TMP_Time_cweek_cyear_42,self=$Time=$klass($base,$super,"Time",$Time),$nesting=(self.$$proto,[self].concat($parent_nesting));self.$include(Opal.const_get_relative($nesting,"Comparable"));var days_of_week=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],short_days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],short_months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long_months=["January","February","March","April","May","June","July","August","September","October","November","December"];function time_params(year,month,day,hour,min,sec){if(year=year.$$is_string?parseInt(year,10):Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](year,Opal.const_get_relative($nesting,"Integer"),"to_int"),month===nil)month=1;else if(!month.$$is_number)if(month["$respond_to?"]("to_str"))switch((month=month.$to_str()).toLowerCase()){case"jan":month=1;break;case"feb":month=2;break;case"mar":month=3;break;case"apr":month=4;break;case"may":month=5;break;case"jun":month=6;break;case"jul":month=7;break;case"aug":month=8;break;case"sep":month=9;break;case"oct":month=10;break;case"nov":month=11;break;case"dec":month=12;break;default:month=month.$to_i()}else month=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](month,Opal.const_get_relative($nesting,"Integer"),"to_int");return(month<1||12<month)&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"month out of range: "+month),month-=1,((day=day===nil?1:day.$$is_string?parseInt(day,10):Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](day,Opal.const_get_relative($nesting,"Integer"),"to_int"))<1||31<day)&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"day out of range: "+day),((hour=hour===nil?0:hour.$$is_string?parseInt(hour,10):Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](hour,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0||24<hour)&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"hour out of range: "+hour),((min=min===nil?0:min.$$is_string?parseInt(min,10):Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](min,Opal.const_get_relative($nesting,"Integer"),"to_int"))<0||59<min)&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"min out of range: "+min),sec===nil?sec=0:sec.$$is_number||(sec=sec.$$is_string?parseInt(sec,10):Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](sec,Opal.const_get_relative($nesting,"Integer"),"to_int")),(sec<0||60<sec)&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"sec out of range: "+sec),[year,month,day,hour,min,sec]}return Opal.defs(self,"$at",TMP_Time_at_1=function(seconds,frac){var result;return Opal.const_get_relative($nesting,"Time")["$==="](seconds)?(void 0!==frac&&this.$raise(Opal.const_get_relative($nesting,"TypeError"),"can't convert Time into an exact number"),(result=new Date(seconds.getTime())).is_utc=seconds.is_utc,result):(seconds.$$is_number||(seconds=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](seconds,Opal.const_get_relative($nesting,"Integer"),"to_int")),void 0===frac?new Date(1e3*seconds):(frac.$$is_number||(frac=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](frac,Opal.const_get_relative($nesting,"Integer"),"to_int")),new Date(1e3*seconds+frac/1e3)))},TMP_Time_at_1.$$arity=-2),Opal.defs(self,"$new",TMP_Time_new_2=function(year,month,day,hour,min,sec,utc_offset){var args,result;return null==month&&(month=nil),null==day&&(day=nil),null==hour&&(hour=nil),null==min&&(min=nil),null==sec&&(sec=nil),null==utc_offset&&(utc_offset=nil),void 0===year?new Date:(utc_offset!==nil&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),year=(args=time_params(year,month,day,hour,min,sec))[0],month=args[1],day=args[2],hour=args[3],min=args[4],sec=args[5],result=new Date(year,month,day,hour,min,0,1e3*sec),year<100&&result.setFullYear(year),result)},TMP_Time_new_2.$$arity=-1),Opal.defs(self,"$local",TMP_Time_local_3=function(year,month,day,hour,min,sec,millisecond,_dummy1,_dummy2,_dummy3){var args,result;return null==month&&(month=nil),null==day&&(day=nil),null==hour&&(hour=nil),null==min&&(min=nil),null==sec&&(sec=nil),null==millisecond&&(millisecond=nil),null==_dummy1&&(_dummy1=nil),null==_dummy2&&(_dummy2=nil),null==_dummy3&&(_dummy3=nil),10===arguments.length&&(year=(args=$slice.call(arguments))[5],month=args[4],day=args[3],hour=args[2],min=args[1],sec=args[0]),year=(args=time_params(year,month,day,hour,min,sec))[0],month=args[1],day=args[2],hour=args[3],min=args[4],sec=args[5],result=new Date(year,month,day,hour,min,0,1e3*sec),year<100&&result.setFullYear(year),result},TMP_Time_local_3.$$arity=-2),Opal.defs(self,"$gm",TMP_Time_gm_4=function(year,month,day,hour,min,sec,millisecond,_dummy1,_dummy2,_dummy3){var args,result;return null==month&&(month=nil),null==day&&(day=nil),null==hour&&(hour=nil),null==min&&(min=nil),null==sec&&(sec=nil),null==millisecond&&(millisecond=nil),null==_dummy1&&(_dummy1=nil),null==_dummy2&&(_dummy2=nil),null==_dummy3&&(_dummy3=nil),10===arguments.length&&(year=(args=$slice.call(arguments))[5],month=args[4],day=args[3],hour=args[2],min=args[1],sec=args[0]),year=(args=time_params(year,month,day,hour,min,sec))[0],month=args[1],day=args[2],hour=args[3],min=args[4],sec=args[5],result=new Date(Date.UTC(year,month,day,hour,min,0,1e3*sec)),year<100&&result.setUTCFullYear(year),result.is_utc=!0,result},TMP_Time_gm_4.$$arity=-2),function(self,$parent_nesting){self.$$proto,[self].concat($parent_nesting);Opal.alias(self,"mktime","local"),Opal.alias(self,"utc","gm")}(Opal.get_singleton_class(self),$nesting),Opal.defs(self,"$now",TMP_Time_now_5=function(){return this.$new()},TMP_Time_now_5.$$arity=0),Opal.defn(self,"$+",TMP_Time_$_6=function(other){$truthy(Opal.const_get_relative($nesting,"Time")["$==="](other))&&this.$raise(Opal.const_get_relative($nesting,"TypeError"),"time + time?"),other.$$is_number||(other=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](other,Opal.const_get_relative($nesting,"Integer"),"to_int"));var result=new Date(this.getTime()+1e3*other);return result.is_utc=this.is_utc,result},TMP_Time_$_6.$$arity=1),Opal.defn(self,"$-",TMP_Time_$_7=function(other){if($truthy(Opal.const_get_relative($nesting,"Time")["$==="](other)))return(this.getTime()-other.getTime())/1e3;other.$$is_number||(other=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](other,Opal.const_get_relative($nesting,"Integer"),"to_int"));var result=new Date(this.getTime()-1e3*other);return result.is_utc=this.is_utc,result},TMP_Time_$_7.$$arity=1),Opal.defn(self,"$<=>",TMP_Time_$lt$eq$gt_8=function(other){var lhs,rhs,r=nil;return $truthy(Opal.const_get_relative($nesting,"Time")["$==="](other))?this.$to_f()["$<=>"](other.$to_f()):(r=other["$<=>"](this),$truthy(r["$nil?"]())?nil:$truthy((rhs=0,"number"==typeof(lhs=r)&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)))?-1:$truthy(function(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}(r,0))?1:0)},TMP_Time_$lt$eq$gt_8.$$arity=1),Opal.defn(self,"$==",TMP_Time_$eq$eq_9=function(other){var $a;return $truthy($a=Opal.const_get_relative($nesting,"Time")["$==="](other))?this.$to_f()===other.$to_f():$a},TMP_Time_$eq$eq_9.$$arity=1),Opal.defn(self,"$asctime",TMP_Time_asctime_10=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},TMP_Time_asctime_10.$$arity=0),Opal.alias(self,"ctime","asctime"),Opal.defn(self,"$day",TMP_Time_day_11=function(){return this.is_utc?this.getUTCDate():this.getDate()},TMP_Time_day_11.$$arity=0),Opal.defn(self,"$yday",TMP_Time_yday_12=function(){var start_of_year;return start_of_year=Opal.const_get_relative($nesting,"Time").$new(this.$year()).$to_i(),86400,$rb_plus($rb_divide($rb_minus(Opal.const_get_relative($nesting,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),start_of_year),86400).$round(),1)},TMP_Time_yday_12.$$arity=0),Opal.defn(self,"$isdst",TMP_Time_isdst_13=function(){var jan=new Date(this.getFullYear(),0,1),jul=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(jan.getTimezoneOffset(),jul.getTimezoneOffset())},TMP_Time_isdst_13.$$arity=0),Opal.alias(self,"dst?","isdst"),Opal.defn(self,"$dup",TMP_Time_dup_14=function(){var copy=nil;return(copy=new Date(this.getTime())).$copy_instance_variables(this),copy.$initialize_dup(this),copy},TMP_Time_dup_14.$$arity=0),Opal.defn(self,"$eql?",TMP_Time_eql$q_15=function(other){var $a;return $truthy($a=other["$is_a?"](Opal.const_get_relative($nesting,"Time")))?this["$<=>"](other)["$zero?"]():$a},TMP_Time_eql$q_15.$$arity=1),Opal.defn(self,"$friday?",TMP_Time_friday$q_16=function(){return 5==this.$wday()},TMP_Time_friday$q_16.$$arity=0),Opal.defn(self,"$hash",TMP_Time_hash_17=function(){return"Time:"+this.getTime()},TMP_Time_hash_17.$$arity=0),Opal.defn(self,"$hour",TMP_Time_hour_18=function(){return this.is_utc?this.getUTCHours():this.getHours()},TMP_Time_hour_18.$$arity=0),Opal.defn(self,"$inspect",TMP_Time_inspect_19=function(){return $truthy(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},TMP_Time_inspect_19.$$arity=0),Opal.alias(self,"mday","day"),Opal.defn(self,"$min",TMP_Time_min_20=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},TMP_Time_min_20.$$arity=0),Opal.defn(self,"$mon",TMP_Time_mon_21=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},TMP_Time_mon_21.$$arity=0),Opal.defn(self,"$monday?",TMP_Time_monday$q_22=function(){return 1==this.$wday()},TMP_Time_monday$q_22.$$arity=0),Opal.alias(self,"month","mon"),Opal.defn(self,"$saturday?",TMP_Time_saturday$q_23=function(){return 6==this.$wday()},TMP_Time_saturday$q_23.$$arity=0),Opal.defn(self,"$sec",TMP_Time_sec_24=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},TMP_Time_sec_24.$$arity=0),Opal.defn(self,"$succ",TMP_Time_succ_25=function(){var result=new Date(this.getTime()+1e3);return result.is_utc=this.is_utc,result},TMP_Time_succ_25.$$arity=0),Opal.defn(self,"$usec",TMP_Time_usec_26=function(){return 1e3*this.getMilliseconds()},TMP_Time_usec_26.$$arity=0),Opal.defn(self,"$zone",TMP_Time_zone_27=function(){var result,string=this.toString();return"GMT"==(result=-1==string.indexOf("(")?string.match(/[A-Z]{3,4}/)[0]:string.match(/\((.+)\)(?:\s|$)/)[1])&&/(GMT\W*\d{4})/.test(string)?RegExp.$1:result},TMP_Time_zone_27.$$arity=0),Opal.defn(self,"$getgm",TMP_Time_getgm_28=function(){var result=new Date(this.getTime());return result.is_utc=!0,result},TMP_Time_getgm_28.$$arity=0),Opal.alias(self,"getutc","getgm"),Opal.defn(self,"$gmtime",TMP_Time_gmtime_29=function(){return this.is_utc=!0,this},TMP_Time_gmtime_29.$$arity=0),Opal.alias(self,"utc","gmtime"),Opal.defn(self,"$gmt?",TMP_Time_gmt$q_30=function(){return!0===this.is_utc},TMP_Time_gmt$q_30.$$arity=0),Opal.defn(self,"$gmt_offset",TMP_Time_gmt_offset_31=function(){return 60*-this.getTimezoneOffset()},TMP_Time_gmt_offset_31.$$arity=0),Opal.defn(self,"$strftime",TMP_Time_strftime_32=function(format){var self=this;return format.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(full,flags,width,_,conv){var result="",zero=-1!==flags.indexOf("0"),pad=-1===flags.indexOf("-"),blank=-1!==flags.indexOf("_"),upcase=-1!==flags.indexOf("^"),invert=-1!==flags.indexOf("#"),colons=(flags.match(":")||[]).length;switch(width=parseInt(width,10),zero&&blank&&(flags.indexOf("0")<flags.indexOf("_")?zero=!1:blank=!1),conv){case"Y":result+=self.$year();break;case"C":zero=!blank,result+=Math.round(self.$year()/100);break;case"y":zero=!blank,result+=self.$year()%100;break;case"m":zero=!blank,result+=self.$mon();break;case"B":result+=long_months[self.$mon()-1];break;case"b":case"h":blank=!zero,result+=short_months[self.$mon()-1];break;case"d":zero=!blank,result+=self.$day();break;case"e":blank=!zero,result+=self.$day();break;case"j":result+=self.$yday();break;case"H":zero=!blank,result+=self.$hour();break;case"k":blank=!zero,result+=self.$hour();break;case"I":zero=!blank,result+=self.$hour()%12||12;break;case"l":blank=!zero,result+=self.$hour()%12||12;break;case"P":result+=12<=self.$hour()?"pm":"am";break;case"p":result+=12<=self.$hour()?"PM":"AM";break;case"M":zero=!blank,result+=self.$min();break;case"S":zero=!blank,result+=self.$sec();break;case"L":zero=!blank,width=isNaN(width)?3:width,result+=self.getMilliseconds();break;case"N":width=isNaN(width)?9:width,result=(result+=self.getMilliseconds().toString().$rjust(3,"0")).$ljust(width,"0");break;case"z":var offset=self.getTimezoneOffset(),hours=Math.floor(Math.abs(offset)/60),minutes=Math.abs(offset)%60;result+=offset<0?"+":"-",result+=hours<10?"0":"",result+=hours,0<colons&&(result+=":"),result+=minutes<10?"0":"",result+=minutes,1<colons&&(result+=":00");break;case"Z":result+=self.$zone();break;case"A":result+=days_of_week[self.$wday()];break;case"a":result+=short_days[self.$wday()];break;case"u":result+=self.$wday()+1;break;case"w":result+=self.$wday();break;case"V":result+=self.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":result+=self.$cweek_cyear()["$[]"](1);break;case"g":result+=self.$cweek_cyear()["$[]"](1)["$[]"]($range(-2,-1,!1));break;case"s":result+=self.$to_i();break;case"n":result+="\n";break;case"t":result+="\t";break;case"%":result+="%";break;case"c":result+=self.$strftime("%a %b %e %T %Y");break;case"D":case"x":result+=self.$strftime("%m/%d/%y");break;case"F":result+=self.$strftime("%Y-%m-%d");break;case"v":result+=self.$strftime("%e-%^b-%4Y");break;case"r":result+=self.$strftime("%I:%M:%S %p");break;case"R":result+=self.$strftime("%H:%M");break;case"T":case"X":result+=self.$strftime("%H:%M:%S");break;default:return full}return upcase&&(result=result.toUpperCase()),invert&&(result=result.replace(/[A-Z]/,function(c){c.toLowerCase()}).replace(/[a-z]/,function(c){c.toUpperCase()})),pad&&(zero||blank)&&(result=result.$rjust(isNaN(width)?2:width,blank?" ":"0")),result})},TMP_Time_strftime_32.$$arity=1),Opal.defn(self,"$sunday?",TMP_Time_sunday$q_33=function(){return 0==this.$wday()},TMP_Time_sunday$q_33.$$arity=0),Opal.defn(self,"$thursday?",TMP_Time_thursday$q_34=function(){return 4==this.$wday()},TMP_Time_thursday$q_34.$$arity=0),Opal.defn(self,"$to_a",TMP_Time_to_a_35=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},TMP_Time_to_a_35.$$arity=0),Opal.defn(self,"$to_f",TMP_Time_to_f_36=function(){return this.getTime()/1e3},TMP_Time_to_f_36.$$arity=0),Opal.defn(self,"$to_i",TMP_Time_to_i_37=function(){return parseInt(this.getTime()/1e3,10)},TMP_Time_to_i_37.$$arity=0),Opal.alias(self,"to_s","inspect"),Opal.defn(self,"$tuesday?",TMP_Time_tuesday$q_38=function(){return 2==this.$wday()},TMP_Time_tuesday$q_38.$$arity=0),Opal.alias(self,"tv_sec","to_i"),Opal.alias(self,"tv_usec","usec"),Opal.alias(self,"utc?","gmt?"),Opal.alias(self,"gmtoff","gmt_offset"),Opal.alias(self,"utc_offset","gmt_offset"),Opal.defn(self,"$wday",TMP_Time_wday_39=function(){return this.is_utc?this.getUTCDay():this.getDay()},TMP_Time_wday_39.$$arity=0),Opal.defn(self,"$wednesday?",TMP_Time_wednesday$q_40=function(){return 3==this.$wday()},TMP_Time_wednesday$q_40.$$arity=0),Opal.defn(self,"$year",TMP_Time_year_41=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},TMP_Time_year_41.$$arity=0),Opal.defn(self,"$cweek_cyear",TMP_Time_cweek_cyear_42=function(){var $a,jan01_wday=nil,year=nil,offset=nil,week=nil,dec31_wday=nil;return jan01_wday=Opal.const_get_relative($nesting,"Time").$new(this.$year(),1,1).$wday(),0,year=this.$year(),$truthy($truthy($a=$rb_le(jan01_wday,4))?jan01_wday["$!="](0):$a)?offset=$rb_minus(jan01_wday,1):(offset=$rb_minus($rb_minus(jan01_wday,7),1))["$=="](-8)&&(offset=-1),week=$rb_divide($rb_plus(this.$yday(),offset),7).$ceil(),$truthy($rb_le(week,0))?Opal.const_get_relative($nesting,"Time").$new($rb_minus(this.$year(),1),12,31).$cweek_cyear():(week["$=="](53)&&(dec31_wday=Opal.const_get_relative($nesting,"Time").$new(this.$year(),12,31).$wday(),$truthy($truthy($a=$rb_le(dec31_wday,3))?dec31_wday["$!="](0):$a)&&(year=$rb_plus(year,week=1))),[week,year])},TMP_Time_cweek_cyear_42.$$arity=0),nil&&"cweek_cyear"}($nesting[0],Date,$nesting)},Opal.modules["corelib/struct"]=function(Opal){function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}function $rb_lt(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs<rhs:lhs["$<"](rhs)}function $rb_ge(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?rhs<=lhs:lhs["$>="](rhs)}function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}var self=Opal.top,$nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$truthy=Opal.truthy,$send=Opal.send,$hash2=Opal.hash2;return Opal.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$>","$length","$class","$each_with_index","$[]","$[]=","$-","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$join","$each_pair","$inspect","$inject","$flatten","$to_a","$respond_to?","$dig"]),self.$require("corelib/enumerable"),function($base,$super,$parent_nesting){function $Struct(){}var TMP_Struct_new_1,TMP_Struct_define_struct_attribute_8,TMP_Struct_members_9,TMP_Struct_inherited_11,TMP_Struct_initialize_13,TMP_Struct_members_14,TMP_Struct_hash_15,TMP_Struct_$$_16,TMP_Struct_$$$eq_17,TMP_Struct_$eq$eq_18,TMP_Struct_eql$q_19,TMP_Struct_each_20,TMP_Struct_each_pair_23,TMP_Struct_length_26,TMP_Struct_to_a_28,TMP_Struct_inspect_30,TMP_Struct_to_h_32,TMP_Struct_values_at_34,TMP_Struct_dig_35,self=$Struct=$klass($base,null,"Struct",$Struct),$nesting=(self.$$proto,[self].concat($parent_nesting));return self.$include(Opal.const_get_relative($nesting,"Enumerable")),Opal.defs(self,"$new",TMP_Struct_new_1=function(const_name,$a_rest){var TMP_2,TMP_3,args,klass,$iter=TMP_Struct_new_1.$$p,block=$iter||nil,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-1]=arguments[$arg_idx];if($iter&&(TMP_Struct_new_1.$$p=null),$truthy(const_name))try{const_name=Opal.const_get_relative($nesting,"Opal")["$const_name!"](const_name)}catch($err){if(!Opal.rescue($err,[Opal.const_get_relative($nesting,"TypeError"),Opal.const_get_relative($nesting,"NameError")]))throw $err;try{args.$unshift(const_name),const_name=nil}finally{Opal.pop_exception()}}return $send(args,"map",[],((TMP_2=function(arg){TMP_2.$$s;return null==arg&&(arg=nil),Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](arg,Opal.const_get_relative($nesting,"String"),"to_str")}).$$s=this,TMP_2.$$arity=1,TMP_2)),klass=$send(Opal.const_get_relative($nesting,"Class"),"new",[this],((TMP_3=function(){var TMP_4,self=TMP_3.$$s||this;return $send(args,"each",[],((TMP_4=function(arg){var self=TMP_4.$$s||this;return null==arg&&(arg=nil),self.$define_struct_attribute(arg)}).$$s=self,TMP_4.$$arity=1,TMP_4)),function(self,$parent_nesting){var TMP_new_5;self.$$proto,[self].concat($parent_nesting);return Opal.defn(self,"$new",TMP_new_5=function($a_rest){var args,instance=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return(instance=this.$allocate()).$$data={},$send(instance,"initialize",Opal.to_a(args)),instance},TMP_new_5.$$arity=-1),Opal.alias(self,"[]","new")}(Opal.get_singleton_class(self),$nesting)}).$$s=this,TMP_3.$$arity=0,TMP_3)),$truthy(block)&&$send(klass,"module_eval",[],block.$to_proc()),$truthy(const_name)&&Opal.const_get_relative($nesting,"Struct").$const_set(const_name,klass),klass},TMP_Struct_new_1.$$arity=-2),Opal.defs(self,"$define_struct_attribute",TMP_Struct_define_struct_attribute_8=function(name){var TMP_6,TMP_7;return this["$=="](Opal.const_get_relative($nesting,"Struct"))&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"you cannot define attributes to the Struct class"),this.$members()["$<<"](name),$send(this,"define_method",[name],((TMP_6=function(){return(TMP_6.$$s||this).$$data[name]}).$$s=this,TMP_6.$$arity=0,TMP_6)),$send(this,"define_method",[name+"="],((TMP_7=function(value){var self=TMP_7.$$s||this;return null==value&&(value=nil),self.$$data[name]=value}).$$s=this,TMP_7.$$arity=1,TMP_7))},TMP_Struct_define_struct_attribute_8.$$arity=1),Opal.defs(self,"$members",TMP_Struct_members_9=function(){var $a;return null==this.members&&(this.members=nil),this["$=="](Opal.const_get_relative($nesting,"Struct"))&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"the Struct class has no members"),this.members=$truthy($a=this.members)?$a:[]},TMP_Struct_members_9.$$arity=0),Opal.defs(self,"$inherited",TMP_Struct_inherited_11=function(klass){var TMP_10,members;return null==this.members&&(this.members=nil),members=this.members,$send(klass,"instance_eval",[],((TMP_10=function(){return(TMP_10.$$s||this).members=members}).$$s=this,TMP_10.$$arity=0,TMP_10))},TMP_Struct_inherited_11.$$arity=1),Opal.defn(self,"$initialize",TMP_Struct_initialize_13=function($a_rest){var TMP_12,args,lhs,rhs,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return $truthy((lhs=args.$length(),rhs=this.$class().$members().$length(),"number"==typeof lhs&&"number"==typeof rhs?rhs<lhs:lhs["$>"](rhs)))&&this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"struct size differs"),$send(this.$class().$members(),"each_with_index",[],((TMP_12=function(name,index){var $writer,self=TMP_12.$$s||this;return null==name&&(name=nil),null==index&&(index=nil),$writer=[name,args["$[]"](index)],$send(self,"[]=",Opal.to_a($writer)),$writer[$rb_minus($writer.length,1)]}).$$s=this,TMP_12.$$arity=2,TMP_12))},TMP_Struct_initialize_13.$$arity=-1),Opal.defn(self,"$members",TMP_Struct_members_14=function(){return this.$class().$members()},TMP_Struct_members_14.$$arity=0),Opal.defn(self,"$hash",TMP_Struct_hash_15=function(){return Opal.const_get_relative($nesting,"Hash").$new(this.$$data).$hash()},TMP_Struct_hash_15.$$arity=0),Opal.defn(self,"$[]",TMP_Struct_$$_16=function(name){return $truthy(Opal.const_get_relative($nesting,"Integer")["$==="](name))?($truthy($rb_lt(name,this.$class().$members().$size()["$-@"]()))&&this.$raise(Opal.const_get_relative($nesting,"IndexError"),"offset "+name+" too small for struct(size:"+this.$class().$members().$size()+")"),$truthy($rb_ge(name,this.$class().$members().$size()))&&this.$raise(Opal.const_get_relative($nesting,"IndexError"),"offset "+name+" too large for struct(size:"+this.$class().$members().$size()+")"),name=this.$class().$members()["$[]"](name)):$truthy(Opal.const_get_relative($nesting,"String")["$==="](name))?this.$$data.hasOwnProperty(name)||this.$raise(Opal.const_get_relative($nesting,"NameError").$new("no member '"+name+"' in struct",name)):this.$raise(Opal.const_get_relative($nesting,"TypeError"),"no implicit conversion of "+name.$class()+" into Integer"),name=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](name,Opal.const_get_relative($nesting,"String"),"to_str"),this.$$data[name]},TMP_Struct_$$_16.$$arity=1),Opal.defn(self,"$[]=",TMP_Struct_$$$eq_17=function(name,value){return $truthy(Opal.const_get_relative($nesting,"Integer")["$==="](name))?($truthy($rb_lt(name,this.$class().$members().$size()["$-@"]()))&&this.$raise(Opal.const_get_relative($nesting,"IndexError"),"offset "+name+" too small for struct(size:"+this.$class().$members().$size()+")"),$truthy($rb_ge(name,this.$class().$members().$size()))&&this.$raise(Opal.const_get_relative($nesting,"IndexError"),"offset "+name+" too large for struct(size:"+this.$class().$members().$size()+")"),name=this.$class().$members()["$[]"](name)):$truthy(Opal.const_get_relative($nesting,"String")["$==="](name))?$truthy(this.$class().$members()["$include?"](name.$to_sym()))||this.$raise(Opal.const_get_relative($nesting,"NameError").$new("no member '"+name+"' in struct",name)):this.$raise(Opal.const_get_relative($nesting,"TypeError"),"no implicit conversion of "+name.$class()+" into Integer"),name=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](name,Opal.const_get_relative($nesting,"String"),"to_str"),this.$$data[name]=value},TMP_Struct_$$$eq_17.$$arity=2),Opal.defn(self,"$==",TMP_Struct_$eq$eq_18=function(other){if(!$truthy(other["$instance_of?"](this.$class())))return!1;var recursed1={},recursed2={};return function _eqeq(struct,other){var key,a,b;for(key in recursed1[struct.$__id__()]=!0,recursed2[other.$__id__()]=!0,struct.$$data)if(a=struct.$$data[key],b=other.$$data[key],Opal.const_get_relative($nesting,"Struct")["$==="](a)){if(!(recursed1.hasOwnProperty(a.$__id__())&&recursed2.hasOwnProperty(b.$__id__())||_eqeq(a,b)))return!1}else if(!a["$=="](b))return!1;return!0}(this,other)},TMP_Struct_$eq$eq_18.$$arity=1),Opal.defn(self,"$eql?",TMP_Struct_eql$q_19=function(other){if(!$truthy(other["$instance_of?"](this.$class())))return!1;var recursed1={},recursed2={};return function _eqeq(struct,other){var key,a,b;for(key in recursed1[struct.$__id__()]=!0,recursed2[other.$__id__()]=!0,struct.$$data)if(a=struct.$$data[key],b=other.$$data[key],Opal.const_get_relative($nesting,"Struct")["$==="](a)){if(!(recursed1.hasOwnProperty(a.$__id__())&&recursed2.hasOwnProperty(b.$__id__())||_eqeq(a,b)))return!1}else if(!a["$eql?"](b))return!1;return!0}(this,other)},TMP_Struct_eql$q_19.$$arity=1),Opal.defn(self,"$each",TMP_Struct_each_20=function(){var TMP_21,TMP_22,$iter=TMP_Struct_each_20.$$p,$yield=$iter||nil;return $iter&&(TMP_Struct_each_20.$$p=null),$yield===nil?$send(this,"enum_for",["each"],((TMP_21=function(){return(TMP_21.$$s||this).$size()}).$$s=this,TMP_21.$$arity=0,TMP_21)):($send(this.$class().$members(),"each",[],((TMP_22=function(name){var self=TMP_22.$$s||this;return null==name&&(name=nil),Opal.yield1($yield,self["$[]"](name))}).$$s=this,TMP_22.$$arity=1,TMP_22)),this)},TMP_Struct_each_20.$$arity=0),Opal.defn(self,"$each_pair",TMP_Struct_each_pair_23=function(){var TMP_24,TMP_25,$iter=TMP_Struct_each_pair_23.$$p,$yield=$iter||nil;return $iter&&(TMP_Struct_each_pair_23.$$p=null),$yield===nil?$send(this,"enum_for",["each_pair"],((TMP_24=function(){return(TMP_24.$$s||this).$size()}).$$s=this,TMP_24.$$arity=0,TMP_24)):($send(this.$class().$members(),"each",[],((TMP_25=function(name){var self=TMP_25.$$s||this;return null==name&&(name=nil),Opal.yield1($yield,[name,self["$[]"](name)])}).$$s=this,TMP_25.$$arity=1,TMP_25)),this)},TMP_Struct_each_pair_23.$$arity=0),Opal.defn(self,"$length",TMP_Struct_length_26=function(){return this.$class().$members().$length()},TMP_Struct_length_26.$$arity=0),Opal.alias(self,"size","length"),Opal.defn(self,"$to_a",TMP_Struct_to_a_28=function(){var TMP_27;return $send(this.$class().$members(),"map",[],((TMP_27=function(name){var self=TMP_27.$$s||this;return null==name&&(name=nil),self["$[]"](name)}).$$s=this,TMP_27.$$arity=1,TMP_27))},TMP_Struct_to_a_28.$$arity=0),Opal.alias(self,"values","to_a"),Opal.defn(self,"$inspect",TMP_Struct_inspect_30=function(){var $a,TMP_29,result=nil;return result="#<struct ",$truthy($truthy($a=Opal.const_get_relative($nesting,"Struct")["$==="](this))?this.$class().$name():$a)&&(result=$rb_plus(result,this.$class()+" ")),result=$rb_plus(result=$rb_plus(result,$send(this.$each_pair(),"map",[],(TMP_29=function(name,value){TMP_29.$$s;return null==name&&(name=nil),null==value&&(value=nil),name+"="+value.$inspect()},TMP_29.$$s=this,TMP_29.$$arity=2,TMP_29)).$join(", ")),">")},TMP_Struct_inspect_30.$$arity=0),Opal.alias(self,"to_s","inspect"),Opal.defn(self,"$to_h",TMP_Struct_to_h_32=function(){var TMP_31;return $send(this.$class().$members(),"inject",[$hash2([],{})],((TMP_31=function(h,name){var $writer,self=TMP_31.$$s||this;return null==h&&(h=nil),null==name&&(name=nil),$writer=[name,self["$[]"](name)],$send(h,"[]=",Opal.to_a($writer)),$rb_minus($writer.length,1),h}).$$s=this,TMP_31.$$arity=2,TMP_31))},TMP_Struct_to_h_32.$$arity=0),Opal.defn(self,"$values_at",TMP_Struct_values_at_34=function($a_rest){var TMP_33,args,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];for(var result=[],i=0,len=(args=$send(args,"map",[],(TMP_33=function(arg){TMP_33.$$s;return null==arg&&(arg=nil),arg.$$is_range?arg.$to_a():arg},TMP_33.$$s=this,TMP_33.$$arity=1,TMP_33)).$flatten()).length;i<len;i++)args[i].$$is_number||this.$raise(Opal.const_get_relative($nesting,"TypeError"),"no implicit conversion of "+args[i].$class()+" into Integer"),result.push(this["$[]"](args[i]));return result},TMP_Struct_values_at_34.$$arity=-1),Opal.defn(self,"$dig",TMP_Struct_dig_35=function(key,$a_rest){var keys,item=nil,$args_len=arguments.length,$rest_len=$args_len-1;$rest_len<0&&($rest_len=0),keys=new Array($rest_len);for(var $arg_idx=1;$arg_idx<$args_len;$arg_idx++)keys[$arg_idx-1]=arguments[$arg_idx];return(item=$truthy(key.$$is_string&&this.$$data.hasOwnProperty(key))&&this.$$data[key]||nil)===nil||0===keys.length?item:($truthy(item["$respond_to?"]("dig"))||this.$raise(Opal.const_get_relative($nesting,"TypeError"),item.$class()+" does not have #dig method"),$send(item,"dig",Opal.to_a(keys)))},TMP_Struct_dig_35.$$arity=-2),nil&&"dig"}($nesting[0],0,$nesting)},Opal.modules["corelib/io"]=function(Opal){function $rb_minus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs)}Opal.top;var $nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$module=Opal.module,$send=Opal.send,$gvars=Opal.gvars,$truthy=Opal.truthy,$writer=nil;Opal.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function($base,$super,$parent_nesting){function $IO(){}var TMP_IO_tty$q_1,TMP_IO_closed$q_2,TMP_IO_write_3,TMP_IO_flush_4,self=$IO=$klass($base,null,"IO",$IO),def=self.$$proto,$nesting=[self].concat($parent_nesting);def.tty=def.closed=nil,Opal.const_set($nesting[0],"SEEK_SET",0),Opal.const_set($nesting[0],"SEEK_CUR",1),Opal.const_set($nesting[0],"SEEK_END",2),Opal.defn(self,"$tty?",TMP_IO_tty$q_1=function(){return this.tty},TMP_IO_tty$q_1.$$arity=0),Opal.defn(self,"$closed?",TMP_IO_closed$q_2=function(){return this.closed},TMP_IO_closed$q_2.$$arity=0),self.$attr_accessor("write_proc"),Opal.defn(self,"$write",TMP_IO_write_3=function(string){return this.write_proc(string),string.$size()},TMP_IO_write_3.$$arity=1),self.$attr_accessor("sync","tty"),Opal.defn(self,"$flush",TMP_IO_flush_4=function(){return nil},TMP_IO_flush_4.$$arity=0),function($base,$parent_nesting){var TMP_Writable_$lt$lt_5,TMP_Writable_print_7,TMP_Writable_puts_9,self=$module($base,"Writable");self.$$proto,[self].concat($parent_nesting);Opal.defn(self,"$<<",TMP_Writable_$lt$lt_5=function(string){return this.$write(string),this},TMP_Writable_$lt$lt_5.$$arity=1),Opal.defn(self,"$print",TMP_Writable_print_7=function($a_rest){var TMP_6,args;null==$gvars[","]&&($gvars[","]=nil);var $args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return this.$write($send(args,"map",[],(TMP_6=function(arg){var self=TMP_6.$$s||this;return null==arg&&(arg=nil),self.$String(arg)},TMP_6.$$s=this,TMP_6.$$arity=1,TMP_6)).$join($gvars[","])),nil},TMP_Writable_print_7.$$arity=-1),Opal.defn(self,"$puts",TMP_Writable_puts_9=function($a_rest){var TMP_8,args,newline;null==$gvars["/"]&&($gvars["/"]=nil);var $args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];return newline=$gvars["/"],$truthy(args["$empty?"]())?this.$write($gvars["/"]):this.$write($send(args,"map",[],(TMP_8=function(arg){var self=TMP_8.$$s||this;return null==arg&&(arg=nil),self.$String(arg).$chomp()},TMP_8.$$s=this,TMP_8.$$arity=1,TMP_8)).$concat([nil]).$join(newline)),nil},TMP_Writable_puts_9.$$arity=-1)}($nesting[0],$nesting),function($base,$parent_nesting){var TMP_Readable_readbyte_10,TMP_Readable_readchar_11,TMP_Readable_readline_12,TMP_Readable_readpartial_13,self=$module($base,"Readable"),$nesting=(self.$$proto,[self].concat($parent_nesting));Opal.defn(self,"$readbyte",TMP_Readable_readbyte_10=function(){return this.$getbyte()},TMP_Readable_readbyte_10.$$arity=0),Opal.defn(self,"$readchar",TMP_Readable_readchar_11=function(){return this.$getc()},TMP_Readable_readchar_11.$$arity=0),Opal.defn(self,"$readline",TMP_Readable_readline_12=function(sep){return null==$gvars["/"]&&($gvars["/"]=nil),null==sep&&(sep=$gvars["/"]),this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"))},TMP_Readable_readline_12.$$arity=-1),Opal.defn(self,"$readpartial",TMP_Readable_readpartial_13=function(integer,outbuf){return null==outbuf&&(outbuf=nil),this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"))},TMP_Readable_readpartial_13.$$arity=-2)}($nesting[0],$nesting)}($nesting[0],0,$nesting),Opal.const_set($nesting[0],"STDERR",$gvars.stderr=Opal.const_get_relative($nesting,"IO").$new()),Opal.const_set($nesting[0],"STDIN",$gvars.stdin=Opal.const_get_relative($nesting,"IO").$new()),Opal.const_set($nesting[0],"STDOUT",$gvars.stdout=Opal.const_get_relative($nesting,"IO").$new());var console=Opal.global.console;return $writer=["object"==typeof process&&"object"==typeof process.stdout?function(s){process.stdout.write(s)}:function(s){console.log(s)}],$send(Opal.const_get_relative($nesting,"STDOUT"),"write_proc=",Opal.to_a($writer)),$writer[$rb_minus($writer.length,1)],$writer=["object"==typeof process&&"object"==typeof process.stderr?function(s){process.stderr.write(s)}:function(s){console.warn(s)}],$send(Opal.const_get_relative($nesting,"STDERR"),"write_proc=",Opal.to_a($writer)),$writer[$rb_minus($writer.length,1)],Opal.const_get_relative($nesting,"STDOUT").$extend(Opal.const_get_qualified(Opal.const_get_relative($nesting,"IO"),"Writable")),Opal.const_get_relative($nesting,"STDERR").$extend(Opal.const_get_qualified(Opal.const_get_relative($nesting,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(Opal){var TMP_to_s_1,TMP_include_2,self=Opal.top,$nesting=[];Opal.nil,Opal.breaker,Opal.slice;return Opal.add_stubs(["$include"]),Opal.defs(self,"$to_s",TMP_to_s_1=function(){return"main"},TMP_to_s_1.$$arity=0),Opal.defs(self,"$include",TMP_include_2=function(mod){return Opal.const_get_relative($nesting,"Object").$include(mod)},TMP_include_2.$$arity=1)},Opal.modules["corelib/dir"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$truthy=Opal.truthy;return Opal.add_stubs(["$[]"]),function($base,$super,$parent_nesting){function $Dir(){}var self=$Dir=$klass($base,null,"Dir",$Dir),$nesting=(self.$$proto,[self].concat($parent_nesting));return function(self,$parent_nesting){self.$$proto;var TMP_chdir_1,TMP_pwd_2,TMP_home_3,$nesting=[self].concat($parent_nesting);return Opal.defn(self,"$chdir",TMP_chdir_1=function(dir){var $iter=TMP_chdir_1.$$p,$yield=$iter||nil,prev_cwd=nil;return $iter&&(TMP_chdir_1.$$p=null),function(){try{return prev_cwd=Opal.current_dir,Opal.current_dir=dir,Opal.yieldX($yield,[])}finally{Opal.current_dir=prev_cwd}}()},TMP_chdir_1.$$arity=1),Opal.defn(self,"$pwd",TMP_pwd_2=function(){return Opal.current_dir||"."},TMP_pwd_2.$$arity=0),Opal.alias(self,"getwd","pwd"),Opal.defn(self,"$home",TMP_home_3=function(){var $a;return $truthy($a=Opal.const_get_relative($nesting,"ENV")["$[]"]("HOME"))?$a:"."},TMP_home_3.$$arity=0),nil&&"home"}(Opal.get_singleton_class(self),$nesting)}($nesting[0],0,$nesting)},Opal.modules["corelib/file"]=function(Opal){function $rb_plus(lhs,rhs){return"number"==typeof lhs&&"number"==typeof rhs?lhs+rhs:lhs["$+"](rhs)}Opal.top;var $nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$truthy=Opal.truthy,$range=Opal.range,$send=Opal.send;return Opal.add_stubs(["$home","$raise","$start_with?","$+","$sub","$pwd","$split","$unshift","$join","$respond_to?","$coerce_to!","$basename","$empty?","$rindex","$[]","$nil?","$==","$-","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$end_with?"]),function($base,$super,$parent_nesting){function $File(){}var self=$File=$klass($base,$super,"File",$File),$nesting=(self.$$proto,[self].concat($parent_nesting)),windows_root_rx=nil;return Opal.const_set($nesting[0],"Separator",Opal.const_set($nesting[0],"SEPARATOR","/")),Opal.const_set($nesting[0],"ALT_SEPARATOR",nil),Opal.const_set($nesting[0],"PATH_SEPARATOR",":"),Opal.const_set($nesting[0],"FNM_SYSCASE",0),windows_root_rx=/^[a-zA-Z]:(?:\\|\/)/,function(self,$parent_nesting){self.$$proto;var TMP_expand_path_1,TMP_dirname_2,TMP_basename_3,TMP_extname_4,TMP_exist$q_5,TMP_directory$q_7,TMP_join_11,TMP_split_12,$nesting=[self].concat($parent_nesting);function $coerce_to_path(path){return $truthy(path["$respond_to?"]("to_path"))&&(path=path.$to_path()),path=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](path,Opal.const_get_relative($nesting,"String"),"to_str")}function $sep_chars(){return Opal.const_get_relative($nesting,"ALT_SEPARATOR")===nil?Opal.escape_regexp(Opal.const_get_relative($nesting,"SEPARATOR")):Opal.escape_regexp($rb_plus(Opal.const_get_relative($nesting,"SEPARATOR"),Opal.const_get_relative($nesting,"ALT_SEPARATOR")))}return Opal.defn(self,"$expand_path",TMP_expand_path_1=function(path,basedir){var sep,sep_chars,path_abs,basedir_abs,part,new_parts=nil,home=nil,home_path_regexp=nil,parts=nil,leading_sep=nil,abs=nil,new_path=nil;null==basedir&&(basedir=nil),sep=Opal.const_get_relative($nesting,"SEPARATOR"),sep_chars=$sep_chars(),new_parts=[],$truthy("~"===path[0]||basedir&&"~"===basedir[0])&&(home=Opal.const_get_relative($nesting,"Dir").$home(),$truthy(home)||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),$truthy(home["$start_with?"](sep))||this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"non-absolute home"),home=$rb_plus(home,sep),home_path_regexp=new RegExp("^\\~(?:"+sep+"|$)"),path=path.$sub(home_path_regexp,home),$truthy(basedir)&&(basedir=basedir.$sub(home_path_regexp,home))),$truthy(basedir)||(basedir=Opal.const_get_relative($nesting,"Dir").$pwd()),path_abs=path.substr(0,sep.length)===sep||windows_root_rx.test(path),basedir_abs=basedir.substr(0,sep.length)===sep||windows_root_rx.test(basedir),abs=$truthy(path_abs)?(parts=path.$split(new RegExp("["+sep_chars+"]")),leading_sep=windows_root_rx.test(path)?"":path.$sub(new RegExp("^(["+sep_chars+"]+).*$"),"\\1"),!0):(parts=$rb_plus(basedir.$split(new RegExp("["+sep_chars+"]")),path.$split(new RegExp("["+sep_chars+"]"))),leading_sep=windows_root_rx.test(basedir)?"":basedir.$sub(new RegExp("^(["+sep_chars+"]+).*$"),"\\1"),basedir_abs);for(var i=0,ii=parts.length;i<ii;i++)(part=parts[i])===nil||""===part&&(0===new_parts.length||abs)||"."===part&&(0===new_parts.length||abs)||(".."===part?new_parts.pop():new_parts.push(part));return abs||"."===parts[0]||new_parts.$unshift("."),new_path=new_parts.$join(sep),$truthy(abs)&&(new_path=$rb_plus(leading_sep,new_path)),new_path},TMP_expand_path_1.$$arity=-2),Opal.alias(self,"realpath","expand_path"),Opal.defn(self,"$dirname",TMP_dirname_2=function(path){var sep_chars;sep_chars=$sep_chars();var absolute=(path=$coerce_to_path(path)).match(new RegExp("^["+sep_chars+"]"));return""===(path=(path=(path=path.replace(new RegExp("["+sep_chars+"]+$"),"")).replace(new RegExp("[^"+sep_chars+"]+$"),"")).replace(new RegExp("["+sep_chars+"]+$"),""))?absolute?"/":".":path},TMP_dirname_2.$$arity=1),Opal.defn(self,"$basename",TMP_basename_3=function(name,suffix){var sep_chars;return null==suffix&&(suffix=nil),sep_chars=$sep_chars(),0==(name=$coerce_to_path(name)).length||(suffix=suffix!==nil?Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](suffix,Opal.const_get_relative($nesting,"String"),"to_str"):null,name=(name=name.replace(new RegExp("(.)["+sep_chars+"]*$"),"$1")).replace(new RegExp("^(?:.*["+sep_chars+"])?([^"+sep_chars+"]+)$"),"$1"),".*"===suffix?name=name.replace(/\.[^\.]+$/,""):null!==suffix&&(suffix=Opal.escape_regexp(suffix),name=name.replace(new RegExp(suffix+"$"),""))),name},TMP_basename_3.$$arity=-2),Opal.defn(self,"$extname",TMP_extname_4=function(path){var $a,lhs,rhs,filename=nil,last_dot_idx=nil;return path=$coerce_to_path(path),filename=this.$basename(path),$truthy(filename["$empty?"]())?"":(last_dot_idx=filename["$[]"]($range(1,-1,!1)).$rindex("."),$truthy($truthy($a=last_dot_idx["$nil?"]())?$a:$rb_plus(last_dot_idx,1)["$=="]((lhs=filename.$length(),rhs=1,"number"==typeof lhs&&"number"==typeof rhs?lhs-rhs:lhs["$-"](rhs))))?"":filename["$[]"](Opal.Range.$new($rb_plus(last_dot_idx,1),-1,!1)))},TMP_extname_4.$$arity=1),Opal.defn(self,"$exist?",TMP_exist$q_5=function(path){return null!=Opal.modules[path]},TMP_exist$q_5.$$arity=1),Opal.alias(self,"exists?","exist?"),Opal.defn(self,"$directory?",TMP_directory$q_7=function(path){var TMP_6,files=nil;for(var key in files=[],Opal.modules)files.push(key);return path=path.$gsub(new RegExp("(^."+Opal.const_get_relative($nesting,"SEPARATOR")+"+|"+Opal.const_get_relative($nesting,"SEPARATOR")+"+$)")),$send(files,"find",[],((TMP_6=function(file){TMP_6.$$s;return null==file&&(file=nil),file["$=~"](new RegExp("^"+path))}).$$s=this,TMP_6.$$arity=1,TMP_6))},TMP_directory$q_7.$$arity=1),Opal.defn(self,"$join",TMP_join_11=function($a_rest){var TMP_8,TMP_9,TMP_10,paths,result=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),paths=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)paths[$arg_idx-0]=arguments[$arg_idx];return paths.$length()["$=="](0)?"":(result="",paths=$send(paths.$flatten().$each_with_index(),"map",[],((TMP_8=function(item,index){TMP_8.$$s;return null==item&&(item=nil),null==index&&(index=nil),$truthy(index["$=="](0)?item["$empty?"]():index["$=="](0))?Opal.const_get_relative($nesting,"SEPARATOR"):$truthy(paths.$length()["$=="]($rb_plus(index,1))?item["$empty?"]():paths.$length()["$=="]($rb_plus(index,1)))?Opal.const_get_relative($nesting,"SEPARATOR"):item}).$$s=this,TMP_8.$$arity=2,TMP_8)),paths=$send(paths,"reject",[],((TMP_9=function(path){TMP_9.$$s;return null==path&&(path=nil),path["$empty?"]()}).$$s=this,TMP_9.$$arity=1,TMP_9)),$send(paths,"each_with_index",[],((TMP_10=function(item,index){TMP_10.$$s;var $a,next_item=nil;return null==item&&(item=nil),null==index&&(index=nil),next_item=paths["$[]"]($rb_plus(index,1)),result=$truthy(next_item["$nil?"]())?""+result+item:($truthy($truthy($a=item["$end_with?"](Opal.const_get_relative($nesting,"SEPARATOR")))?next_item["$start_with?"](Opal.const_get_relative($nesting,"SEPARATOR")):$a)&&(item=item.$sub(new RegExp(Opal.const_get_relative($nesting,"SEPARATOR")+"+$"),"")),$truthy($truthy($a=item["$end_with?"](Opal.const_get_relative($nesting,"SEPARATOR")))?$a:next_item["$start_with?"](Opal.const_get_relative($nesting,"SEPARATOR")))?""+result+item:""+result+item+Opal.const_get_relative($nesting,"SEPARATOR"))}).$$s=this,TMP_10.$$arity=2,TMP_10)),result)},TMP_join_11.$$arity=-1),Opal.defn(self,"$split",TMP_split_12=function(path){return path.$split(Opal.const_get_relative($nesting,"SEPARATOR"))},TMP_split_12.$$arity=1),nil&&"split"}(Opal.get_singleton_class(self),$nesting)}($nesting[0],Opal.const_get_relative($nesting,"IO"),$nesting)},Opal.modules["corelib/process"]=function(Opal){Opal.top;var $nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$truthy=Opal.truthy;return Opal.add_stubs(["$const_set","$size","$<<","$__register_clock__","$to_f","$now","$new","$[]","$raise"]),function($base,$super,$parent_nesting){function $Process(){}var TMP_Process___register_clock___1,TMP_Process_pid_2,TMP_Process_times_3,TMP_Process_clock_gettime_4,self=$Process=$klass($base,null,"Process",$Process),$nesting=(self.$$proto,[self].concat($parent_nesting)),monotonic=nil;if(self.__clocks__=[],Opal.defs(self,"$__register_clock__",TMP_Process___register_clock___1=function(name,func){return null==this.__clocks__&&(this.__clocks__=nil),this.$const_set(name,this.__clocks__.$size()),this.__clocks__["$<<"](func)},TMP_Process___register_clock___1.$$arity=2),self.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),monotonic=!1,Opal.global.performance)monotonic=function(){return performance.now()};else if(Opal.global.process&&process.hrtime){var hrtime_base=process.hrtime();monotonic=function(){var hrtime=process.hrtime(hrtime_base),us=hrtime[1]/1e3|0;return 1e3*hrtime[0]+us/1e3}}$truthy(monotonic)&&self.$__register_clock__("CLOCK_MONOTONIC",monotonic),Opal.defs(self,"$pid",TMP_Process_pid_2=function(){return 0},TMP_Process_pid_2.$$arity=0),Opal.defs(self,"$times",TMP_Process_times_3=function(){var t;return t=Opal.const_get_relative($nesting,"Time").$now().$to_f(),Opal.const_get_qualified(Opal.const_get_relative($nesting,"Benchmark"),"Tms").$new(t,t,t,t,t)},TMP_Process_times_3.$$arity=0),Opal.defs(self,"$clock_gettime",TMP_Process_clock_gettime_4=function(clock_id,unit){var clock=nil;null==this.__clocks__&&(this.__clocks__=nil),null==unit&&(unit="float_second"),$truthy(clock=this.__clocks__["$[]"](clock_id))||this.$raise(Opal.const_get_qualified(Opal.const_get_relative($nesting,"Errno"),"EINVAL"),"clock_gettime("+clock_id+") "+this.__clocks__["$[]"](clock_id));var ms=clock();switch(unit){case"float_second":return ms/1e3;case"float_millisecond":return ms/1;case"float_microsecond":return 1e3*ms;case"second":return ms/1e3|0;case"millisecond":return ms/1|0;case"microsecond":return 1e3*ms|0;case"nanosecond":return 1e6*ms|0;default:this.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"unexpected unit: "+unit)}},TMP_Process_clock_gettime_4.$$arity=-2)}($nesting[0],0,$nesting),function($base,$super,$parent_nesting){function $Signal(){}var TMP_Signal_trap_5,self=$Signal=$klass($base,null,"Signal",$Signal);self.$$proto,[self].concat($parent_nesting);Opal.defs(self,"$trap",TMP_Signal_trap_5=function($a_rest){return nil},TMP_Signal_trap_5.$$arity=-1)}($nesting[0],0,$nesting),function($base,$super,$parent_nesting){function $GC(){}var TMP_GC_start_6,self=$GC=$klass($base,null,"GC",$GC);self.$$proto,[self].concat($parent_nesting);return Opal.defs(self,"$start",TMP_GC_start_6=function(){return nil},TMP_GC_start_6.$$arity=0)}($nesting[0],0,$nesting)},Opal.modules["corelib/random/seedrandom"]=function(Opal){Opal.top;var $nesting=[],$klass=(Opal.nil,Opal.breaker,Opal.slice,Opal.klass);return function($base,$super,$parent_nesting){function $Random(){}var self=$Random=$klass($base,null,"Random",$Random);self.$$proto,[self].concat($parent_nesting);!function(a,b){function c(c,j,k){var n=[],s=g(function f(a,b){var c,d=[],e=typeof a;if(b&&"object"==e)for(c in a)if(a.hasOwnProperty(c))try{d.push(f(a[c],b-1))}catch(a){}return d.length?d:"string"==e?a:a+"\0"}((j=1==j?{entropy:!0}:j||{}).entropy?[c,i(a)]:null==c?h():c,3),n),t=new d(n),u=function(){for(var a=t.g(m),b=p,c=0;a<q;)a=(a+c)*l,b*=l,c=t.g(1);for(;r<=a;)a/=2,b/=2,c>>>=1;return(a+c)/b};return u.int32=function(){return 0|t.g(4)},u.quick=function(){return t.g(4)/4294967296},u.double=u,g(i(t.S),a),(j.pass||k||function(a,c,d,f){return f&&(f.S&&e(f,t),a.state=function(){return e(t,{})}),d?(b[o]=a,c):a})(u,s,"global"in j?j.global:this==b,j.state)}function d(a){var b,c=a.length,d=this,e=0,f=d.i=d.j=0,g=d.S=[];for(c||(a=[c++]);e<l;)g[e]=e++;for(e=0;e<l;e++)g[e]=g[f=s&f+a[e%c]+(b=g[e])],g[f]=b;(d.g=function(a){for(var b,c=0,e=d.i,f=d.j,g=d.S;a--;)b=g[e=s&e+1],c=c*l+g[s&(g[e]=g[f=s&f+b])+(g[f]=b)];return d.i=e,d.j=f,c})(l)}function e(a,b){return b.i=a.i,b.j=a.j,b.S=a.S.slice(),b}function g(a,b){for(var c,d=a+"",e=0;e<d.length;)b[s&e]=s&(c^=19*b[s&e])+d.charCodeAt(e++);return i(b)}function h(){try{if(j)return i(j.randomBytes(l));var b=new Uint8Array(l);return(k.crypto||k.msCrypto).getRandomValues(b),i(b)}catch(b){var c=k.navigator,d=c&&c.plugins;return[+new Date,k,d,k.screen,i(a)]}}function i(a){return String.fromCharCode.apply(0,a)}var j,k=this,l=256,m=6,o="random",p=b.pow(l,m),q=b.pow(2,52),r=2*q,s=l-1;if(b["seed"+o]=c,g(b.random(),a),"object"==typeof module&&module.exports){module.exports=c;try{j=require("crypto")}catch(a){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return c})}([],Math)}($nesting[0],0,$nesting)},Opal.modules["corelib/random"]=function(Opal){var self=Opal.top,$nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$truthy=Opal.truthy,$send=Opal.send;return Opal.add_stubs(["$require","$attr_reader","$coerce_to!","$reseed","$new_seed","$rand","$seed","$new","$===","$==","$state","$encode","$join","$map","$times","$chr","$raise"]),self.$require("corelib/random/seedrandom.js"),function($base,$super,$parent_nesting){function $Random(){}var TMP_Random_initialize_1,TMP_Random_reseed_2,TMP_Random_new_seed_3,TMP_Random_rand_4,TMP_Random_srand_5,TMP_Random_$eq$eq_6,TMP_Random_bytes_8,TMP_Random_rand_9,self=$Random=$klass($base,null,"Random",$Random),$nesting=(self.$$proto,[self].concat($parent_nesting));self.$attr_reader("seed","state"),Opal.defn(self,"$initialize",TMP_Random_initialize_1=function(seed){return null==seed&&(seed=Opal.const_get_relative($nesting,"Random").$new_seed()),seed=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](seed,Opal.const_get_relative($nesting,"Integer"),"to_int"),this.state=seed,this.$reseed(seed)},TMP_Random_initialize_1.$$arity=-1),Opal.defn(self,"$reseed",TMP_Random_reseed_2=function(seed){return this.seed=seed,this.$rng=new Math.seedrandom(seed)},TMP_Random_reseed_2.$$arity=1);var $seed_generator=new Math.seedrandom("opal",{entropy:!0});return Opal.defs(self,"$new_seed",TMP_Random_new_seed_3=function(){return Math.abs($seed_generator.int32())},TMP_Random_new_seed_3.$$arity=0),Opal.defs(self,"$rand",TMP_Random_rand_4=function(limit){return Opal.const_get_relative($nesting,"DEFAULT").$rand(limit)},TMP_Random_rand_4.$$arity=-1),Opal.defs(self,"$srand",TMP_Random_srand_5=function(n){var previous_seed;return null==n&&(n=Opal.const_get_relative($nesting,"Random").$new_seed()),n=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](n,Opal.const_get_relative($nesting,"Integer"),"to_int"),previous_seed=Opal.const_get_relative($nesting,"DEFAULT").$seed(),Opal.const_get_relative($nesting,"DEFAULT").$reseed(n),previous_seed},TMP_Random_srand_5.$$arity=-1),Opal.const_set($nesting[0],"DEFAULT",self.$new(self.$new_seed())),Opal.defn(self,"$==",TMP_Random_$eq$eq_6=function(other){return!!$truthy(Opal.const_get_relative($nesting,"Random")["$==="](other))&&(this.$seed()["$=="](other.$seed())?this.$state()["$=="](other.$state()):this.$seed()["$=="](other.$seed()))},TMP_Random_$eq$eq_6.$$arity=1),Opal.defn(self,"$bytes",TMP_Random_bytes_8=function(length){var TMP_7;return length=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](length,Opal.const_get_relative($nesting,"Integer"),"to_int"),$send(length.$times(),"map",[],(TMP_7=function(){return(TMP_7.$$s||this).$rand(255).$chr()},TMP_7.$$s=this,TMP_7.$$arity=0,TMP_7)).$join().$encode(Opal.const_get_qualified(Opal.const_get_relative($nesting,"Encoding"),"ASCII_8BIT"))},TMP_Random_bytes_8.$$arity=1),Opal.defn(self,"$rand",TMP_Random_rand_9=function(limit){var self=this;function randomFloat(){return self.state++,self.$rng.quick()}function randomInt(){return Math.floor(randomFloat()*limit)}return null==limit?randomFloat():limit.$$is_range?function(){var min=limit.begin,max=limit.end;if(min===nil||max===nil)return nil;var length=max-min;return length<0?nil:0===length?min:(max%1!=0||min%1!=0||limit.excl||length++,self.$rand(length)+min)}():limit.$$is_number?(limit<=0&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"invalid argument - "+limit),limit%1==0?randomInt():randomFloat()*limit):((limit=Opal.const_get_relative($nesting,"Opal")["$coerce_to!"](limit,Opal.const_get_relative($nesting,"Integer"),"to_int"))<=0&&self.$raise(Opal.const_get_relative($nesting,"ArgumentError"),"invalid argument - "+limit),randomInt())},TMP_Random_rand_9.$$arity=-1),nil&&"rand"}($nesting[0],0,$nesting)},Opal.modules["corelib/unsupported"]=function(Opal){var TMP_public_30,TMP_private_31,self=Opal.top,$nesting=[],nil=Opal.nil,$klass=(Opal.breaker,Opal.slice,Opal.klass),$module=Opal.module;Opal.add_stubs(["$raise","$warn","$%"]);var warnings={};function handle_unsupported_feature(message){switch(Opal.config.unsupported_features_severity){case"error":Opal.const_get_relative($nesting,"Kernel").$raise(Opal.const_get_relative($nesting,"NotImplementedError"),message);break;case"warning":!function(string){if(warnings[string])return;warnings[string]=!0,self.$warn(string)}(message)}}return function($base,$super,$parent_nesting){function $String(){}var TMP_String_$lt$lt_1,TMP_String_capitalize$B_2,TMP_String_chomp$B_3,TMP_String_chop$B_4,TMP_String_downcase$B_5,TMP_String_gsub$B_6,TMP_String_lstrip$B_7,TMP_String_next$B_8,TMP_String_reverse$B_9,TMP_String_slice$B_10,TMP_String_squeeze$B_11,TMP_String_strip$B_12,TMP_String_sub$B_13,TMP_String_succ$B_14,TMP_String_swapcase$B_15,TMP_String_tr$B_16,TMP_String_tr_s$B_17,TMP_String_upcase$B_18,self=$String=$klass($base,null,"String",$String),$nesting=(self.$$proto,[self].concat($parent_nesting)),ERROR="String#%s not supported. Mutable String methods are not supported in Opal.";Opal.defn(self,"$<<",TMP_String_$lt$lt_1=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("<<"))},TMP_String_$lt$lt_1.$$arity=-1),Opal.defn(self,"$capitalize!",TMP_String_capitalize$B_2=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("capitalize!"))},TMP_String_capitalize$B_2.$$arity=-1),Opal.defn(self,"$chomp!",TMP_String_chomp$B_3=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("chomp!"))},TMP_String_chomp$B_3.$$arity=-1),Opal.defn(self,"$chop!",TMP_String_chop$B_4=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("chop!"))},TMP_String_chop$B_4.$$arity=-1),Opal.defn(self,"$downcase!",TMP_String_downcase$B_5=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("downcase!"))},TMP_String_downcase$B_5.$$arity=-1),Opal.defn(self,"$gsub!",TMP_String_gsub$B_6=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("gsub!"))},TMP_String_gsub$B_6.$$arity=-1),Opal.defn(self,"$lstrip!",TMP_String_lstrip$B_7=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("lstrip!"))},TMP_String_lstrip$B_7.$$arity=-1),Opal.defn(self,"$next!",TMP_String_next$B_8=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("next!"))},TMP_String_next$B_8.$$arity=-1),Opal.defn(self,"$reverse!",TMP_String_reverse$B_9=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("reverse!"))},TMP_String_reverse$B_9.$$arity=-1),Opal.defn(self,"$slice!",TMP_String_slice$B_10=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("slice!"))},TMP_String_slice$B_10.$$arity=-1),Opal.defn(self,"$squeeze!",TMP_String_squeeze$B_11=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("squeeze!"))},TMP_String_squeeze$B_11.$$arity=-1),Opal.defn(self,"$strip!",TMP_String_strip$B_12=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("strip!"))},TMP_String_strip$B_12.$$arity=-1),Opal.defn(self,"$sub!",TMP_String_sub$B_13=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("sub!"))},TMP_String_sub$B_13.$$arity=-1),Opal.defn(self,"$succ!",TMP_String_succ$B_14=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("succ!"))},TMP_String_succ$B_14.$$arity=-1),Opal.defn(self,"$swapcase!",TMP_String_swapcase$B_15=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("swapcase!"))},TMP_String_swapcase$B_15.$$arity=-1),Opal.defn(self,"$tr!",TMP_String_tr$B_16=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("tr!"))},TMP_String_tr$B_16.$$arity=-1),Opal.defn(self,"$tr_s!",TMP_String_tr_s$B_17=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("tr_s!"))},TMP_String_tr_s$B_17.$$arity=-1),Opal.defn(self,"$upcase!",TMP_String_upcase$B_18=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),ERROR["$%"]("upcase!"))},TMP_String_upcase$B_18.$$arity=-1)}($nesting[0],0,$nesting),function($base,$parent_nesting){var TMP_Kernel_freeze_19,TMP_Kernel_frozen$q_20,self=$module($base,"Kernel"),ERROR=(self.$$proto,[self].concat($parent_nesting),"Object freezing is not supported by Opal");Opal.defn(self,"$freeze",TMP_Kernel_freeze_19=function(){return handle_unsupported_feature(ERROR),this},TMP_Kernel_freeze_19.$$arity=0),Opal.defn(self,"$frozen?",TMP_Kernel_frozen$q_20=function(){return handle_unsupported_feature(ERROR),!1},TMP_Kernel_frozen$q_20.$$arity=0)}($nesting[0],$nesting),function($base,$parent_nesting){var TMP_Kernel_taint_21,TMP_Kernel_untaint_22,TMP_Kernel_tainted$q_23,self=$module($base,"Kernel"),ERROR=(self.$$proto,[self].concat($parent_nesting),"Object tainting is not supported by Opal");Opal.defn(self,"$taint",TMP_Kernel_taint_21=function(){return handle_unsupported_feature(ERROR),this},TMP_Kernel_taint_21.$$arity=0),Opal.defn(self,"$untaint",TMP_Kernel_untaint_22=function(){return handle_unsupported_feature(ERROR),this},TMP_Kernel_untaint_22.$$arity=0),Opal.defn(self,"$tainted?",TMP_Kernel_tainted$q_23=function(){return handle_unsupported_feature(ERROR),!1},TMP_Kernel_tainted$q_23.$$arity=0)}($nesting[0],$nesting),function($base,$super,$parent_nesting){function $Module(){}var TMP_Module_public_24,TMP_Module_private_class_method_25,TMP_Module_private_method_defined$q_26,TMP_Module_private_constant_27,self=$Module=$klass($base,null,"Module",$Module);self.$$proto,[self].concat($parent_nesting);Opal.defn(self,"$public",TMP_Module_public_24=function($a_rest){var methods,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),methods=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)methods[$arg_idx-0]=arguments[$arg_idx];return 0===methods.length&&(this.$$module_function=!1),nil},TMP_Module_public_24.$$arity=-1),Opal.alias(self,"private","public"),Opal.alias(self,"protected","public"),Opal.alias(self,"nesting","public"),Opal.defn(self,"$private_class_method",TMP_Module_private_class_method_25=function($a_rest){return this},TMP_Module_private_class_method_25.$$arity=-1),Opal.alias(self,"public_class_method","private_class_method"),Opal.defn(self,"$private_method_defined?",TMP_Module_private_method_defined$q_26=function(obj){return!1},TMP_Module_private_method_defined$q_26.$$arity=1),Opal.defn(self,"$private_constant",TMP_Module_private_constant_27=function($a_rest){return nil},TMP_Module_private_constant_27.$$arity=-1),Opal.alias(self,"protected_method_defined?","private_method_defined?"),Opal.alias(self,"public_instance_methods","instance_methods"),Opal.alias(self,"public_method_defined?","method_defined?")}($nesting[0],0,$nesting),function($base,$parent_nesting){var TMP_Kernel_private_methods_28,self=$module($base,"Kernel");self.$$proto,[self].concat($parent_nesting);Opal.defn(self,"$private_methods",TMP_Kernel_private_methods_28=function($a_rest){return[]},TMP_Kernel_private_methods_28.$$arity=-1),Opal.alias(self,"private_instance_methods","private_methods")}($nesting[0],$nesting),function($base,$parent_nesting){var TMP_Kernel_eval_29,self=$module($base,"Kernel"),$nesting=(self.$$proto,[self].concat($parent_nesting));Opal.defn(self,"$eval",TMP_Kernel_eval_29=function($a_rest){return this.$raise(Opal.const_get_relative($nesting,"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+Opal.const_get_relative($nesting,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details.")},TMP_Kernel_eval_29.$$arity=-1)}($nesting[0],$nesting),Opal.defs(self,"$public",TMP_public_30=function($a_rest){return nil},TMP_public_30.$$arity=-1),Opal.defs(self,"$private",TMP_private_31=function($a_rest){return nil},TMP_private_31.$$arity=-1)},Opal.modules.opal=function(Opal){var self=Opal.top;Opal.nil,Opal.breaker,Opal.slice;return Opal.add_stubs(["$require"]),self.$require("opal/base"),self.$require("opal/mini"),self.$require("corelib/string/inheritance"),self.$require("corelib/string/encoding"),self.$require("corelib/math"),self.$require("corelib/complex"),self.$require("corelib/rational"),self.$require("corelib/time"),self.$require("corelib/struct"),self.$require("corelib/io"),self.$require("corelib/main"),self.$require("corelib/dir"),self.$require("corelib/file"),self.$require("corelib/process"),self.$require("corelib/random"),self.$require("corelib/unsupported")};
